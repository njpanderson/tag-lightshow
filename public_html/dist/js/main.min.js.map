{"version":3,"sources":["webpack:///main.min.js","webpack:///./~/njp-tag/src/assets/constants.js","webpack:///./~/njp-tag/src/lib/utils.js","webpack:///./~/njp-tag/src/components/views/Icon.jsx","webpack:///./~/svg-sprite-loader/lib/web/global-sprite.js","webpack:///./~/njp-tag/src/lib/DropZone.js","webpack:///./~/njp-tag/src/lib/Droplet.js","webpack:///./~/njp-tag/src/assets/common-prop-types.js","webpack:///./~/njp-tag/src/lib/FormField.js","webpack:///./~/njp-tag/src/lib/Template.js","webpack:///./~/njp-tag/src/state/actions.js","webpack:///./~/njp-tag/src/lib/Communicator.js","webpack:///./~/njp-tag/src/assets/default-state.js","webpack:///./~/njp-tag/src/assets/dialogs.js","webpack:///./~/njp-tag/src/components/dialogs/DialogHeading.jsx","webpack:///./~/njp-tag/src/components/views/Form.jsx","webpack:///./~/njp-tag/src/lib/Storage.js","webpack:///./~/njp-tag/src/lib/ajax.js","webpack:///./~/njp-tag/src/Index.js","webpack:///./~/njp-tag/src/assets/defaults.js","webpack:///./~/njp-tag/src/components/component-utils.jsx","webpack:///./~/njp-tag/src/components/containers/Canvas.jsx","webpack:///./~/njp-tag/src/components/containers/CanvasContainer.js","webpack:///./~/njp-tag/src/components/containers/DialogContainer.js","webpack:///./~/njp-tag/src/components/containers/HeaderContainer.js","webpack:///./~/njp-tag/src/components/containers/PalletContainer.js","webpack:///./~/njp-tag/src/components/containers/TemplateContainer.js","webpack:///./~/njp-tag/src/components/containers/TooltipContainer.js","webpack:///./~/njp-tag/src/components/dialogs/Dialog.jsx","webpack:///./~/njp-tag/src/components/dialogs/DialogEditDroplet.jsx","webpack:///./~/njp-tag/src/components/dialogs/DialogGeneral.jsx","webpack:///./~/njp-tag/src/components/views/Button.jsx","webpack:///./~/njp-tag/src/components/views/DropZone.jsx","webpack:///./~/njp-tag/src/components/views/DropZoneAttachment.jsx","webpack:///./~/njp-tag/src/components/views/DropZoneAttachmentList.jsx","webpack:///./~/njp-tag/src/components/views/DropZoneTarget.jsx","webpack:///./~/njp-tag/src/components/views/Droplet.jsx","webpack:///./~/njp-tag/src/components/views/Fieldset.jsx","webpack:///./~/njp-tag/src/components/views/Header.jsx","webpack:///./~/njp-tag/src/components/views/Pallet.jsx","webpack:///./~/njp-tag/src/components/views/Template.jsx","webpack:///./~/njp-tag/src/components/views/Toolbar.jsx","webpack:///./~/njp-tag/src/components/views/Tooltip.jsx","webpack:///./~/njp-tag/src/components/views/View.jsx","webpack:///./~/njp-tag/src/components/views/fields/DropDown.jsx","webpack:///./~/njp-tag/src/components/views/fields/TextField.jsx","webpack:///./~/njp-tag/src/lib/DragDrop.js","webpack:///./~/njp-tag/src/lib/PropTypes.js","webpack:///./~/njp-tag/src/lib/Tour.js","webpack:///./~/njp-tag/src/lib/UI.jsx","webpack:///./~/njp-tag/src/lib/polyfills.js","webpack:///./~/njp-tag/src/state/reducers.js","webpack:///./~/base64-js/index.js","webpack:///./~/buffer/index.js","webpack:///./~/njp-tag/src/styles/main.scss","webpack:///./~/css-loader/lib/css-base.js","webpack:///./~/ieee754/index.js","webpack:///./~/isarray/index.js","webpack:///./~/sniffr/src/sniffr.js","webpack:///./~/style-loader/addStyles.js","webpack:///./~/style-loader/fixUrls.js","webpack:///./~/njp-tag/src/styles/main.scss?cb57","webpack:///./~/njp-tag/src/img/svg/compass.svg","webpack:///./~/njp-tag/src/img/svg/lightbulb.svg","webpack:///./~/njp-tag/src/img/svg/loop-circular.svg","webpack:///./~/njp-tag/src/img/svg/media-play.svg","webpack:///./~/njp-tag/src/img/svg/puzzle-piece.svg","webpack:///./~/njp-tag/src/img/svg/resize-width.svg","webpack:///./~/njp-tag/src/img/svg/tag.svg","webpack:///./~/njp-tag/src/img/svg/text.svg","webpack:///./~/svg-sprite-loader/lib/web/sprite.js","webpack:///./src/js/tag.js"],"names":["webpackJsonp","module","exports","__webpack_require__","Object","defineProperty","value","actionTypes","UI_STATE","ZONE_ADD_ATTACHMENT","ZONE_EDIT_ATTACHMENT","ZONE_DETACH_ATTACHMENT","ZONE_CLEAR_ALL_ATTACHMENTS","SET_DIALOG_MODE","SET_ACTIVE_DROPLET","SET_TOUR_STAGE","SHOW_TOOLTIP","HIDE_TOOLTIP","SET_TOOLTIP_CONTENT","COMPLETE_FIRST_DROP","COMPLETE_LAST_DROP","RESET_APP","dialogModes","NONE","GENERAL","EDIT_DROPLET","TOUR","uiStates","INITIALISING","ACTIVE","messageCommands","RELOAD","RESET","DIALOG","DIALOG_CALLBACK","errorCodes","NOT_A_DROPLET","setLabels","attrs","tagName","innerHTML","_typeof","Symbol","iterator","obj","constructor","prototype","registerGeneralEvent","component","id","info","args","arguments","event","preventDefault","props","onEvent","apply","concat","Array","slice","call","bind","this","collectRef","collection","key","ref","refCollector","Error","validatePropKeys","require","a","length","hasOwnProperty","undefined","escapeRegExp","str","replace","rawMarkup","html","__html","checkStorage","type","storage","window","x","setItem","removeItem","e","structCompare","test","expected","result","isArray","_interopRequireDefault","__esModule","default","Icon","className","glyph","_react2","createElement","width","height","xlinkHref","GLYPHS","_react","TEXT","PUZZLE_PIECE","TAG","COMPASS","LOOP_CIRCULAR","MEDIA_PLAY","LIGHTBULB","RESIZE_WIDTH","defaultProps","propTypes","PropTypes","number","string","Sprite","globalSprite","document","body","elem","render","addEventListener","DropZone","_Droplet","_Droplet2","_constants","drop_zone_id","data","tag","attachmentId","maxAttachments","willAccept","droplet","store","state","current_attachments","getState","zones","attachments","attachmentIds","indexOf","fetchZone","markup","match","zone","_re_zones","exec","checkSyntax","d","syntax_re","re_structure","snytaxFault","re_id","re_qty","parseFloat","message","char","error","console","warn","Droplet","_PropTypes","_PropTypes2","_FormField","_FormField2","droplet_id","settings","_originalSettings","deepAssign","name","dropletType","init","_validateAndSet","_setExtraFields","values","context","_this","forEach","_validateEditableSet","prop","droplet_name","droplet_type","attribute","attrkey","prop_error","_assert","editableAttributes","_validateEditableItem","item","error_prefix","editableFieldTypes","validateDataAttribute","isRequired","notEmpty","arrayOf","object","editable","guidance","dialog","field","func","instanceOf","oneOfType","onChange","onDialogCancel","onDialogComplete","onButtonClick","lib","FormField","_setNameAndType","validTypes","_data","required","options","placeholder","label","_validateOptionsSetting","_validateValueSetting","maxlength","_ajax","_ajax2","_DropZone","_DropZone2","Template","parent","_parent","_drop_zones","_template","_max_zones","load","url","get","then","response","text","_markup","catch","create","entities","_createDropZones","counter","_createTemplateArray","drop_zones","template","node","sandbox","childNodes","nodeType","Node","TEXT_NODE","push","content","textContent","ELEMENT_NODE","dataset","renderAsHTML","_this2","attachment","_UI","getDropletById","renderDroplet","getDropZoneById","onElementRender","drop_zone","output","is_output","renderElementDroplet","renderTextDroplet","renderAttributeDroplet","attr","open","join","voidTags","close","i","charCodeAt","setUIState","ui_state","resetApp","completeFirstDrop","completeLastDrop","setActiveDroplet","setDialogMode","mode","zoneAddAttachment","attached","zoneEditAttachment","attachment_index","zoneDetachAttachment","zoneClearAllAttachments","setTourStage","stage","showTooltip","hideTooltip","setTooltipContent","title","iconGlyph","Communicator","origin","callbacks","_settings","_guests","_queue","message_index","_origin","_callbacks","assign","_receiveMessage","_sendPing","ping","_createMessage","opener","top","_post","_sendPong","pong","registerGuestAddress","dest","_setGuestData","timer","clearInterval","live","send","to","guest","_getGuestById","_generateSendId","_addToQueue","_sendQueue","_getGuestByNode","postMessage","originalEvent","source","location","_setGuestLive","originalMessage","host","prefix","performance","c","r","now","Math","random","toString","app","active","first_valid_drop","last_valid_drop","UI","overlay","active_droplet_id","tour_stage","tooltip","show","createDialogs","intro","resetState","buttons","dropletBadPlacement","firstDropletDrop","droplet_output","lastDropletDrop","tour","tourButtons","proceed","dropZone","selector","placement","modifiers","tourDialogModifiers","try_it","finish","arrow","element","end","_Icon","_utils","DialogHeading","icon","notes","note","index","dangerouslySetInnerHTML","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","target","descriptor","protoProps","staticProps","_Fieldset","_Fieldset2","_Button","_Button2","Form","_Component","formValues","getPrototypeOf","ui","refs","fields","fieldSets","set","elementChange","nodes","collectFieldRef","legend","onFieldUpdate","values_state","sets","setState","proxy_event","onSubmit","button","button_data","b","_this3","focus","_this4","click_function","blur","onCancel","onClick","collectButtonRef","action","componentOnSubmit","getButtons","Component","shape","array","JSON","localStorage","sessionStorage","Storage","storageEnabled","default_value","getItem","parse","stringify","_promise","_promise2","_superagent","_superagent2","_superagentPromise","_superagentPromise2","_redux","_UI2","_Template","_Template2","_Storage","_Storage2","_actions","_actions2","_reducers","_reducers2","_defaults","_defaults2","_defaultState","_defaultState2","_dialogs","_dialogs2","App","defaults","_init","dialogs","hideDialog","_refs","querySelector","mounted","components","pallet","_loadPallet","stored_state","_validate_state","_store","createStore","__REDUX_DEVTOOLS_EXTENSION__","actionsBlacklist","dispatch","Promise","reject","_requireUI","_showDialog","_hideDialog","startTour","_tour","start","reset","_comms","cmd","updateView","_updateView","classes","canvas","canvas_active","droplet_active","is_dragging","item_dragging","dropzone_target","dropzone_is_active","dropzone_is_target","text_element","hidden","button_animate","popup","inner","dropzone","possible_target","will_accept","will_decline","main","visible","container","heading","no_overlay","toolbar","separator","selectors","button_circle","initial_flex_basis","view","src","autoUpdate","warnOnBadPlacement","noticeOnFirstPlacement","noticeOnLastPlacement","method","showIntro","optionValueSet","_View","_View2","_TooltipContainer","_TooltipContainer2","_HeaderContainer","_HeaderContainer2","_TemplateContainer","_TemplateContainer2","_DialogContainer","_DialogContainer2","_PalletContainer","_PalletContainer2","Canvas","onMount","onAttachmentClick","onDropZoneEvent","onMouseEnter","onDragHandleEvent","onMouseLeave","onMouseDown","onMouseUp","onTouchStart","onTouchEnd","onDropletEvent","attacher","setUIPopperAttachment","any","state_tooltip","_reactRedux","_Canvas","_Canvas2","mapStateToProps","CanvasContainer","connect","_Dialog","_Dialog2","DialogContainer","_Header","_Header2","dialog_mode","HeaderContainer","_Pallet","_Pallet2","activeDropletId","mapDispatchToProps","PalletContainer","activeDropletID","TemplateContainer","_Tooltip","_Tooltip2","TooltipContainer","_DialogGeneral","_DialogGeneral2","_DialogEditDroplet","_DialogEditDroplet2","DialogComponents","Dialog","dialogRef","popper","destroy","_commonPropTypes","_DialogHeading","_DialogHeading2","_Form","_Form2","headingsByType","DialogEditDroplet","detachAttachment","action_data","droplet_values","zone_id","fieldset","fieldsets","zoneGetAttachment","getFieldsets","DialogGeneral","Button","_DropZoneAttachmentList","_DropZoneAttachmentList2","_DropZoneTarget","_DropZoneTarget2","DropZoneComponent","myrefs","classNames","data-id","data-attachment","activeAttachments","DropZoneAttachment","attachmentIndex","_DropZoneAttachment","_DropZoneAttachment2","DropZoneAttachmentList","attachmentClick","children","renderActiveAttachments","DropZoneTarget","dropletTypeToGlyphs","DropletComponent","tooltip_cache","collector","log","bool","_TextField","_TextField2","_DropDown","_DropDown2","FieldComponents","dropdown","Fieldset","_Toolbar","_Toolbar2","Header","Pallet","items","getItems","dropzone_id","isValidDrop","getDropZoneClassNames","getZoneAttachments","getInstruction","getTemplate","Toolbar","buttonRefs","tools","registerButtonRef","registerButtonClick","getToolbarButtons","Tooltip","updateAttachment","flip","View","DropDown","_componentUtils","TextField","maxLength","_interact","_interact2","interact","DragDrop","_canvas","drag","drop","addDragable","dragable","Dragable","setDragable","on","classList","add","remove","dragEnd","_createInstance","addDropable","dropable","Dropable","setDropable","relatedTarget","resetDragPosition","getDragInstance","resetPosition","find","_element","_x","_y","draggable","onDragMove","dx","dy","style","webkitTransform","transform","chain","propname","fn","assert","prop_id","stringNotEmpty","_chain","Tour","_progressTour","_setTourStage","_showTourElement","_reactDom","_popper","_popper2","_DragDrop","_DragDrop2","_Communicator","_Communicator2","_Tour","_Tour2","_CanvasContainer","_CanvasContainer2","dragdrop","droplets","vp_width","dragHandlePosition","dragHandleMoved","_handleAppMessage","libraryMethods","_setUIPopperAttachment","_isValidDrop","queues","dragdropBindings","_handleWindowResize","Provider","_refCollector","_mountEvent","_handleAttachmentClick","_handleDropletEvent","_handleDropZoneEvent","_handleDragHandleEvent","_handleButtonClick","_showCommunicatorDialog","resolve","setTimeout","inner_state","comms_id","_getReferencedElement","_queueDragDropBinding","_setDragDropBindings","contentWindow","view_frame","queue","_handleDropletDrop","accept","attachDropletToDropZone","_commitDropletIntoDropZone","_setTemplateViewRatio","drag_handle_x","offsetWidth","offsetLeft","max","documentElement","clientWidth","innerWidth","rect","circle","offset","pageX","pageY","getBoundingClientRect","leftScrolled","left","pageXOffset","topScrolled","pageYOffset","offsetHeight","ratio","flexBasis","abs","_this5","_postDropletAttachment","keys","notice","HTMLElement","varArgs","from","Function","curry","newstate","storeState","splice","dialog_id","new_state","current_state","combineReducers","placeHoldersCount","b64","len","byteLength","toByteArray","j","l","tmp","placeHolders","arr","Arr","L","revLookup","tripletToBase64","num","lookup","encodeChunk","uint8","fromByteArray","extraBytes","parts","maxChunkLength","len2","Uint8Array","code","global","typedArraySupport","foo","subarray","kMaxLength","Buffer","TYPED_ARRAY_SUPPORT","createBuffer","that","RangeError","arg","encodingOrOffset","allocUnsafe","ArrayBuffer","fromArrayBuffer","fromString","fromObject","assertSize","size","alloc","fill","encoding","checked","isEncoding","actual","write","fromArrayLike","byteOffset","isBuffer","copy","buffer","isnan","SlowBuffer","isView","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","n","m","bidirectionalIndexOf","val","dir","isNaN","arrayIndexOf","lastIndexOf","read","buf","indexSize","readUInt16BE","arrLength","valLength","String","foundIndex","found","hexWrite","Number","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","asciiToBytes","latin1Write","base64Write","ucs2Write","utf16leToBytes","base64","min","res","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","decodeCodePointsArray","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","ret","out","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","ieee754","writeDouble","base64clean","stringtrim","INVALID_BASE64_RE","trim","units","Infinity","leadSurrogate","byteArray","hi","lo","dst","INSPECT_MAX_BYTES","poolSize","_augment","species","allocUnsafeSlow","_isBuffer","compare","y","list","pos","swap16","swap32","swap64","equals","inspect","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","floor","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","cssWithMappingToString","useSourceMap","cssMapping","sourceMapping","toComment","sourceURLs","sources","map","sourceRoot","sourceMap","modules","mediaQuery","alreadyImportedModules","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","s","NaN","rt","LN2","Sniffr","propertyNames","propertyName","UNKNOWN","version","versionString","determineProperty","userAgent","properties","propertyMatcher","propertyRegex","propertyValue","parseVersion","split","versionPart","browser","os","device","sniff","userAgentString","navigator","addStylesToDom","styles","domStyle","stylesInDom","addStyle","listToStyles","newStyles","css","media","part","insertStyleElement","styleElement","head","getHeadElement","lastStyleElementInsertedAtTop","styleElementsInsertedAtTop","insertAt","nextSibling","insertBefore","appendChild","firstChild","removeStyleElement","parentNode","removeChild","idx","createStyleElement","attachTagAttrs","createLinkElement","linkElement","rel","setAttribute","update","singleton","styleIndex","singletonCounter","singletonElement","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","btoa","updateLink","href","applyToTag","newObj","styleSheet","cssText","replaceText","cssNode","createTextNode","autoFixUrls","convertToAbsoluteUrls","fixUrls","unescape","encodeURIComponent","blob","oldSrc","memoize","memo","isOldIE","getElementsByTagName","DEBUG","newList","mayRemove","textStore","replacement","filter","Boolean","baseUrl","protocol","currentDir","pathname","fullMatch","origUrl","unquotedOrigUrl","o","$1","newUrl","locals","sprite","arrayFrom","arrayLike","encodeUrlForEmbedding","baseUrlWorkAround","svg","currentUrlPrefix","newUrlPrefix","querySelectorAll","fixAttributesQuery","attributes","attributeName","localName","fixAttributes","URI_FUNC_REGEX","getAttribute","referenceUrl","importSvg","importNode","baseElement","currentUrl","urlPrefix","DEFAULT_URI_PREFIX","sniffr","currentPrefix","detail","xLinkHref","setAttributeNS","xLinkNS","FirefoxSymbolBugWorkaround","defs","moveToDefsElems","svgOpening","svgClosing","contentPlaceHolder","spriteTemplate","symbolTemplate","appendSymbol","wrapSVG","svgString","DOMParser","parseFromString","importedSvg","symbol","wrapper","prepend"],"mappings":"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J,EAAAn3B,EAAAsV,KAAAqoB,IAAA,EAAAmD,EAAA,GAAAxrB,KAAAqoB,IAAA,EAAA+C,GACAv7B,EAAA,IAIQu7B,GAAA,EAAWxK,EAAApF,EAAA5f,GAAA,IAAAimB,EAAAjmB,GAAA9H,EAAA+tB,GAAA,IAAAuJ,GAAA,GAInB,IAFAv7B,KAAAu7B,EAAAvJ,EACAyJ,GAAAF,EACQE,EAAA,EAAU1K,EAAApF,EAAA5f,GAAA,IAAA/L,EAAA+L,GAAA9H,EAAAjE,GAAA,IAAAy7B,GAAA,GAElB1K,EAAApF,EAAA5f,EAAA9H,IAAA,IAAA43B,IxD2kRS,CAEH,SAAUrhC,EAAQC,GyD/pRxB,GAAA4V,MAAiBA,QAEjB7V,GAAAC,QAAAyD,MAAAmC,SAAA,SAAA4tB,GACA,wBAAA5d,EAAAjS,KAAA6vB,KzDsqRS,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CACA,CAEH,SAAUzzB,EAAQC,I0DpxRxB,SAAAoV,GA2DA,QAAAosB,KACA,GAAA/oB,GAAA5U,IAEA49B,GAAAp2B,QAAA,SAAAq2B,GACAjpB,EAAAipB,IACA72B,KAAA82B,EACAC,WACAC,cAAAF,KAKA,QAAAG,GAAArpB,EAAAipB,EAAAK,GACAC,EAAAN,GAAAr2B,QAAA,SAAA4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","file":"main.min.js","sourcesContent":["webpackJsonp([0],[\n/* 0 */,\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */,\n/* 5 */,\n/* 6 */,\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n/**\n * @module assets/constants\n */\n\n/**\n * Action types\n * @private\n */\nvar actionTypes = exports.actionTypes = {\n\tUI_STATE: 'ui-state',\n\tZONE_ADD_ATTACHMENT: 'zone-add-attachment',\n\tZONE_EDIT_ATTACHMENT: 'zone-edit-attachment',\n\tZONE_DETACH_ATTACHMENT: 'zone-detach-attachment',\n\tZONE_CLEAR_ALL_ATTACHMENTS: 'zone-clear-all-attachments',\n\tSET_DIALOG_MODE: 'set-dialog-mode',\n\tSET_ACTIVE_DROPLET: 'set-active-droplet',\n\tSET_TOUR_STAGE: 'set-tour-stage',\n\tSHOW_TOOLTIP: 'show-tooltip',\n\tHIDE_TOOLTIP: 'hide-tooltip',\n\tSET_TOOLTIP_CONTENT: 'set-tooltip-content',\n\tCOMPLETE_FIRST_DROP: 'complete-first-drop',\n\tCOMPLETE_LAST_DROP: 'complete-last-drop',\n\tRESET_APP: 'reset-app'\n};\n\n/**\n * Dialog modes\n */\nvar dialogModes = exports.dialogModes = {\n\tNONE: 'none',\n\tGENERAL: 'general',\n\tEDIT_DROPLET: 'edit-droplet',\n\tTOUR: 'tour'\n};\n\nvar uiStates = exports.uiStates = {\n\tINITIALISING: 'initialising',\n\tACTIVE: 'active'\n};\n\nvar messageCommands = exports.messageCommands = {\n\tRELOAD: 'reload',\n\tRESET: 'reset',\n\tDIALOG: 'dialog',\n\tDIALOG_CALLBACK: 'dialog-callback'\n};\n\nvar errorCodes = exports.errorCodes = {\n\tNOT_A_DROPLET: 'A valid Droplet instance must be passed to DropZone#willAccept.'\n};\n\nvar setLabels = exports.setLabels = {\n\tvalue: 'Value',\n\tattrs: 'Attributes',\n\ttagName: 'Tag name',\n\tinnerHTML: 'HTML content'\n};\n\n/***/ }),\n/* 8 */,\n/* 9 */,\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar registerGeneralEvent = exports.registerGeneralEvent = function registerGeneralEvent(component, id, info) {\n\tvar args = arguments;\n\n\treturn function (event) {\n\t\tevent.preventDefault();\n\t\tif (typeof component.props.onEvent === 'function') {\n\t\t\tcomponent.props.onEvent.apply(component, [event, info, id].concat(Array.prototype.slice.call(args, 3)));\n\t\t}\n\t}.bind(this);\n};\n\nvar collectRef = exports.collectRef = function collectRef(props, collection, key) {\n\treturn function (ref) {\n\t\tif (typeof props.refCollector === 'function') {\n\t\t\tprops.refCollector(collection, ref, key);\n\t\t} else {\n\t\t\tthrow new Error('ref collection used but no collector has been set up for ' + collection + (key ? '/' + key : ''));\n\t\t}\n\t};\n};\n\n/**\n * Returns a function for validating specific keys within an object property.\n */\nvar validatePropKeys = exports.validatePropKeys = function validatePropKeys(require) {\n\treturn function (props, key, component) {\n\t\tvar a;\n\n\t\tfor (a = 0; a < require.length; a += 1) {\n\t\t\tif (!props[key].hasOwnProperty(require[a]) && props[key][require[a]] !== undefined) {\n\t\t\t\treturn new Error('Prop\t`' + key + '` does not contain definition `' + require[a] + '` in ' + component + ' component.');\n\t\t\t}\n\t\t}\n\t};\n};\n\n/**\n * Escapes a string for use as a match within a regex\n * @see http://stackoverflow.com/questions/3446170/escape-string-for-use-in-javascript-regex/6969486#6969486\n */\nvar escapeRegExp = exports.escapeRegExp = function escapeRegExp(str) {\n\treturn str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\$&');\n};\n\nvar rawMarkup = exports.rawMarkup = function rawMarkup(html) {\n\treturn { __html: html };\n};\n\n/**\n * from https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API/Using_the_Web_Storage_API.\n * Checks if localStorage works.\n * (localStorage can be disabled using security policies or private browsing modes)\n */\nvar checkStorage = exports.checkStorage = function checkStorage(type) {\n\ttry {\n\t\tvar storage = window[type],\n\t\t    x = '__tag_storage_test__';\n\t\tstorage.setItem(x, x);\n\t\tstorage.removeItem(x);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n\n/**\n * @description\n * Provides loose comparison of the keys of two objects.\n * If the value of a key is an array, the test object's key is also confirmed to be the same type.\n * If the alue of a key is an object, it is tested recursively.\n * @param {object} test - Test object\n * @param {object} expected - Expected result\n */\nvar structCompare = exports.structCompare = function structCompare(test, expected) {\n\tvar result = true,\n\t    key;\n\n\tif ((typeof test === 'undefined' ? 'undefined' : _typeof(test)) !== 'object' || (typeof expected === 'undefined' ? 'undefined' : _typeof(expected)) !== 'object') {\n\t\treturn false;\n\t}\n\n\tfor (key in expected) {\n\t\tif (expected.hasOwnProperty(key)) {\n\t\t\tif (_typeof(expected[key]) === 'object') {\n\t\t\t\tif (Array.isArray(expected[key])) {\n\t\t\t\t\t// expected value is an array\n\t\t\t\t\tif (!Array.isArray(test[key])) {\n\t\t\t\t\t\tresult = false;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// expect value is an object\n\t\t\t\t\tif (key in test) {\n\t\t\t\t\t\t// key exists in test\n\t\t\t\t\t\tresult = structCompare(test[key], expected[key]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// value is (probably) scalar\n\t\t\t\tif (!(key in test)) {\n\t\t\t\t\tresult = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// if the result is false at any point, just break here\n\t\tif (result === false) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn result;\n};\n\n/***/ }),\n/* 11 */,\n/* 12 */,\n/* 13 */,\n/* 14 */,\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.GLYPHS = undefined;\nexports.Icon = Icon;\n\nvar _react = __webpack_require__(3);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Icon glyphs available for use.\n * @property {string} TEXT\n * @property {string} PUZZLE_PIECE\n * @property {string} TAG\n * @property {string} COMPASS\n * @property {string} LOOP_CIRCULAR\n * @property {string} MEDIA_PLAY\n * @property {string} LIGHTBULB\n * @property {string} RESIZE_WIDTH\n */\nvar GLYPHS = exports.GLYPHS = {\n\tTEXT: __webpack_require__(295),\n\tPUZZLE_PIECE: __webpack_require__(292),\n\tTAG: __webpack_require__(294),\n\tCOMPASS: __webpack_require__(288),\n\tLOOP_CIRCULAR: __webpack_require__(290),\n\tMEDIA_PLAY: __webpack_require__(291),\n\tLIGHTBULB: __webpack_require__(289),\n\tRESIZE_WIDTH: __webpack_require__(293)\n}; /**\n    * @module components/views/Icon\n    */\nfunction Icon(props) {\n\tvar className = props.glyph.replace(/^#/, '');\n\n\treturn _react2.default.createElement(\n\t\t'svg',\n\t\t{ className: 'icon', width: props.width, height: props.height },\n\t\t_react2.default.createElement('use', { xlinkHref: props.glyph, className: className })\n\t);\n}\n\nIcon.defaultProps = {\n\twidth: 16,\n\theight: 16\n};\n\nIcon.propTypes = {\n\twidth: _react.PropTypes.number,\n\theight: _react.PropTypes.number,\n\tglyph: _react.PropTypes.string\n};\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Sprite = __webpack_require__(296);\nvar globalSprite = new Sprite();\n\nif (document.body) {\n  globalSprite.elem = globalSprite.render(document.body);\n} else {\n  document.addEventListener('DOMContentLoaded', function () {\n    globalSprite.elem = globalSprite.render(document.body);\n  }, false);\n}\n\nmodule.exports = globalSprite;\n\n\n/***/ }),\n/* 17 */,\n/* 18 */,\n/* 19 */,\n/* 20 */,\n/* 21 */,\n/* 22 */,\n/* 23 */,\n/* 24 */,\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _Droplet = __webpack_require__(26);\n\nvar _Droplet2 = _interopRequireDefault(_Droplet);\n\nvar _constants = __webpack_require__(7);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar DropZone,\n    drop_zone_id = 0;\n\n/**\n * @class\n */\nDropZone = function DropZone() {\n\tvar data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\tvar tag = arguments[1];\n\n\tthis.tag = tag;\n\tthis.id = 'drop_zone_' + ++drop_zone_id;\n\tthis.attachmentId = data.attachmentId;\n\tthis.maxAttachments = typeof data.maxAttachments !== 'undefined' ? data.maxAttachments : 1;\n};\n\nDropZone.prototype = {\n\t/**\n  * Test if the DropZone instance will accept a new droplet. The test looks at the\n  * maximum number of attachments and attachment eligibility based on attachmentId\n  */\n\twillAccept: function willAccept(droplet, store) {\n\t\tvar current_attachments = 0,\n\t\t    state;\n\n\t\tif (!(droplet instanceof _Droplet2.default)) {\n\t\t\tthrow new Error(_constants.errorCodes.NOT_A_DROPLET);\n\t\t}\n\n\t\tif (store) {\n\t\t\t// store exists - get state (and current number of attachments)\n\t\t\tstate = store.getState();\n\n\t\t\tif (state.zones[this.id] && state.zones[this.id].attachments) {\n\t\t\t\tcurrent_attachments = state.zones[this.id].attachments.length;\n\t\t\t}\n\t\t}\n\n\t\t// test attachment count\n\t\tif (this.maxAttachments !== 0 && current_attachments === this.maxAttachments) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// test attachmentId eligibility\n\t\tif (this.attachmentId !== '*' && droplet.attachmentIds.indexOf(this.attachmentId) === -1) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n};\n\n/**\n * Matches a drop zone within the supplied markup.\n * Can be used more than once on the same markup, and will internally increment through the data.\n */\nDropZone.fetchZone = function (markup) {\n\tvar match, zone;\n\n\t// keep looking for a valid drop zone - report on the bad ones\n\twhile ((match = DropZone._re_zones.exec(markup)) !== null) {\n\t\tif (match !== null && (zone = DropZone.checkSyntax(match[0]))) {\n\t\t\t// return it\n\t\t\treturn new DropZone({\n\t\t\t\tattachmentId: zone.attachmentId,\n\t\t\t\tmaxAttachments: zone.maxAttachments\n\t\t\t}, match[0]);\n\t\t}\n\t}\n\n\treturn null;\n};\n\n/**\n * Checks and reports on syntax errors within a supplied tag.\n */\nDropZone.checkSyntax = function (tag) {\n\tvar d;\n\n\tif ((d = tag.match(DropZone.syntax_re.re_structure)) !== null && d[1] !== null) {\n\t\t// check id portion\n\t\tif (!d[2] || !DropZone.syntax_re.re_id.test(d[2])) {\n\t\t\treturn DropZone.snytaxFault(d[1], 'Invalid syntax. ID must either start with a letter and only contain' + ' letters, numbers, and the undescore (_) character, or be an asterisk (*) ' + 'to specify any attachment ID.', d[2]);\n\t\t}\n\n\t\t// check quantity portion\n\t\tif (d[4] && (!DropZone.syntax_re.re_qty.test(d[4]) || d[4] < 1 || d[4] > 100)) {\n\t\t\treturn DropZone.snytaxFault(d[1], 'Invalid syntax. Quantity must be a valid number and between 1 and 100, ' + 'or the asterisk (*) character to specify unlimited up to the internal maximum.', d[4]);\n\t\t}\n\t} else {\n\t\treturn DropZone.snytaxFault(tag, 'Invalid syntax.');\n\t}\n\n\treturn {\n\t\tattachmentId: d[2],\n\t\tmaxAttachments: d[4] === '*' ? 0 : parseFloat(d[4]) || 1\n\t};\n};\n\nDropZone.snytaxFault = function (str, message, char) {\n\tvar error;\n\n\tif (char) {\n\t\t// escape % symbols\n\t\tstr = str.replace('%', '%%');\n\t\tchar = char.replace('%', '%%');\n\n\t\t// add colouring\n\t\tstr = str.replace(char, '%c$&%c');\n\n\t\terror = 'Error with syntax in tag \"' + str + '\": ' + message;\n\t\tconsole.warn(error, 'color: red;', 'color: inherit;');\n\t} else {\n\t\t// basic error with no colouring\n\t\terror = 'Error with syntax in tag \"' + str + '\": ' + message;\n\t\tconsole.warn(error);\n\t}\n\n\treturn false;\n};\n\n/**\n * Discriminating regex collection for testing drop zones with explicit syntax.\n */\nDropZone.syntax_re = {\n\tre_structure: /^\\{\\{\\s?(([^|\\s]+)(\\|([^|\\s]*))?)\\s?\\}\\}$/,\n\tre_id: /^[a-z*][a-z0-9_]*$/i,\n\tre_qty: /^[0-9*]+$/\n};\n\n/**\n * Inclusive regex for capturing individual zones with basic syntax\n */\nDropZone._re_zones = /\\{\\{\\s?(.+?)(\\|(.*?))?\\s?\\}\\}/gi;\n\nexports.default = DropZone;\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * A single `editable` defiition to produce one field.\n * @typedef EditableItemDefinition\n * @property {string} type - One of 'text', 'longtext', 'dropdown', 'checkbox', or 'radio'.\n * @property {bool} [required] - Whether the field must be filled in or not.\n * @property {mixed} [value] - Either an array of values, or a single string value.\n * @property {string} [placeholder] - In the case of a text value, this will show in place of empty values.\n * @property {string} [selected] - In the case of an array value, this set the value as 'selected'.\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _PropTypes = __webpack_require__(147);\n\nvar _PropTypes2 = _interopRequireDefault(_PropTypes);\n\nvar _FormField = __webpack_require__(34);\n\nvar _FormField2 = _interopRequireDefault(_FormField);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Droplet,\n    droplet_id = 0;\n\n/**\n * Individual droplet class. Handles validation of props in a similar fashion to\n * React, but (probably) with a lot less style.\n * @class\n */\nDroplet = function Droplet() {\n\tvar settings = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\tvar id = arguments[1];\n\n\tif (typeof id === 'number') {\n\t\tthis.id = 'droplet_' + id;\n\t} else {\n\t\tthis.id = 'droplet_' + ++droplet_id;\n\t}\n\n\tthis._originalSettings = Object.deepAssign({}, settings);\n\tthis.data = {};\n\tthis.name = null;\n\tthis.dropletType = null;\n\tthis.attachmentIds = [];\n\n\tthis.init();\n};\n\nDroplet.prototype = {\n\t/**\n  * Initialisation.\n  * @private\n  */\n\tinit: function init() {\n\t\t// set base properties for all droplets\n\t\tthis._validateAndSet(['name', 'dropletType', 'attachmentIds', 'editable', 'guidance'], this);\n\n\t\t// check droplet type is valid\n\t\tswitch (this.dropletType) {\n\t\t\tcase 'element':\n\t\t\tcase 'text':\n\t\t\tcase 'attribute':\n\t\t\t\tthis._setExtraFields();\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthrow new Error('Droplet type ' + this.dropletType + ' is invalid.');\n\t\t}\n\t},\n\n\t/**\n  * Registers type specific fields for validation.\n  * @private\n  */\n\t_setExtraFields: function _setExtraFields() {\n\t\tswitch (this.dropletType) {\n\t\t\tcase 'text':\n\t\t\t\tthis._validateAndSet(['value'], this.data);\n\t\t\t\tbreak;\n\n\t\t\tcase 'element':\n\t\t\t\tthis._validateAndSet(['attrs', 'tagName', 'innerHTML'], this.data);\n\t\t\t\tbreak;\n\n\t\t\tcase 'attribute':\n\t\t\t\tthis._validateAndSet(['key', 'value'], this.data);\n\t\t\t\tbreak;\n\t\t}\n\t},\n\n\t/**\n  * Validates (using the PropType functions) and sets the instance values\n  * given the defined properties.\n  */\n\t_validateAndSet: function _validateAndSet(values, context) {\n\t\tvar _this = this;\n\n\t\tvalues.forEach(function (value) {\n\t\t\tif (Droplet.PropTypes.hasOwnProperty(value)) {\n\t\t\t\tif (Droplet.PropTypes[value](_this._originalSettings[value], value, _this._originalSettings.name || null, _this._originalSettings.dropletType || null)) {\n\t\t\t\t\tcontext[value] = _this._originalSettings[value];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthrow new Error('Droplet property \"' + value + '\" definition does not exist.');\n\t\t\t}\n\t\t});\n\t}\n};\n\n/**\n * Designed as a PropType validator much like string, isRequired, arrayOf etc, this\n * function specifically tests the validity of the `editable` prop and its children.\n */\nDroplet._validateEditableSet = function (value, prop, droplet_name, droplet_type) {\n\tvar attribute,\n\t    key,\n\t    attrkey,\n\t    prop_error = 'Error in Droplet prop ' + droplet_name + ' (' + prop + '):';\n\n\t// allow undefined values\n\tif (typeof value === 'undefined') {\n\t\treturn true;\n\t}\n\n\t// testing the droplet value\n\tif (_PropTypes2.default._assert((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object', prop, 'Value must be an object.', droplet_name, droplet_type)) {\n\t\t// continue testing\n\t\tfor (key in value) {\n\t\t\t// testing individual attributes\n\t\t\tattribute = value[key];\n\n\t\t\t// attribute is unrecognised or not an object\n\t\t\tif (Droplet.editableAttributes.indexOf(key) === -1 || (typeof attribute === 'undefined' ? 'undefined' : _typeof(attribute)) !== 'object') {\n\t\t\t\tthrow new Error(prop_error + ' \"' + key + '\" is not an editable attribute or is of the wrong type');\n\t\t\t}\n\n\t\t\t// attribute is 'attrs', but is not an object of objects\n\t\t\tif (key === 'attrs') {\n\t\t\t\tfor (attrkey in attribute) {\n\t\t\t\t\tDroplet._validateEditableItem(attrkey, attribute[attrkey], prop_error);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tDroplet._validateEditableItem(key, attribute, prop_error);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn true;\n};\n\nDroplet._validateEditableItem = function (item, data, error_prefix) {\n\tvar error = error_prefix + item + ' - ';\n\n\tif ((typeof data === 'undefined' ? 'undefined' : _typeof(data)) !== 'object') {\n\t\tthrow new Error(error + 'not an EditableItemDefinition object');\n\t}\n\n\t// check \"type\" exists\n\tif (typeof data.type === 'undefined') {\n\t\tthrow new Error(error + 'doesnt contain type value');\n\t}\n\n\t// check \"type\" is valid\n\tif (Droplet.editableFieldTypes.indexOf(data.type) === -1) {\n\t\tthrow new Error(error + 'invalid type attribute \"' + data.type + '\"');\n\t}\n\n\t// run checks on the editable attributes that match FormField data attributes\n\t_FormField2.default.validateDataAttribute(data, item, error_prefix);\n\n\treturn true;\n};\n\n/**\n * Defines the possible prop types for Droplets. Some are always required.\n * @prop {string} value - Droplet 'value'. When used as an `attribute` type value, can be\n * set to `null` to define a value-less attribute.\n * @prop {string} name - Droplet name (used as a label).\n * @prop {string[]} attachmentIds - Drop zone attachment IDs.\n * @prop {string} dropletType - Droplet type. One of `element`, `text` or `attribute`.\n * @prop {object} [attrs] - Droplet attributes, in the case of the `element` type.\n * @prop {string} tagname - Droplet tagName attribute, i.e. the actual HTMLElement used.\n * Requred when type is `element`.\n * @prop {string} innerHTML - Droplet's innerHTML.\n * @prop {EditableItemDefinition} editable - Editable properties of `element` types. [add link to tutorial!].\n * @prop {string} key - Attribute keys (names) of `attribute` types.\n */\nDroplet.PropTypes = {\n\tvalue: _PropTypes2.default.string.isRequired,\n\tname: _PropTypes2.default.string.notEmpty.isRequired,\n\tattachmentIds: _PropTypes2.default.arrayOf.string.isRequired,\n\tdropletType: _PropTypes2.default.string.isRequired,\n\tattrs: _PropTypes2.default.object,\n\ttagName: _PropTypes2.default.string.notEmpty.isRequired,\n\tinnerHTML: _PropTypes2.default.string,\n\teditable: Droplet._validateEditableSet,\n\tkey: _PropTypes2.default.string.notEmpty.isRequired,\n\tguidance: _PropTypes2.default.string\n};\n\nDroplet.editableAttributes = ['value', 'attrs', 'tagName', 'innerHTML'];\n\nDroplet.editableFieldTypes = ['text', 'longtext', 'dropdown', 'checkbox', 'radio'];\n\nexports.default = Droplet;\n\n/***/ }),\n/* 27 */,\n/* 28 */,\n/* 29 */,\n/* 30 */,\n/* 31 */,\n/* 32 */,\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.dialog = exports.field = undefined;\n\nvar _react = __webpack_require__(3);\n\nvar _FormField = __webpack_require__(34);\n\nvar _FormField2 = _interopRequireDefault(_FormField);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar field = exports.field = {\n\trefCollector: _react.PropTypes.func,\n\tfield: _react.PropTypes.instanceOf(_FormField2.default).isRequired,\n\tvalue: _react.PropTypes.oneOfType([_react.PropTypes.string, _react.PropTypes.number, _react.PropTypes.arrayOf(_react.PropTypes.string)]).isRequired,\n\tonChange: _react.PropTypes.func\n};\n\nvar dialog = exports.dialog = {\n\tdata: _react.PropTypes.object.isRequired,\n\tsettings: _react.PropTypes.object.isRequired,\n\trefCollector: _react.PropTypes.func,\n\tonDialogCancel: _react.PropTypes.func,\n\tonDialogComplete: _react.PropTypes.func,\n\tonButtonClick: _react.PropTypes.func,\n\tlib: _react.PropTypes.object\n};\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/**\n * FormField data object\n * @typedef FormFieldData\n * @property {boolean} [required]\n * @property {string} [label]\n * @property {mixed} [options]\n * @property {string} [placeholder]\n * @property {mixed} [value]\n * @example\n * var field = FormField('fieldname', 'dropdown', {\n * \t'label': 'Please select a value',\n * \t'options': ['Value 1', 'Value 2', 'Value 3'],\n * \t'value': 'Value 2'\n * });\n */\n\n/**\n* This class exists almost entirely for data consistency.\n* @class\n* @param {string} name - Field name.\n* @param {string} type - Input type.\n* @param {FormFieldData} data - Field data.\n*/\nvar FormField = function FormField(name, type) {\n\tvar data = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n\tthis._setNameAndType(name, type);\n\tthis._validateAndSet(data);\n};\n\nFormField.prototype = {\n\t_setNameAndType: function _setNameAndType(name, type) {\n\t\tif (typeof name !== 'string') {\n\t\t\tthrow new Error('Invalid field name \"' + name + '\"');\n\t\t} else {\n\t\t\tthis.name = name;\n\t\t}\n\n\t\tif (typeof type !== 'string' || FormField.validTypes.indexOf(type) === -1) {\n\t\t\tthrow new Error('Invalid field type \"' + type + '\"');\n\t\t} else {\n\t\t\tthis.type = type;\n\t\t}\n\t},\n\n\t_validateAndSet: function _validateAndSet(data) {\n\t\tvar _data = Object.deepAssign({}, data);\n\n\t\tif (FormField.validateDataAttribute(_data, this.name, 'Error with FormField data attribute')) {\n\t\t\tthis.data = _data;\n\n\t\t\t// externalise remaining options\n\t\t\tthis.required = data.required;\n\t\t\tthis.options = data.options;\n\t\t\tthis.placeholder = data.placeholder;\n\t\t\tthis.label = data.label;\n\n\t\t\tthis.value = typeof data.value !== 'undefined' ? data.value : '';\n\t\t}\n\t}\n};\n\n/**\n * Ensures a form field's data attributes are valid\n */\nFormField.validateDataAttribute = function (data, item, error_prefix) {\n\tvar error = error_prefix + ' ' + item + ' - ';\n\n\t// check \"required\" is a boolean, if defined\n\tif (typeof data.required !== 'undefined' && typeof data.required !== 'boolean') {\n\t\tthrow new Error(error + '\"required\" attribute isnt a boolean true or false');\n\t}\n\n\t// check \"options\" is valid\n\tif (typeof data.options !== 'undefined') {\n\t\tFormField._validateOptionsSetting(data.options, error);\n\t}\n\n\t// check \"placeholder\" is valid\n\tif (typeof data.placeholder !== 'undefined' && typeof data.placeholder !== 'string') {\n\t\tthrow new Error(error + '\"placeholder\" attribute isnt a string');\n\t}\n\n\t// check \"value\" is valid\n\tif (typeof data.value !== 'undefined') {\n\t\tFormField._validateValueSetting(data.value, data.options, error);\n\t}\n\n\t// check \"label\" is valid\n\tif (typeof data.label !== 'undefined' && typeof data.label !== 'string') {\n\t\tthrow new Error(error + '\"label\" attribute isnt a string');\n\t}\n\n\t// check \"maxlength\" is valid\n\tif (typeof data.maxlength !== 'undefined' && (typeof data.maxlength !== 'number' || data.maxlength < 1)) {\n\t\tthrow new Error(error + '\"maxlength\" attribute isnt a number or above zero');\n\t}\n\n\treturn true;\n};\n\nFormField._validateOptionsSetting = function (options, error_prefix) {\n\tvar key,\n\t    a,\n\t    error = error_prefix + '\"options\" is of an unrecognised type';\n\n\tif (Array.isArray(options)) {\n\t\tfor (a = 0; a < options.length; a += 1) {\n\t\t\tif (typeof options[a] !== 'string') {\n\t\t\t\tthrow new Error(error);\n\t\t\t}\n\t\t}\n\t} else if ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object' && options !== null) {\n\t\tfor (key in options) {\n\t\t\tif (typeof key !== 'string' || typeof options[key] !== 'string') {\n\t\t\t\tthrow new Error(error + ' - object values must be a simple key/value set');\n\t\t\t}\n\t\t}\n\t} else if (options === null) {\n\t\tthrow new Error(error + ' - options cannot be null');\n\t}\n\n\treturn true;\n};\n\nFormField._validateValueSetting = function (value, options, error_prefix) {\n\tif (!Array.isArray(value) && typeof value !== 'string' && typeof value !== 'number') {\n\t\tthrow new Error(error_prefix + '\"value\" is of an unrecognised type');\n\t}\n\n\tif (typeof options !== 'undefined') {\n\t\t// validate against options\n\t\tif (Array.isArray(options) && options.indexOf(value) === -1 || (typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object' && !Array.isArray(options) && !options[value]) {\n\t\t\tthrow new Error(error_prefix + '\"value\" attribute contains an option that doesnt exist');\n\t\t}\n\t}\n};\n\nFormField.validTypes = ['text', 'longtext', 'dropdown', 'checkbox', 'radio'];\n\nexports.default = FormField;\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _ajax = __webpack_require__(78);\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _DropZone = __webpack_require__(25);\n\nvar _DropZone2 = _interopRequireDefault(_DropZone);\n\nvar _Droplet = __webpack_require__(26);\n\nvar _Droplet2 = _interopRequireDefault(_Droplet);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Template = function Template(parent) {\n\tvar settings = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\tthis._parent = parent;\n\tthis.settings = settings;\n\tthis._drop_zones = {};\n\tthis._template = [];\n\tthis._max_zones = 100;\n};\n\nTemplate.prototype = {\n\tload: function load(url) {\n\t\tvar _this = this;\n\n\t\treturn _ajax2.default.get(url).then(function (response) {\n\t\t\tif (response.text) {\n\t\t\t\t_this._markup = response.text;\n\t\t\t}\n\t\t}).catch(function (error) {\n\t\t\tthrow new Error(error);\n\t\t});\n\t},\n\n\tcreate: function create() {\n\t\tvar markup = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this._markup;\n\n\t\tif (typeof markup === 'undefined') {\n\t\t\tthrow new Error('Cannot call create() with no markup defined.');\n\t\t}\n\n\t\t// replace html with entities\n\t\tmarkup = Template.entities(markup);\n\n\t\treturn this._createDropZones(markup);\n\t},\n\n\t_createDropZones: function _createDropZones(markup) {\n\t\tvar zone,\n\t\t    counter = 0;\n\n\t\t// loop through markup finding drop zones\n\t\twhile ((zone = _DropZone2.default.fetchZone(markup)) !== null) {\n\t\t\tthis._drop_zones[zone.id] = zone;\n\t\t\tcounter += 1;\n\n\t\t\tif (counter === this._max_zones) {\n\t\t\t\tthrow new Error('Maximum number of zones in template reached (' + this._max_zones + ').');\n\t\t\t}\n\t\t}\n\n\t\t// loop through collected drop zones and replace tags in markup\n\t\tfor (zone in this._drop_zones) {\n\t\t\tmarkup = markup.replace(this._drop_zones[zone].tag, '<span' + ' data-id=\"' + this._drop_zones[zone].id + '\"' + ' data-attachment=\"' + this._drop_zones[zone].attachmentId + '\">' + '</span>');\n\t\t}\n\n\t\tthis._template = this._createTemplateArray(markup);\n\n\t\treturn {\n\t\t\tdrop_zones: this._drop_zones,\n\t\t\ttemplate: this._template\n\t\t};\n\t},\n\n\t_createTemplateArray: function _createTemplateArray(markup) {\n\t\tvar sandbox = document.createElement('div'),\n\t\t    data = [],\n\t\t    node,\n\t\t    a;\n\t\tsandbox.innerHTML = markup;\n\n\t\tfor (a = 0; node = sandbox.childNodes[a]; a += 1) {\n\t\t\tswitch (node.nodeType) {\n\t\t\t\tcase Node.TEXT_NODE:\n\t\t\t\t\tdata.push({\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\tcontent: node.textContent\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase Node.ELEMENT_NODE:\n\t\t\t\t\tdata.push({\n\t\t\t\t\t\ttype: 'dropzone',\n\t\t\t\t\t\tzone: this._drop_zones[node.dataset.id]\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn data;\n\t},\n\n\trenderAsHTML: function renderAsHTML(zones) {\n\t\tvar _this2 = this;\n\n\t\tvar html = '';\n\n\t\tthis._template.forEach(function (node) {\n\t\t\tif (node.type === 'text') {\n\t\t\t\t// plain text node\n\t\t\t\thtml += node.content;\n\t\t\t} else if (node.type === 'dropzone' && zones[node.zone.id]) {\n\t\t\t\t// drop zone with attachments\n\t\t\t\tzones[node.zone.id].attachments.forEach(function (attachment) {\n\t\t\t\t\tvar droplet = _this2._parent._UI.getDropletById(attachment.droplet_id),\n\t\t\t\t\t    data = Object.deepAssign({}, droplet.data, attachment.data);\n\n\t\t\t\t\thtml += Template.renderDroplet(droplet, data, _this2._parent._UI.getDropZoneById(node.zone.id), _this2.settings.onElementRender);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\treturn html;\n\t}\n};\n\nTemplate.renderDroplet = function (droplet, data, drop_zone) {\n\tvar is_output = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n\n\tvar output;\n\n\tif (!(droplet instanceof _Droplet2.default)) {\n\t\tthrow new Error('droplet argument must be a Droplet instance');\n\t}\n\n\tswitch (droplet.dropletType) {\n\t\tcase 'element':\n\t\t\toutput = Template.renderElementDroplet(data, droplet, drop_zone, is_output);\n\t\t\tbreak;\n\n\t\tcase 'text':\n\t\t\toutput = Template.renderTextDroplet(data, droplet, drop_zone, is_output);\n\t\t\tbreak;\n\n\t\tcase 'attribute':\n\t\t\toutput = Template.renderAttributeDroplet(data, droplet, drop_zone, is_output);\n\t\t\tbreak;\n\t}\n\n\treturn output;\n};\n\nTemplate.renderElementDroplet = function (data, droplet, drop_zone, is_output) {\n\t// TODO - make sure self-closing tags are correctly rendered\n\tvar attrs = [],\n\t    markup = {},\n\t    attr;\n\n\tmarkup.open = '<' + data.tagName;\n\n\tif (data.attrs) {\n\t\tfor (attr in data.attrs) {\n\t\t\tattrs.push(attr += '=\"' + Template.entities(data.attrs[attr]) + '\"');\n\t\t}\n\n\t\tif (attrs.length) {\n\t\t\tmarkup.open += ' ' + attrs.join(' ');\n\t\t}\n\t}\n\n\tif (data.innerHTML || Template.voidTags.indexOf(data.tagName) === -1) {\n\t\tmarkup.open += '>';\n\t\tmarkup.innerHTML = data.innerHTML || '';\n\t\tmarkup.close = '</' + data.tagName + '>';\n\t} else {\n\t\tmarkup.close = '/>';\n\t}\n\n\tmarkup = Template.onElementRender(markup, droplet, drop_zone, is_output);\n\n\treturn markup.open + (markup.innerHTML || '') + markup.close;\n};\n\nTemplate.renderTextDroplet = function (data, droplet, drop_zone, is_output) {\n\tvar value = Template.onElementRender(data.value, droplet, drop_zone, is_output);\n\n\treturn Template.entities(value);\n};\n\nTemplate.renderAttributeDroplet = function (data, droplet, drop_zone, is_output) {\n\tvar markup = {\n\t\tkey: data.key,\n\t\tvalue: data.value\n\t};\n\n\tmarkup = Template.onElementRender(markup, droplet, drop_zone, is_output);\n\n\treturn markup.key + '=\"' + Template.entities(markup.value) + '\"';\n};\n\nTemplate.entities = function (str) {\n\treturn str.replace(/[\\u00A0-\\u9999<>\\&]/gim, function (i) {\n\t\treturn '&#' + i.charCodeAt(0) + ';';\n\t});\n};\n\n/**\n * @param {object} markup - The current markup data as set by Template#renderDroplet.\n * @param {object} droplet - The Droplet being rendered.\n * @param {object} zone - The Drop Zone the Droplet is attached to.\n * @param {bool} is_output - See below.\n * @description\n * Receives element data from Droplets as attached to Drop Zones, as well as the\n * existing markup about to be rendered. The return value should equal the `markup`\n * argument sent but can be augmented to alter rendering.\n *\n * ## The `is_output` argument.\n * Rendering can take place in two forms: Either for the template display or within as\n * tooltips as visible source code, or within the view frame as part of an outputted page.\n * The `is_output` argument will be `false` in the former case and `true` in the latter.\n */\nTemplate.onElementRender = function () {\n\treturn arguments[0];\n};\n\n/**\n * From https://www.w3.org/TR/html/syntax.html#writing-html-documents-elements\n * This array is a list of tag considered to be \"void\" and have no closing tag.\n * All other tags can (and do) have closing tags when being rendered.\n */\nTemplate.voidTags = ['area', 'base', 'br', 'col', 'embed', 'hr', 'img', 'input', 'keygen', 'link', 'menuitem', 'meta', 'param', 'source', 'track', 'wbr'];\n\nexports.default = Template;\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _constants = __webpack_require__(7);\n\nexports.default = {\n\tsetUIState: function setUIState(ui_state) {\n\t\treturn {\n\t\t\ttype: _constants.actionTypes.UI_STATE,\n\t\t\tui_state: ui_state\n\t\t};\n\t},\n\n\tresetApp: function resetApp() {\n\t\treturn {\n\t\t\ttype: _constants.actionTypes.RESET_APP\n\t\t};\n\t},\n\n\tcompleteFirstDrop: function completeFirstDrop() {\n\t\treturn {\n\t\t\ttype: _constants.actionTypes.COMPLETE_FIRST_DROP\n\t\t};\n\t},\n\n\tcompleteLastDrop: function completeLastDrop() {\n\t\treturn {\n\t\t\ttype: _constants.actionTypes.COMPLETE_LAST_DROP\n\t\t};\n\t},\n\n\tsetActiveDroplet: function setActiveDroplet(droplet_id) {\n\t\treturn {\n\t\t\ttype: _constants.actionTypes.SET_ACTIVE_DROPLET,\n\t\t\tdroplet_id: droplet_id\n\t\t};\n\t},\n\n\tsetDialogMode: function setDialogMode(mode) {\n\t\tvar data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t\tvar onDialogComplete = arguments[2];\n\t\tvar onDialogCancel = arguments[3];\n\n\t\treturn {\n\t\t\ttype: _constants.actionTypes.SET_DIALOG_MODE,\n\t\t\tmode: mode,\n\t\t\tdata: data,\n\t\t\tonDialogComplete: onDialogComplete,\n\t\t\tonDialogCancel: onDialogCancel\n\t\t};\n\t},\n\n\tzoneAddAttachment: function zoneAddAttachment(id, droplet_id, attached, data) {\n\t\treturn {\n\t\t\ttype: _constants.actionTypes.ZONE_ADD_ATTACHMENT,\n\t\t\tid: id,\n\t\t\tdroplet_id: droplet_id,\n\t\t\tattached: attached,\n\t\t\tdata: data\n\t\t};\n\t},\n\n\tzoneEditAttachment: function zoneEditAttachment(id, attachment_index, data) {\n\t\treturn {\n\t\t\ttype: _constants.actionTypes.ZONE_EDIT_ATTACHMENT,\n\t\t\tid: id,\n\t\t\tattachment_index: attachment_index,\n\t\t\tdata: data\n\t\t};\n\t},\n\n\tzoneDetachAttachment: function zoneDetachAttachment(id, attachment_index) {\n\t\treturn {\n\t\t\ttype: _constants.actionTypes.ZONE_DETACH_ATTACHMENT,\n\t\t\tid: id,\n\t\t\tattachment_index: attachment_index\n\t\t};\n\t},\n\n\tzoneClearAllAttachments: function zoneClearAllAttachments() {\n\t\treturn {\n\t\t\ttype: _constants.actionTypes.ZONE_CLEAR_ALL_ATTACHMENTS\n\t\t};\n\t},\n\n\tsetTourStage: function setTourStage(stage) {\n\t\treturn {\n\t\t\ttype: _constants.actionTypes.SET_TOUR_STAGE,\n\t\t\tstage: stage\n\t\t};\n\t},\n\n\tshowTooltip: function showTooltip(attachment) {\n\t\tvar options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\treturn {\n\t\t\ttype: _constants.actionTypes.SHOW_TOOLTIP,\n\t\t\tattachment: attachment,\n\t\t\toptions: options\n\t\t};\n\t},\n\n\thideTooltip: function hideTooltip() {\n\t\treturn {\n\t\t\ttype: _constants.actionTypes.HIDE_TOOLTIP\n\t\t};\n\t},\n\n\tsetTooltipContent: function setTooltipContent(title, content, iconGlyph) {\n\t\treturn {\n\t\t\ttype: _constants.actionTypes.SET_TOOLTIP_CONTENT,\n\t\t\tcontent: content,\n\t\t\ttitle: title,\n\t\t\ticonGlyph: iconGlyph\n\t\t};\n\t}\n};\n\n/***/ }),\n/* 37 */,\n/* 38 */,\n/* 39 */,\n/* 40 */,\n/* 41 */,\n/* 42 */,\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar Communicator = function Communicator(id, origin) {\n\tvar callbacks = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n\tif (typeof id !== 'string') {\n\t\tthrow new Error('Please choose a string-based ID for the guest.');\n\t}\n\n\tif (typeof origin !== 'string') {\n\t\tthrow new Error('Please choose a string-based origin address.');\n\t}\n\n\tthis._settings = {\n\t\tname: 'tag-comm-data'\n\t};\n\n\tthis._guests = {};\n\tthis._queue = {};\n\tthis.id = id;\n\tthis.message_index = 0;\n\n\tthis._origin = origin;\n\tthis._callbacks = Object.assign({\n\t\tmessage: null\n\t}, callbacks);\n\n\twindow.addEventListener('message', this._receiveMessage.bind(this), false);\n\n\tthis._sendPing();\n};\n\nCommunicator.prototype = {\n\t/**\n  * Attempt to ping source window\n  */\n\t_sendPing: function _sendPing(node) {\n\t\tvar ping = this._createMessage(null, {\n\t\t\tping: this.id\n\t\t});\n\n\t\tif (!node) {\n\t\t\tif (window.opener) {\n\t\t\t\tnode = window.opener;\n\t\t\t} else if (window.top !== window) {\n\t\t\t\tnode = window.top;\n\t\t\t}\n\t\t}\n\n\t\tif (node) {\n\t\t\tthis._post(node, ping);\n\t\t}\n\t},\n\n\t_sendPong: function _sendPong(node) {\n\t\tvar pong = this._createMessage(null, {\n\t\t\tpong: this.id\n\t\t});\n\n\t\tthis._post(node, pong);\n\t},\n\n\t/**\n  * Registers a single guest for communication purposes.\n  * @param {string} id - Guest ID. Used when sending messages.\n  * @param {mixed} dest - Destination node.\n  */\n\tregisterGuestAddress: function registerGuestAddress(id, dest) {\n\t\tif (typeof dest === 'undefined') {\n\t\t\tthrow new Error('Cannot register address for ' + id + '. ' + 'A guest address DOM node, window or frame must be defined.');\n\t\t}\n\n\t\tif (!('postMessage' in dest)) {\n\t\t\tthrow new Error('Communicator cannot send messages to destination. Please choose an HTMLElement ' + 'that supports the postMessage method');\n\t\t}\n\n\t\tif (typeof id !== 'string') {\n\t\t\tthrow new Error('Please choose a string-based ID for the guest.');\n\t\t}\n\n\t\t// register local address for guest\n\t\tthis._setGuestData(id, {\n\t\t\tid: id,\n\t\t\tnode: dest\n\t\t});\n\n\t\t// start timer\n\t\tif (this.timer) {\n\t\t\twindow.clearInterval(this.timer);\n\t\t}\n\t},\n\n\t/**\n  * Sets or replaces the guest data.\n  * @param {string} id - Guest ID.\n  * @param {object} data - Guest data.\n  * @private\n  */\n\t_setGuestData: function _setGuestData(id, data) {\n\t\tif (!this._guests[id]) {\n\t\t\tthis._guests[id] = {\n\t\t\t\tlive: false,\n\t\t\t\tnode: null\n\t\t\t};\n\t\t}\n\n\t\tObject.assign(this._guests[id], data);\n\t},\n\n\t/**\n  * @param {string} to - Guest ID, as stored.\n  * @param {mixed} message - Any JS compatible data to send as a message.\n  * @param {string} id - Add a message ID to allow the recipient to prevent race conditions.\n  * @description\n  * Sends a message to the defined guest.\n  * If no ID is defined, one will be generated.\n  * @returns {string} The ID of the message as defined or generated.\n  */\n\tsend: function send(to, message) {\n\t\tvar id = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n\t\tvar guest = this._getGuestById(to);\n\n\t\tid = id || this._generateSendId(to);\n\n\t\tif (guest && guest.live) {\n\t\t\t// post message immediately\n\t\t\tthis._post(to, this._createMessage(message, {}, id));\n\t\t} else {\n\t\t\t// queue message for posting\n\t\t\tthis._addToQueue(to, message, id);\n\t\t}\n\n\t\treturn id;\n\t},\n\n\t/**\n  * Adds a message to the local 'outbox' for the guest (by ID).\n  */\n\t_addToQueue: function _addToQueue(to, message, id) {\n\t\tif (!this._queue[to]) {\n\t\t\tthis._queue[to] = [];\n\t\t}\n\n\t\tthis._queue[to].push({\n\t\t\tmessage: message,\n\t\t\tid: id\n\t\t});\n\t},\n\n\t_sendQueue: function _sendQueue(to) {\n\t\tvar a;\n\n\t\tif (this._queue[to] && this._guests[to]) {\n\t\t\t// send messages in the order they were queued\n\t\t\tfor (a = 0; a < this._queue[to].length; a += 1) {\n\t\t\t\tthis._post(this._guests[to].node, this._createMessage(this._queue[to][a].message, {}, this._queue[to][a].id));\n\t\t\t}\n\n\t\t\t// clear queue for this recipient\n\t\t\tthis._queue[to] = [];\n\t\t}\n\t},\n\n\t/**\n  * Gets a communicator guest by its ID, or returns `null`.\n  * @returns {mixed} Guest data, or `null`.\n  * @private\n  */\n\t_getGuestById: function _getGuestById(id) {\n\t\treturn this._guests[id] || null;\n\t},\n\n\t/**\n  * Get a guest by known node (i.e. that registered in `this._guests`)\n  * @private\n  */\n\t_getGuestByNode: function _getGuestByNode(node) {\n\t\tvar id;\n\n\t\tfor (id in this._guests) {\n\t\t\tif (this._guests.hasOwnProperty(id) && this._guests[id].node === node) {\n\t\t\t\treturn this._getGuestById(id);\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t},\n\n\t/**\n  * Actually posts the message to the destination.\n  * @param {string} to - Guest ID.\n  * @param {mixed} message - Any JS compatible data to send as a message.\n  * @private\n  */\n\t_post: function _post(to, message) {\n\t\tvar guest, node;\n\n\t\tif (typeof to === 'string') {\n\t\t\tguest = this._getGuestById(to);\n\n\t\t\tif (!guest.node) {\n\t\t\t\tthrow new Error('Cannot communicate with guest \"' + to + '\". Has its Node address been registered?');\n\t\t\t}\n\n\t\t\tnode = guest.node;\n\t\t} else {\n\t\t\tnode = to;\n\t\t}\n\n\t\tnode.postMessage(message, this._origin);\n\t},\n\n\t/**\n  * Invoked when a live message is received.\n  * @private\n  */\n\t_receiveMessage: function _receiveMessage(event) {\n\t\tvar origin = event.origin || event.originalEvent.origin,\n\t\t    source = event.source || event.originalEvent.source,\n\t\t    message = event.data,\n\t\t    guest;\n\n\t\tif (origin !== location.origin) return;\n\n\t\tif ((message.ping || message.pong) && this._getGuestByNode(source)) {\n\t\t\t// received a ping/pong from valid source\n\t\t\tguest = message.ping || message.pong;\n\n\t\t\tthis._setGuestLive(guest);\n\t\t\tthis._sendQueue(guest);\n\n\t\t\tif (message.ping) {\n\t\t\t\t// pong back a ping (don't pong a pong or we'll be here forever)\n\t\t\t\tthis._sendPong(source);\n\t\t\t}\n\t\t}\n\n\t\tif (this._callbacks.message && message.originalMessage) {\n\t\t\tthis._callbacks.message(message.originalMessage, message.id);\n\t\t}\n\t},\n\n\t_setGuestLive: function _setGuestLive(id) {\n\t\tthis._setGuestData(id, {\n\t\t\tlive: true\n\t\t});\n\t},\n\n\t_createMessage: function _createMessage(message, data, id) {\n\t\treturn Object.assign({}, data, {\n\t\t\thost: this.id,\n\t\t\tid: id,\n\t\t\toriginalMessage: message\n\t\t});\n\t},\n\n\t_generateSendId: function _generateSendId(prefix) {\n\t\tif (window.performance && 'now' in window.performance) {\n\t\t\treturn prefix + '-xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n\t\t\t\tvar r = (window.performance.now() + Math.random() * 16) % 16 | 0;\n\t\t\t\treturn (c === 'x' ? r : r & 0x3 | 0x8).toString(16);\n\t\t\t});\n\t\t} else {\n\t\t\treturn prefix + '-' + this.message_index++;\n\t\t}\n\t}\n};\n\nexports.default = Communicator;\n\n/***/ }),\n/* 44 */,\n/* 45 */,\n/* 46 */,\n/* 47 */,\n/* 48 */,\n/* 49 */,\n/* 50 */,\n/* 51 */,\n/* 52 */,\n/* 53 */,\n/* 54 */,\n/* 55 */,\n/* 56 */,\n/* 57 */,\n/* 58 */,\n/* 59 */,\n/* 60 */,\n/* 61 */,\n/* 62 */,\n/* 63 */,\n/* 64 */,\n/* 65 */,\n/* 66 */,\n/* 67 */,\n/* 68 */,\n/* 69 */,\n/* 70 */,\n/* 71 */,\n/* 72 */,\n/* 73 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _constants = __webpack_require__(7);\n\n// default state for...\nexports.default = {\n\t// general application\n\tapp: {\n\t\tui_state: _constants.uiStates.INITIALISING,\n\t\tactive: false,\n\t\tfirst_valid_drop: false,\n\t\tlast_valid_drop: false\n\t},\n\n\t// active zones and current attachments\n\tzones: {},\n\n\t// UI states - do not persist\n\tUI: {\n\t\t// the currently active dialog and its data\n\t\tdialog: {\n\t\t\tmode: _constants.dialogModes.NONE,\n\t\t\tdata: null,\n\t\t\tonDialogComplete: null,\n\t\t\tonDialogCancel: null,\n\t\t\toverlay: true,\n\t\t\tattachment: null,\n\t\t\tid: ''\n\t\t},\n\n\t\t// the currently active droplet (i.e. the one that will be \"dropped\" when a\n\t\t// drop zone is next clicked)\n\t\tactive_droplet_id: '',\n\n\t\t// stage the tour is at (from 1 - dialogs.tour.length)\n\t\ttour_stage: null,\n\n\t\ttooltip: {\n\t\t\tshow: false,\n\t\t\tattachment: null,\n\t\t\toptions: null,\n\t\t\ttitle: '',\n\t\t\ticonGlyph: '',\n\t\t\tcontent: ''\n\t\t}\n\t}\n};\n\n/***/ }),\n/* 74 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = createDialogs;\nvar tourDialogModifiers = {\n\tarrow: {\n\t\telement: '.arrow'\n\t}\n};\n\nvar tourButtons = {\n\tproceed: [{\n\t\ttype: 'cancel',\n\t\tlabel: 'Close'\n\t}, {\n\t\ttype: 'submit',\n\t\tlabel: 'Continue'\n\t}],\n\ttry_it: [{\n\t\ttype: 'cancel',\n\t\tlabel: 'Close'\n\t}, {\n\t\ttype: 'pause',\n\t\tlabel: 'Try it out'\n\t}, {\n\t\ttype: 'submit',\n\t\tlabel: 'Continue'\n\t}],\n\tend: [{\n\t\ttype: 'submit',\n\t\tlabel: 'Finish tour'\n\t}]\n};\n\nfunction createDialogs(settings) {\n\treturn {\n\t\tintro: {\n\t\t\ttitle: 'Welcome to <span class=\"logo\">&lt;<b>Tag</b>&gt;</span>!',\n\t\t\tmessage: ['Tag is an app designed to explain how web pages are constructed.', 'If you are new to tag, you can use the Tour button in the toolbar.', 'Otherwise, just click OK and get creating!']\n\t\t},\n\t\tresetState: {\n\t\t\ttitle: 'Reset Tag',\n\t\t\tmessage: ['Are you sure you want to go back to the beginning?', 'All of your current work will be cleared.'],\n\t\t\tbuttons: [{\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: 'Cancel'\n\t\t\t}, {\n\t\t\t\ttype: 'submit',\n\t\t\t\tclassName: 'danger',\n\t\t\t\tlabel: 'Clear my work'\n\t\t\t}]\n\t\t},\n\t\tdropletBadPlacement: {\n\t\t\ttitle: 'Oops!',\n\t\t\tmessage: ['Almost there, but the Droplet youve chosen doesnt go here.', 'Try again and see if you can find the correct place.', 'Remember, the target will be <span class=\"drop-zone accept\"><span class=\"target\"><b>green</b></span></span> when you can place the Droplet.']\n\t\t},\n\t\tfirstDropletDrop: function firstDropletDrop(droplet_output) {\n\t\t\treturn {\n\t\t\t\ttitle: 'Well done!',\n\t\t\t\tmessage: ['<code>' + droplet_output + '</code>', 'Youve placed your <b>very first</b> Droplet onto the Template. Hurrah!', 'Press the <span class=\"pseudo-button run\"><svg class=\"icon\" width=\"14\" height=\"14\"><use xlink:href=\"#icon-media-play\"></use></svg>Run</span> button to see how it looks.']\n\t\t\t};\n\t\t},\n\t\tlastDropletDrop: {\n\t\t\ttitle: 'Well done!',\n\t\t\tmessage: ['Youve placed at <b>least one Droplet</b> on every target in the template. Yippee!', 'Why not try the <span class=\"pseudo-button run\"><svg class=\"icon\" width=\"14\" height=\"14\"><use xlink:href=\"#icon-media-play\"></use></svg>Run</span> button to see how it looks?']\n\t\t},\n\t\ttour: [{\n\t\t\ttitle: 'Welcome to <span class=\"logo\">&lt;<b>Tag</b>&gt;</span>!',\n\t\t\tmessage: ['Tag is an app designed to explain how web pages are constructed.', 'The idea is simple: Place <b>elements</b> onto the <b>template</b>, and then use the ' + '<span class=\"pseudo-button run\"><svg class=\"icon\" width=\"14\" height=\"14\"><use xlink:href=\"#icon-media-play\"></use></svg>Run</span> button to see how the page will look in the <b>view</b>.', 'Some parts of the tour will let you try things out before moving on. If you want to, use the <span class=\"pseudo-button\">Try it out</span> button when you see it, then use <span class=\"pseudo-button\"><svg class=\"icon\" width=\"14\" height=\"14\"><use xlink:href=\"#icon-compass\"></use></svg>Continue tour</span> to go back to the tour.'],\n\t\t\tbuttons: tourButtons.proceed\n\t\t}, {\n\t\t\ttitle: 'The template',\n\t\t\tmessage: ['This is the template. It contains the source code for your web page, and is where youll add snippets of code.', 'Add elements to the <span class=\"drop-zone\"><span class=\"target\"><b>' + settings.dropZone.label + '</b></span></span> targets to construct the page.'],\n\t\t\toverlay: false,\n\t\t\tattachment: {\n\t\t\t\tselector: '.main > .template',\n\t\t\t\toptions: {\n\t\t\t\t\tplacement: 'right',\n\t\t\t\t\tmodifiers: tourDialogModifiers\n\t\t\t\t}\n\t\t\t},\n\t\t\tbuttons: tourButtons.proceed\n\t\t}, {\n\t\t\ttitle: 'The pallet',\n\t\t\tmessage: ['This is the pallet. It contains Droplets, which can be added to the template above.'],\n\t\t\toverlay: false,\n\t\t\tattachment: {\n\t\t\t\tselector: 'section.pallet',\n\t\t\t\toptions: {\n\t\t\t\t\tplacement: 'top',\n\t\t\t\t\tmodifiers: tourDialogModifiers\n\t\t\t\t}\n\t\t\t},\n\t\t\tbuttons: tourButtons.proceed\n\t\t}, {\n\t\t\ttitle: 'Droplet',\n\t\t\tmessage: ['This is a Droplet. It can be added to the template above.', 'Certain <span class=\"drop-zone\"><span class=\"target\"><b>' + settings.dropZone.label + '</b></span></span> targets only allow certain Droplets to be added to them.', 'When a target goes green <span class=\"drop-zone accept\"><span class=\"target\"><b>' + settings.dropZone.label + '</b></span></span>, it means it can accept the Droplet you have chosen, or <span class=\"drop-zone decline\"><span class=\"target\"><b>' + settings.dropZone.label + '</b></span></span> if the Droplet cant be placed there.', 'Click on a Droplet and then click on one of the <span class=\"drop-zone\"><span class=\"target\"><b>' + settings.dropZone.label + '</b></span></span> targets in the template to attach it.'],\n\t\t\toverlay: false,\n\t\t\tattachment: {\n\t\t\t\tselector: 'section.pallet .droplet:first-child',\n\t\t\t\toptions: {\n\t\t\t\t\tplacement: 'top',\n\t\t\t\t\tmodifiers: tourDialogModifiers\n\t\t\t\t}\n\t\t\t},\n\t\t\tbuttons: tourButtons.try_it\n\t\t}, {\n\t\t\ttitle: 'The view',\n\t\t\tmessage: ['This is the view. It will show you how the page looks after running the code!', 'Use the <span class=\"pseudo-button run\"><svg class=\"icon\" width=\"14\" height=\"14\"><use xlink:href=\"#icon-media-play\"></use></svg>Run</span> button to update the view'],\n\t\t\toverlay: false,\n\t\t\tattachment: {\n\t\t\t\tselector: 'section.view',\n\t\t\t\toptions: {\n\t\t\t\t\tplacement: 'left',\n\t\t\t\t\tmodifiers: tourDialogModifiers\n\t\t\t\t}\n\t\t\t},\n\t\t\tbuttons: tourButtons.try_it\n\t\t}, {\n\t\t\ttitle: 'All done!',\n\t\t\tmessage: ['Once youve used the <span class=\"pseudo-button run\"><svg class=\"icon\" width=\"14\" height=\"14\"><use xlink:href=\"#icon-media-play\"></use></svg>Run</span> button, the view has updated and your last change should now be showing here!'],\n\t\t\toverlay: false,\n\t\t\tattachment: {\n\t\t\t\tselector: 'section.view',\n\t\t\t\toptions: {\n\t\t\t\t\tplacement: 'left',\n\t\t\t\t\tmodifiers: tourDialogModifiers\n\t\t\t\t}\n\t\t\t},\n\t\t\tbuttons: tourButtons.finish\n\t\t}]\n\t};\n};\n\n/***/ }),\n/* 75 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _react = __webpack_require__(3);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _Icon = __webpack_require__(15);\n\nvar _utils = __webpack_require__(10);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar DialogHeading = function DialogHeading(props) {\n\tvar notes = [],\n\t    icon;\n\n\tprops.notes.forEach(function (note, index) {\n\t\treturn notes.push(_react2.default.createElement('p', { key: 'note-' + index,\n\t\t\tdangerouslySetInnerHTML: (0, _utils.rawMarkup)(note) }));\n\t});\n\n\tif (props.iconGlyph) {\n\t\ticon = _react2.default.createElement(_Icon.Icon, { glyph: props.iconGlyph });\n\t}\n\n\treturn _react2.default.createElement(\n\t\t'div',\n\t\t{ className: props.className },\n\t\t_react2.default.createElement(\n\t\t\t'h2',\n\t\t\tnull,\n\t\t\ticon,\n\t\t\t_react2.default.createElement('span', { dangerouslySetInnerHTML: (0, _utils.rawMarkup)(props.title) })\n\t\t),\n\t\tnotes\n\t);\n};\n\nDialogHeading.propTypes = {\n\ticonGlyph: _react.PropTypes.string,\n\tclassName: _react.PropTypes.string.isRequired,\n\ttitle: _react.PropTypes.string.isRequired,\n\tnotes: _react.PropTypes.arrayOf(_react.PropTypes.string)\n};\n\nexports.default = DialogHeading;\n\n/***/ }),\n/* 76 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(3);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _Fieldset = __webpack_require__(137);\n\nvar _Fieldset2 = _interopRequireDefault(_Fieldset);\n\nvar _Button = __webpack_require__(131);\n\nvar _Button2 = _interopRequireDefault(_Button);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @typedef FormOnSubmit\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @param {object} formValues - the current values of the form elements, as an object.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n/**\n * @typedef FormFieldSets\n * @description\n * An array of fieldsets  each item of which contains an object defining a\n * single fieldset. See {@link FormFieldset}.\n * @example\n * var fieldsets = [\n * \t{@link FormFieldSet}...\n * ];\n */\n\n/**\n * An object defining a single fieldset.\n * @typedef FormFieldSet\n * @property {string} key - Unique key value.\n * @property {string} legend - Legend label.\n * @property {object} fields - Fields within the fieldset. The keys of which\n * should represent the name of the field, with the values being one of\n * {@link FormField} each.\n * @example\n * var fieldset = [\n * \t{@link FormField}...\n * ]\n */\n\n/**\n * @typedef FormButton\n * @property {string} type - Either 'cancel', 'submit' or a custom type.\n * @property {string} label - Button label.\n * @property {object} data - Data sent as `data` to the form onSubmit prop.\n * @property {object} className - Extra class name(s) for the button.\n */\n\n\n/**\n * @description\n * Takes a form specification and produces an HTML form.\n * See {@link Form.propTypes} for more information\n */\nvar Form = function (_Component) {\n\t_inherits(Form, _Component);\n\n\tfunction Form(props) {\n\t\t_classCallCheck(this, Form);\n\n\t\tvar formValues = {};\n\n\t\tvar _this = _possibleConstructorReturn(this, (Form.__proto__ || Object.getPrototypeOf(Form)).call(this, props));\n\n\t\t_this.ui = {\n\t\t\trefs: {\n\t\t\t\tbuttons: {},\n\t\t\t\tfields: {}\n\t\t\t}\n\t\t};\n\n\t\t// set default state for fields based on original values\n\t\tif (_this.props.fieldSets) {\n\t\t\t_this.props.fieldSets.forEach(function (set) {\n\t\t\t\tformValues[set.key] = {};\n\n\t\t\t\tset.fields.forEach(function (field) {\n\t\t\t\t\treturn formValues[set.key][field.name] = field.value;\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\t// set default form value state\n\t\t_this.state = {\n\t\t\tformValues: formValues\n\t\t};\n\n\t\t// bind functions for events\n\t\t_this.elementChange = _this.elementChange.bind(_this);\n\t\treturn _this;\n\t}\n\n\t_createClass(Form, [{\n\t\tkey: 'valueSet',\n\t\tvalue: function valueSet(values, node) {\n\t\t\tvar nodes = [],\n\t\t\t    key;\n\n\t\t\tif (Array.isArray(values)) {\n\t\t\t\tvalues.forEach(function (value) {\n\t\t\t\t\tnodes.push(_react2.default.createElement(\n\t\t\t\t\t\t'node',\n\t\t\t\t\t\t{ value: value },\n\t\t\t\t\t\tvalue\n\t\t\t\t\t));\n\t\t\t\t});\n\t\t\t} else if ((typeof values === 'undefined' ? 'undefined' : _typeof(values)) === 'object') {\n\t\t\t\tfor (key in values) {\n\t\t\t\t\tnodes.push(_react2.default.createElement(\n\t\t\t\t\t\t'node',\n\t\t\t\t\t\t{ value: key },\n\t\t\t\t\t\tvalues[key]\n\t\t\t\t\t));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn nodes;\n\t\t}\n\t}, {\n\t\tkey: 'fieldSets',\n\t\tvalue: function fieldSets() {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar output = [];\n\n\t\t\tif (this.props.fieldSets) {\n\t\t\t\tthis.props.fieldSets.forEach(function (set) {\n\t\t\t\t\tvar key = 'fieldset-' + set.key;\n\n\t\t\t\t\toutput.push(_react2.default.createElement(_Fieldset2.default, {\n\t\t\t\t\t\tkey: key,\n\t\t\t\t\t\trefCollector: _this2.collectFieldRef.bind(_this2),\n\t\t\t\t\t\tset: set.key,\n\t\t\t\t\t\tfields: set.fields,\n\t\t\t\t\t\tlegend: set.legend,\n\t\t\t\t\t\tonFieldUpdate: _this2.elementChange\n\t\t\t\t\t}));\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn output;\n\t\t}\n\t}, {\n\t\tkey: 'elementChange',\n\t\tvalue: function elementChange(set, name, value, values_state) {\n\t\t\tvar sets = Object.assign({}, this.state.formValues);\n\n\t\t\tsets[set] = values_state;\n\n\t\t\tthis.setState({\n\t\t\t\tformValues: sets\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'componentOnSubmit',\n\t\tvalue: function componentOnSubmit(proxy_event) {\n\t\t\tthis.onSubmit(proxy_event, 'submit');\n\t\t}\n\t}, {\n\t\tkey: 'onSubmit',\n\t\tvalue: function onSubmit(event, button, button_data) {\n\t\t\tif (event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\n\t\t\tthis.props.onSubmit(this.state.formValues, button, button_data);\n\t\t}\n\n\t\t/**\n   * Return a function to collect Button component DOM references.\n   */\n\n\t}, {\n\t\tkey: 'collectButtonRef',\n\t\tvalue: function collectButtonRef(key) {\n\t\t\treturn function (ref) {\n\t\t\t\tthis.ui.refs.buttons[key] = ref;\n\t\t\t}.bind(this);\n\t\t}\n\n\t\t/**\n   * @description\n   * Collect a reference to a field. Each field component uses two arguments\n   * for their refCollector prop (unlike the usual one):\n   * 1. An identifying key\n   * 2. The DOM reference\n   */\n\n\t}, {\n\t\tkey: 'collectFieldRef',\n\t\tvalue: function collectFieldRef(key, ref) {\n\t\t\tthis.ui.refs.fields[key] = ref;\n\t\t}\n\t}, {\n\t\tkey: 'componentDidMount',\n\t\tvalue: function componentDidMount() {\n\t\t\tvar _this3 = this;\n\n\t\t\tvar a, b, key;\n\n\t\t\tif ('ontouchstart' in window) {\n\t\t\t\t// if it's a touch device, it'll likely have an on-screen keyboard\n\t\t\t\t// which could get in the way of the dialog opening and cause UX issues.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// handle focusing of the first field (or button) in the form\n\t\t\tif (this.props.fieldSets && this.props.fieldSets.length) {\n\t\t\t\t// highlight first collected field\n\t\t\t\tfor (a = 0; a < this.props.fieldSets.length; a += 1) {\n\t\t\t\t\tfor (b = 0; b < this.props.fieldSets[a].fields.length; b += 1) {\n\t\t\t\t\t\tkey = 'field-' + this.props.fieldSets[a].fields[b].name;\n\n\t\t\t\t\t\tif (this.props.fieldSets[a].fields[b].type !== 'hidden' && this.ui.refs.fields[key]) {\n\t\t\t\t\t\t\tthis.ui.refs.fields[key].focus();\n\t\t\t\t\t\t\ta = this.props.fieldSets.length;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// highlight first collected button\n\t\t\t\tthis.props.buttons.forEach(function (button, index) {\n\t\t\t\t\tvar key = 'button-' + index;\n\n\t\t\t\t\tif (_this3.ui.refs.buttons[key] && button.type === 'submit') {\n\t\t\t\t\t\t_this3.ui.refs.buttons[key].focus();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * @description\n   * Iterate through the `buttons` object in `props` and produce a list of Button\n   * components.\n   */\n\n\t}, {\n\t\tkey: 'getButtons',\n\t\tvalue: function getButtons() {\n\t\t\tvar _this4 = this;\n\n\t\t\tvar buttons = [];\n\n\t\t\tif (this.props.buttons && this.props.buttons.length) {\n\t\t\t\tthis.props.buttons.forEach(function (button, index) {\n\t\t\t\t\tvar key = 'button-' + index,\n\t\t\t\t\t    click_function;\n\n\t\t\t\t\tclick_function = function (component, key) {\n\t\t\t\t\t\treturn function (event) {\n\t\t\t\t\t\t\tif (component.ui.refs.buttons && component.ui.refs.buttons[key]) {\n\t\t\t\t\t\t\t\tcomponent.ui.refs.buttons[key].blur();\n\t\t\t\t\t\t\t\tcomponent.props.onButtonClick(component.ui.refs.buttons[key], event);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (button.type === 'cancel') {\n\t\t\t\t\t\t\t\t// cancel button\n\t\t\t\t\t\t\t\tcomponent.props.onCancel();\n\t\t\t\t\t\t\t} else if (button.type !== 'submit') {\n\t\t\t\t\t\t\t\t// anything except submit\n\t\t\t\t\t\t\t\tcomponent.onSubmit(null, button.type, button.data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}(_this4, key, button.onClick);\n\n\t\t\t\t\tbuttons.push(_react2.default.createElement(_Button2.default, {\n\t\t\t\t\t\tkey: key,\n\t\t\t\t\t\trefCollector: _this4.collectButtonRef(key),\n\t\t\t\t\t\ttype: button.type,\n\t\t\t\t\t\tlabel: button.label,\n\t\t\t\t\t\tclassName: button.className,\n\t\t\t\t\t\tonClick: click_function }));\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn buttons;\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'form',\n\t\t\t\t{ action: '', onSubmit: this.componentOnSubmit.bind(this) },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'fields' },\n\t\t\t\t\tthis.fieldSets()\n\t\t\t\t),\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'fieldset',\n\t\t\t\t\t{ className: 'buttons' },\n\t\t\t\t\tthis.getButtons()\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Form;\n}(_react.Component);\n\n/**\n * @property {function} onCancel - invoked when the form is cancelled\n * @property {FormOnSubmit} onSubmit - invoked when the form is submitted\n * @property {FormFieldSets} fieldSets - fieldsets for display\n */\n\n\nForm.propTypes = {\n\tonButtonClick: _react.PropTypes.func.isRequired,\n\tonCancel: _react.PropTypes.func,\n\tonSubmit: _react.PropTypes.func,\n\tfieldSets: _react.PropTypes.arrayOf(_react.PropTypes.shape({\n\t\tkey: _react.PropTypes.string,\n\t\tlegend: _react.PropTypes.string,\n\t\tfields: _react.PropTypes.array\n\t})),\n\tbuttons: _react.PropTypes.array\n};\n\nForm.defaultProps = {\n\tonCancel: function onCancel() {},\n\tonSubmit: function onSubmit() {}\n};\n\nexports.default = Form;\n\n/***/ }),\n/* 77 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _utils = __webpack_require__(10);\n\nvar JSON = JSON || window.JSON;\nvar store = window.localStorage || window.sessionStorage;\n\nvar Storage = function Storage(prefix) {\n\tthis.prefix = prefix + '_';\n\tthis.storageEnabled = (0, _utils.checkStorage)('localStorage');\n};\n\nStorage.prototype = {\n\tget: function get(key, default_value) {\n\t\tvar value;\n\n\t\tif (this.storageEnabled && (value = store.getItem(this.prefix + key)) !== null) {\n\t\t\ttry {\n\t\t\t\tvalue = JSON.parse(value);\n\t\t\t\treturn value;\n\t\t\t} catch (e) {\n\t\t\t\treturn default_value;\n\t\t\t}\n\t\t}\n\n\t\treturn default_value;\n\t},\n\n\tset: function set(key, value) {\n\t\tif (this.storageEnabled) {\n\t\t\tstore.setItem(this.prefix + key, JSON.stringify(value));\n\t\t}\n\t}\n};\n\nexports.default = Storage;\n\n/***/ }),\n/* 78 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _promise = __webpack_require__(68);\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _superagent = __webpack_require__(71);\n\nvar _superagent2 = _interopRequireDefault(_superagent);\n\nvar _superagentPromise = __webpack_require__(70);\n\nvar _superagentPromise2 = _interopRequireDefault(_superagentPromise);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = (0, _superagentPromise2.default)(_superagent2.default, _promise2.default);\n\n/***/ }),\n/* 79 */,\n/* 80 */,\n/* 81 */,\n/* 82 */,\n/* 83 */,\n/* 84 */,\n/* 85 */,\n/* 86 */,\n/* 87 */,\n/* 88 */,\n/* 89 */,\n/* 90 */,\n/* 91 */,\n/* 92 */,\n/* 93 */,\n/* 94 */,\n/* 95 */,\n/* 96 */,\n/* 97 */,\n/* 98 */,\n/* 99 */,\n/* 100 */,\n/* 101 */,\n/* 102 */,\n/* 103 */,\n/* 104 */,\n/* 105 */,\n/* 106 */,\n/* 107 */,\n/* 108 */,\n/* 109 */,\n/* 110 */,\n/* 111 */,\n/* 112 */,\n/* 113 */,\n/* 114 */,\n/* 115 */,\n/* 116 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; /**\n                                                                                                                                                                                                                                                                               * The built in HTMLElement type. Used to define DOM compatible nodes of Element type.\n                                                                                                                                                                                                                                                                               * @typedef HTMLElement\n                                                                                                                                                                                                                                                                               */\n\n/**\n * React's internal simulated event type. Exposes further properties for ease of development.\n * @typedef ReactEvent\n */\n\n/**\n * @callback DialogPromise\n * @param {DialogData} dialog - Data from the dialog.\n */\n\n/**\n * @typedef DialogData\n * @property {object} data - Data from any form elements within the dialog.\n * @property {string} action - Action string. 'submit', 'cancel' or a custom action, if set.\n * @property {object} action_data - Data specific to the special action, if set.\n */\n\nvar _redux = __webpack_require__(32);\n\n__webpack_require__(150);\n\n__webpack_require__(282);\n\nvar _UI = __webpack_require__(149);\n\nvar _UI2 = _interopRequireDefault(_UI);\n\nvar _Icon = __webpack_require__(15);\n\nvar _Droplet = __webpack_require__(26);\n\nvar _Droplet2 = _interopRequireDefault(_Droplet);\n\nvar _ajax = __webpack_require__(78);\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _Template = __webpack_require__(35);\n\nvar _Template2 = _interopRequireDefault(_Template);\n\nvar _Storage = __webpack_require__(77);\n\nvar _Storage2 = _interopRequireDefault(_Storage);\n\nvar _utils = __webpack_require__(10);\n\nvar _actions = __webpack_require__(36);\n\nvar _actions2 = _interopRequireDefault(_actions);\n\nvar _reducers = __webpack_require__(151);\n\nvar _reducers2 = _interopRequireDefault(_reducers);\n\nvar _defaults = __webpack_require__(119);\n\nvar _defaults2 = _interopRequireDefault(_defaults);\n\nvar _defaultState = __webpack_require__(73);\n\nvar _defaultState2 = _interopRequireDefault(_defaultState);\n\nvar _dialogs = __webpack_require__(74);\n\nvar _dialogs2 = _interopRequireDefault(_dialogs);\n\nvar _constants = __webpack_require__(7);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Main application wraper.\n * @param {AppDefaults} settings - Settings object.\n * @class\n */\nvar App = function App() {\n\tvar settings = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\tthis.settings = Object.deepAssign({}, App.defaults, settings);\n\tthis._init();\n\tthis.dialogs = (0, _dialogs2.default)(this.settings);\n\tthis.storage = new _Storage2.default('tag_app');\n\n\t// set Template.onElementRender to settings, if defined\n\tif (settings.onElementRender) {\n\t\t_Template2.default.onElementRender = settings.onElementRender.bind(this);\n\t}\n\n\t// bind hideDialog to this context in case its used as a direct argument within a promise\n\tthis.hideDialog = this.hideDialog.bind(this);\n};\n\nApp.prototype = {\n\t_init: function _init() {\n\t\tthis._refs = {\n\t\t\tui: {\n\t\t\t\tapp: document.querySelector('.app')\n\t\t\t},\n\t\t\tmounted: {},\n\t\t\tcomponents: {}\n\t\t};\n\n\t\t// app data store (not stateful)\n\t\tthis._data = {\n\t\t\ttemplate: '',\n\t\t\tpallet: []\n\t\t};\n\n\t\t// templates module\n\t\tthis._template = new _Template2.default(this, this.settings);\n\t},\n\n\t/**\n  * Load the template/pallet data and activate Tag.\n  */\n\tload: function load(url, pallet) {\n\t\tvar _this = this;\n\n\t\treturn this._template.load(url).then(function () {\n\t\t\t// load the HTML template and create it\n\t\t\tvar data = _this._template.create();\n\n\t\t\t_this._data.drop_zones = data.drop_zones;\n\t\t\t_this._data.template = data.template;\n\t\t}).then(function () {\n\t\t\t// load the JSON based pallet data\n\t\t\treturn _this._loadPallet(pallet);\n\t\t}).then(function () {\n\t\t\tvar stored_state = _this.storage.get('state', undefined);\n\n\t\t\tif (stored_state !== undefined && (typeof stored_state === 'undefined' ? 'undefined' : _typeof(stored_state)) === 'object') {\n\t\t\t\t// stored state exists - reset UI (which is non-persistant)\n\t\t\t\tstored_state.UI = {};\n\t\t\t\tstored_state.UI = _defaultState2.default.UI;\n\n\t\t\t\tif (!_this._validate_state(stored_state)) {\n\t\t\t\t\t// reset stored_state back to undefined if  it's not valid\n\t\t\t\t\tstored_state = undefined;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// reset back to undefined\n\t\t\t\tstored_state = undefined;\n\t\t\t}\n\n\t\t\t// app state store - default\n\t\t\t_this._store = (0, _redux.createStore)(_reducers2.default, stored_state, typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__({\n\t\t\t\t// black list all session-based non persistant actions\n\t\t\t\t// (some of which contain unserialisable objects)\n\t\t\t\tactionsBlacklist: [_constants.actionTypes.SET_ACTIVE_DROPLET, _constants.actionTypes.SET_DIALOG_MODE, _constants.actionTypes.SET_TOUR_STAGE, _constants.actionTypes.SHOW_TOOLTIP, _constants.actionTypes.HIDE_TOOLTIP, _constants.actionTypes.SET_TOOLTIP_CONTENT]\n\t\t\t}));\n\n\t\t\t// activate the UI\n\t\t\t_this._UI = new _UI2.default(_this, _this.settings, _this._refs, _this._data, _this._store, _this._template);\n\n\t\t\t// render\n\t\t\t_this._UI.render();\n\n\t\t\t// set active state\n\t\t\t_this._store.dispatch(_actions2.default.setUIState(_constants.uiStates.ACTIVE));\n\t\t}).catch(function (error) {\n\t\t\tthrow error;\n\t\t});\n\t},\n\n\t/**\n  * Load the pallet data\n  * @private\n  */\n\t_loadPallet: function _loadPallet(url) {\n\t\tvar _this2 = this;\n\n\t\treturn _ajax2.default.get(url).then(function (response) {\n\t\t\tvar pallet, item;\n\n\t\t\ttry {\n\t\t\t\tpallet = JSON.parse(response.text);\n\t\t\t} catch (e) {\n\t\t\t\treturn Promise.reject(new Error('Pallet data at file \"' + url + '\"\" could not be parsed.' + ' is it valid JSON?'));\n\t\t\t}\n\n\t\t\tif (Array.isArray(pallet) && pallet.length) {\n\t\t\t\tfor (item in pallet) {\n\t\t\t\t\t_this2._data.pallet.push(new _Droplet2.default(pallet[item]));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthrow new Error('Looks like the pallet at path ' + url + ' isnt a valid array in JSON format.');\n\t\t\t}\n\t\t}).catch(function (error) {\n\t\t\tthrow error;\n\t\t});\n\t},\n\n\t/**\n  * Validates a state object by comparing it to the default state.\n  * @private\n  */\n\t_validate_state: function _validate_state(state) {\n\t\treturn (0, _utils.structCompare)(state, _defaultState2.default);\n\t},\n\n\t/**\n  * Displays a dialog message with optional confirmations\n  * @param {string} title - Title of the dialog.\n  * @param {array|HTMLElement} message - Message to display.\n  * @param {array} [buttons] - Buttons to show. Defaults to a single \"OK\" button.\n  * @returns {DialogPromise} a Promise, the resolve/reject methods of which will denote\n  * completion or cancellation of the dialog. Custom button events will not complete\n  * the promise.\n  */\n\tdialog: function dialog(title, message) {\n\t\tvar buttons = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n\t\tthis._requireUI();\n\n\t\tif (!Array.isArray(message)) {\n\t\t\tmessage = [message];\n\t\t}\n\n\t\treturn this._UI._showDialog(_constants.dialogModes.GENERAL, {\n\t\t\ttitle: title,\n\t\t\tmessage: message,\n\t\t\tbuttons: buttons\n\t\t});\n\t},\n\n\t/**\n  * Hides whichever active dialog is currently open.\n  */\n\thideDialog: function hideDialog() {\n\t\tthis._UI._hideDialog.apply(this._UI);\n\t},\n\n\t/**\n  * Starts the standardised tour process, guiding the user through the interface.\n  */\n\tstartTour: function startTour() {\n\t\tthis._requireUI();\n\t\tthis._UI._tour.start();\n\t},\n\n\t/**\n  * Resets the template and view frame. *note*, all placements will be lost.\n  */\n\treset: function reset() {\n\t\tvar _this3 = this;\n\n\t\tthis._requireUI();\n\n\t\tthis._UI._showDialog(_constants.dialogModes.GENERAL, this.dialogs.resetState).then(function () {\n\t\t\t// clear all zones and reset the app\n\t\t\t_this3._store.dispatch(_actions2.default.zoneClearAllAttachments());\n\t\t\t_this3._store.dispatch(_actions2.default.resetApp());\n\n\t\t\t// clear view\n\t\t\t_this3._UI._comms.send('view', {\n\t\t\t\tcmd: _constants.messageCommands.RESET\n\t\t\t});\n\n\t\t\t_this3.hideDialog();\n\t\t});\n\t},\n\n\t/**\n  * Updates the view frame with the latest template and its attachments.\n  */\n\tupdateView: function updateView() {\n\t\tthis._requireUI();\n\t\tthis._UI._updateView();\n\t},\n\n\t/**\n  * Requires a _UI instance. Will throw if one doesn't exist.\n  */\n\t_requireUI: function _requireUI() {\n\t\tif (!this._UI) {\n\t\t\tthrow new Error('UI has not yet been initialised! Have you used #load() yet?');\n\t\t}\n\t}\n};\n\n/**\n * Default settings.\n */\nApp.defaults = _defaults2.default;\n\n/**\n * Icon glyphs\n */\nApp.GLYPHS = _Icon.GLYPHS;\n\nexports.default = App;\n\n/***/ }),\n/* 117 */,\n/* 118 */,\n/* 119 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _Icon = __webpack_require__(15);\n\nvar _constants = __webpack_require__(7);\n\n/**\n * The default settings applied to tag's App class on instantiation.\n * @typedef AppDefaults\n * @property {object} classes - Class definitions.\n * @property {object} selectors - CSS Selector definitions.\n * @property {object} template - Template options.\n * @property {number} template.initial_flex_basis=50 - The initial flex basis (width) of\n * the template container.\n * @property {object} view - View options.\n * @property {string} view.src='view.html' - Source filename for the view frame (relative to the App index).\n * @property {boolean} view.autoUpdate=false - Whether to automatically update the view when Droplet attachments change.\n * @property {object} dropZone - Drop Zone options.\n * @property {string} dropZone.label='...' - The label to use for Drop Zone targets.\n * @property {boolean} dropZone.warnOnBadPlacement=true - Produce a dialog when placing a Droplet into an invalid Drop Zone.\n * @property {boolean} dropZone.noticeOnFirstPlacement=true - Produce a dialog on the first valid placement of a Droplet\n * @property {boolean} dropZone.noticeOnLastPlacement=true - Produce a dialog when all of the Drop Zones have at least one attachment.\n * @property {ToolbarItem[]} toolbar - Toolbar items.\n */\n\nexports.default = {\n\tclasses: {\n\t\tcanvas: 'tag-canvas',\n\t\tcanvas_active: 'active',\n\t\tdroplet_active: 'droplet-active',\n\t\tis_dragging: 'dragging',\n\t\titem_dragging: 'item-dragging',\n\t\tdropzone_target: 'target',\n\t\tdropzone_is_active: 'is-active',\n\t\tdropzone_is_target: 'is-target',\n\t\tattached: 'attached',\n\t\ttext_element: 'text',\n\t\thidden: 'hidden',\n\t\tbutton: 'button',\n\t\tbutton_animate: 'animate',\n\t\tpopup: 'popup',\n\t\ttooltip: 'tooltip',\n\t\ttemplate: {\n\t\t\tnode: 'template',\n\t\t\tinner: 'template-inner'\n\t\t},\n\t\tdroplet: {\n\t\t\tnode: 'droplet',\n\t\t\tactive: 'active'\n\t\t},\n\t\tdropzone: {\n\t\t\tnode: 'drop-zone',\n\t\t\tpossible_target: 'possible-target',\n\t\t\twill_accept: 'will-accept',\n\t\t\twill_decline: 'will-decline'\n\t\t},\n\t\tdialog: {\n\t\t\tmain: 'dialog',\n\t\t\tvisible: 'visible',\n\t\t\tcontainer: 'dialog-container',\n\t\t\theading: 'dialog-heading',\n\t\t\tno_overlay: 'no-overlay'\n\t\t},\n\t\ttoolbar: {\n\t\t\tseparator: 'separator'\n\t\t}\n\t},\n\tselectors: {\n\t\tdrop_zone: '.drop-zone .target',\n\t\tdroplet: '.droplet',\n\t\tbutton_circle: '.circle'\n\t},\n\ttemplate: {\n\t\tinitial_flex_basis: 50\n\t},\n\tview: {\n\t\tsrc: 'view.html',\n\t\tautoUpdate: false\n\t},\n\tdropZone: {\n\t\tlabel: '...',\n\t\twarnOnBadPlacement: true,\n\t\tnoticeOnFirstPlacement: true,\n\t\tnoticeOnLastPlacement: true\n\t},\n\ttoolbar: [{\n\t\tlabel: function label(state) {\n\t\t\tif (state.UI.tour_stage !== null && state.UI.dialog.mode === _constants.dialogModes.NONE) {\n\t\t\t\treturn 'Continue tour';\n\t\t\t} else {\n\t\t\t\treturn 'Tour';\n\t\t\t}\n\t\t},\n\t\ticon: _Icon.GLYPHS.COMPASS,\n\t\tmethod: 'startTour'\n\t}, {\n\t\tlabel: 'Reset',\n\t\ticon: _Icon.GLYPHS.LOOP_CIRCULAR,\n\t\tmethod: 'reset'\n\t}, {\n\t\tlabel: 'Run',\n\t\ticon: _Icon.GLYPHS.MEDIA_PLAY,\n\t\tmethod: 'updateView',\n\t\tclassName: 'run',\n\t\tseparator: true\n\t}],\n\tonElementRender: null,\n\tshowIntro: true\n};\n\n/***/ }),\n/* 120 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.optionValueSet = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _react = __webpack_require__(3);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar optionValueSet = exports.optionValueSet = function optionValueSet(values) {\n\tvar nodes = [],\n\t    key;\n\n\tif (Array.isArray(values)) {\n\t\tvalues.forEach(function (value, index) {\n\t\t\tvar key = 'item-' + index;\n\t\t\tnodes.push(_react2.default.createElement(\n\t\t\t\t'option',\n\t\t\t\t{ key: key, value: value },\n\t\t\t\tvalue\n\t\t\t));\n\t\t});\n\t} else if ((typeof values === 'undefined' ? 'undefined' : _typeof(values)) === 'object') {\n\t\tfor (key in values) {\n\t\t\tnodes.push(_react2.default.createElement(\n\t\t\t\t'option',\n\t\t\t\t{ key: key, value: key },\n\t\t\t\tvalues[key]\n\t\t\t));\n\t\t}\n\t}\n\n\treturn nodes;\n};\n\n/***/ }),\n/* 121 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(3);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _utils = __webpack_require__(10);\n\nvar _View = __webpack_require__(143);\n\nvar _View2 = _interopRequireDefault(_View);\n\nvar _TooltipContainer = __webpack_require__(127);\n\nvar _TooltipContainer2 = _interopRequireDefault(_TooltipContainer);\n\nvar _HeaderContainer = __webpack_require__(124);\n\nvar _HeaderContainer2 = _interopRequireDefault(_HeaderContainer);\n\nvar _TemplateContainer = __webpack_require__(126);\n\nvar _TemplateContainer2 = _interopRequireDefault(_TemplateContainer);\n\nvar _DialogContainer = __webpack_require__(123);\n\nvar _DialogContainer2 = _interopRequireDefault(_DialogContainer);\n\nvar _PalletContainer = __webpack_require__(125);\n\nvar _PalletContainer2 = _interopRequireDefault(_PalletContainer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Canvas = function (_Component) {\n\t_inherits(Canvas, _Component);\n\n\tfunction Canvas(props) {\n\t\t_classCallCheck(this, Canvas);\n\n\t\treturn _possibleConstructorReturn(this, (Canvas.__proto__ || Object.getPrototypeOf(Canvas)).call(this, props));\n\t}\n\n\t_createClass(Canvas, [{\n\t\tkey: 'componentDidMount',\n\t\tvalue: function componentDidMount() {\n\t\t\tif (typeof this.props.onMount === 'function') {\n\t\t\t\tthis.props.onMount('canvas');\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar classes = [this.props.settings.classes.canvas, this.props.state.ui_state];\n\n\t\t\tif (typeof this.props.active_droplet_id === 'string' && this.props.active_droplet_id !== '') {\n\t\t\t\tclasses.push(this.props.settings.classes.droplet_active);\n\t\t\t}\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: classes.join(' '),\n\t\t\t\t\tref: (0, _utils.collectRef)(this.props, 'canvas')\n\t\t\t\t},\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t_HeaderContainer2.default,\n\t\t\t\t\t{\n\t\t\t\t\t\tsettings: this.props.settings,\n\t\t\t\t\t\tonButtonClick: this.props.onButtonClick,\n\t\t\t\t\t\tlib: this.props.lib },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'h1',\n\t\t\t\t\t\t{ className: 'logo' },\n\t\t\t\t\t\t'<',\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'b',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t'Tag'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t'>'\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'p',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t'The webpage learning tool.'\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'main' },\n\t\t\t\t\t_react2.default.createElement(_TemplateContainer2.default, {\n\t\t\t\t\t\tdata: this.props.data,\n\t\t\t\t\t\tsettings: this.props.settings,\n\t\t\t\t\t\trefCollector: this.props.refCollector,\n\t\t\t\t\t\tonMount: this.props.onMount,\n\t\t\t\t\t\tonAttachmentClick: this.props.onAttachmentClick,\n\t\t\t\t\t\tonDropZoneEvent: this.props.onDropZoneEvent,\n\t\t\t\t\t\ttemplate: this.props.data.template,\n\t\t\t\t\t\tlib: this.props.lib\n\t\t\t\t\t}),\n\t\t\t\t\t_react2.default.createElement('div', { className: 'drag-handle',\n\t\t\t\t\t\tonMouseEnter: this.props.onDragHandleEvent,\n\t\t\t\t\t\tonMouseLeave: this.props.onDragHandleEvent,\n\t\t\t\t\t\tonMouseDown: this.props.onDragHandleEvent,\n\t\t\t\t\t\tonMouseUp: this.props.onDragHandleEvent,\n\t\t\t\t\t\tonTouchStart: this.props.onDragHandleEvent,\n\t\t\t\t\t\tonTouchEnd: this.props.onDragHandleEvent,\n\t\t\t\t\t\tref: (0, _utils.collectRef)(this.props, 'drag_handle') }),\n\t\t\t\t\t_react2.default.createElement(_View2.default, {\n\t\t\t\t\t\tsettings: this.props.settings,\n\t\t\t\t\t\tonMount: this.props.onMount,\n\t\t\t\t\t\trefCollector: this.props.refCollector })\n\t\t\t\t),\n\t\t\t\t_react2.default.createElement(_PalletContainer2.default, {\n\t\t\t\t\tdata: this.props.data,\n\t\t\t\t\tsettings: this.props.settings,\n\t\t\t\t\tlib: this.props.lib,\n\t\t\t\t\tonMount: this.props.onMount,\n\t\t\t\t\tonDropletEvent: this.props.onDropletEvent,\n\t\t\t\t\trefCollector: this.props.refCollector }),\n\t\t\t\t_react2.default.createElement('div', { className: 'overlay' }),\n\t\t\t\t_react2.default.createElement(_DialogContainer2.default, {\n\t\t\t\t\tsettings: this.props.settings,\n\t\t\t\t\tlib: this.props.lib,\n\t\t\t\t\tonButtonClick: this.props.onButtonClick }),\n\t\t\t\t_react2.default.createElement(_TooltipContainer2.default, {\n\t\t\t\t\tsettings: this.props.settings,\n\t\t\t\t\tattacher: this.props.lib.setUIPopperAttachment })\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Canvas;\n}(_react.Component);\n\nCanvas.propTypes = {\n\t// from CanvasContainer\n\tstate: _react.PropTypes.object.isRequired,\n\tactive_droplet_id: _react.PropTypes.any,\n\tstate_tooltip: _react.PropTypes.object,\n\n\t// from UI#render\n\tdata: _react.PropTypes.object.isRequired,\n\tonMount: _react.PropTypes.func.isRequired,\n\tonAttachmentClick: _react.PropTypes.func.isRequired,\n\tonDropletEvent: _react.PropTypes.func.isRequired,\n\tonDropZoneEvent: _react.PropTypes.func.isRequired,\n\tonDragHandleEvent: _react.PropTypes.func.isRequired,\n\tonButtonClick: _react.PropTypes.func.isRequired,\n\trefCollector: _react.PropTypes.func.isRequired,\n\tsettings: _react.PropTypes.object.isRequired,\n\tlib: _react.PropTypes.object.isRequired\n};\n\nexports.default = Canvas;\n\n/***/ }),\n/* 122 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _reactRedux = __webpack_require__(14);\n\nvar _Canvas = __webpack_require__(121);\n\nvar _Canvas2 = _interopRequireDefault(_Canvas);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mapStateToProps = function mapStateToProps(state) {\n\treturn {\n\t\tstate: state.app,\n\t\tactive_droplet_id: state.UI.active_droplet_id\n\t};\n};\n\nvar CanvasContainer = (0, _reactRedux.connect)(mapStateToProps)(_Canvas2.default);\n\nexports.default = CanvasContainer;\n\n/***/ }),\n/* 123 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _reactRedux = __webpack_require__(14);\n\nvar _Dialog = __webpack_require__(128);\n\nvar _Dialog2 = _interopRequireDefault(_Dialog);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mapStateToProps = function mapStateToProps(state) {\n\treturn {\n\t\tid: state.UI.dialog.id,\n\t\tmode: state.UI.dialog.mode,\n\t\tdata: state.UI.dialog.data,\n\t\tonDialogComplete: state.UI.dialog.onDialogComplete,\n\t\tonDialogCancel: state.UI.dialog.onDialogCancel\n\t};\n};\n\nvar DialogContainer = (0, _reactRedux.connect)(mapStateToProps)(_Dialog2.default);\n\nexports.default = DialogContainer;\n\n/***/ }),\n/* 124 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _reactRedux = __webpack_require__(14);\n\nvar _Header = __webpack_require__(138);\n\nvar _Header2 = _interopRequireDefault(_Header);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mapStateToProps = function mapStateToProps(state) {\n\treturn {\n\t\ttour_stage: state.UI.tour_stage,\n\t\tdialog_mode: state.UI.dialog.mode\n\t};\n};\n\nvar HeaderContainer = (0, _reactRedux.connect)(mapStateToProps)(_Header2.default);\n\nexports.default = HeaderContainer;\n\n/***/ }),\n/* 125 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _reactRedux = __webpack_require__(14);\n\nvar _actions = __webpack_require__(36);\n\nvar _actions2 = _interopRequireDefault(_actions);\n\nvar _Pallet = __webpack_require__(139);\n\nvar _Pallet2 = _interopRequireDefault(_Pallet);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mapStateToProps = function mapStateToProps(state) {\n\treturn {\n\t\tactiveDropletId: state.UI.active_droplet_id\n\t};\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch, props) {\n\treturn {\n\t\tonDropletEvent: function onDropletEvent(event, droplet, data) {\n\t\t\tswitch (event.type) {\n\t\t\t\tcase 'mouseenter':\n\t\t\t\tcase 'touchstart':\n\t\t\t\t\tdispatch(_actions2.default.setTooltipContent(data.title, data.content, data.iconGlyph));\n\t\t\t\t\tdispatch(_actions2.default.showTooltip(data.ref));\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'mouseleave':\n\t\t\t\tcase 'touchend':\n\t\t\t\tcase 'click':\n\t\t\t\t\tdispatch(_actions2.default.hideTooltip());\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tprops.onDropletEvent(event, droplet, data);\n\t\t}\n\t};\n};\n\nvar PalletContainer = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(_Pallet2.default);\n\nexports.default = PalletContainer;\n\n/***/ }),\n/* 126 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _reactRedux = __webpack_require__(14);\n\nvar _Template = __webpack_require__(140);\n\nvar _Template2 = _interopRequireDefault(_Template);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mapStateToProps = function mapStateToProps(state) {\n\treturn {\n\t\tzones: state.zones,\n\t\tactiveDropletID: state.UI.active_droplet_id\n\t};\n};\n\nvar TemplateContainer = (0, _reactRedux.connect)(mapStateToProps)(_Template2.default);\n\nexports.default = TemplateContainer;\n\n/***/ }),\n/* 127 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _reactRedux = __webpack_require__(14);\n\nvar _Tooltip = __webpack_require__(142);\n\nvar _Tooltip2 = _interopRequireDefault(_Tooltip);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mapStateToProps = function mapStateToProps(state) {\n\treturn {\n\t\tstate: state.UI.tooltip\n\t};\n};\n\nvar TooltipContainer = (0, _reactRedux.connect)(mapStateToProps)(_Tooltip2.default);\n\nexports.default = TooltipContainer;\n\n/***/ }),\n/* 128 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(3);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _constants = __webpack_require__(7);\n\nvar _DialogGeneral = __webpack_require__(130);\n\nvar _DialogGeneral2 = _interopRequireDefault(_DialogGeneral);\n\nvar _DialogEditDroplet = __webpack_require__(129);\n\nvar _DialogEditDroplet2 = _interopRequireDefault(_DialogEditDroplet);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// import the dialogs used, then put into a global for referencing\n\n\nvar DialogComponents = {};\nDialogComponents[_constants.dialogModes.EDIT_DROPLET] = _DialogEditDroplet2.default;\nDialogComponents[_constants.dialogModes.GENERAL] = _DialogGeneral2.default;\nDialogComponents[_constants.dialogModes.TOUR] = _DialogGeneral2.default;\n\nvar Dialog = function (_Component) {\n\t_inherits(Dialog, _Component);\n\n\tfunction Dialog(props) {\n\t\t_classCallCheck(this, Dialog);\n\n\t\treturn _possibleConstructorReturn(this, (Dialog.__proto__ || Object.getPrototypeOf(Dialog)).call(this, props));\n\t}\n\n\t/**\n  * `ref` and `popper` reference is refreshed here instead of componentDidMount\n  * because this component doesn't really \"unmount\" as such - it just changes the\n  * inner `Component` value for dialog contents.\n  */\n\n\n\t_createClass(Dialog, [{\n\t\tkey: 'collectRef',\n\t\tvalue: function collectRef(ref) {\n\t\t\tif (ref !== null) {\n\t\t\t\tthis.dialogRef = ref;\n\n\t\t\t\tif (this.popper) {\n\t\t\t\t\t// popper already exists - remove and set null\n\t\t\t\t\tthis.popper.destroy();\n\t\t\t\t\tthis.popper = null;\n\t\t\t\t}\n\n\t\t\t\tif (this.props.data && this.props.data.attachment) {\n\t\t\t\t\t// attachment data exists - apply with popper\n\t\t\t\t\tthis.popper = this.props.lib.setUIPopperAttachment(this.props.data.attachment, this.dialogRef);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar Component,\n\t\t\t    classes = [this.props.settings.classes.dialog.main];\n\n\t\t\tif (this.props.mode !== _constants.dialogModes.NONE) {\n\t\t\t\tclasses.push(this.props.settings.classes.dialog.visible);\n\t\t\t}\n\n\t\t\t// get appropriate component for dialog mode\n\t\t\tComponent = DialogComponents[this.props.mode];\n\n\t\t\tif (Component) {\n\t\t\t\t// a dialog is being requested - render the appropriate component\n\t\t\t\tif (this.props.data.overlay === false) {\n\t\t\t\t\tclasses.push(this.props.settings.classes.dialog.no_overlay);\n\t\t\t\t}\n\n\t\t\t\treturn _react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: classes.join(' ') },\n\t\t\t\t\t_react2.default.createElement(Component, {\n\t\t\t\t\t\tkey: this.props.id,\n\t\t\t\t\t\tdata: this.props.data,\n\t\t\t\t\t\tsettings: this.props.settings,\n\t\t\t\t\t\trefCollector: this.collectRef.bind(this),\n\t\t\t\t\t\tonDialogComplete: this.props.onDialogComplete,\n\t\t\t\t\t\tonDialogCancel: this.props.onDialogCancel,\n\t\t\t\t\t\tonButtonClick: this.props.onButtonClick,\n\t\t\t\t\t\tlib: this.props.lib })\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treturn _react2.default.createElement('div', { className: classes.join(' ') });\n\t\t\t}\n\t\t}\n\t}]);\n\n\treturn Dialog;\n}(_react.Component);\n\nDialog.propTypes = {\n\t// from DialogContainer\n\tmode: _react.PropTypes.string,\n\tdata: _react.PropTypes.object,\n\tonDialogCancel: _react.PropTypes.func,\n\tonButtonClick: _react.PropTypes.func,\n\tid: _react.PropTypes.string.isRequired,\n\n\t// from Canvas\n\tsettings: _react.PropTypes.object,\n\tonDialogComplete: _react.PropTypes.func,\n\tlib: _react.PropTypes.object\n};\n\nDialog.defaultProps = {\n\tonDialogCancel: null,\n\tonDialogComplete: null\n};\n\nexports.default = Dialog;\n\n/***/ }),\n/* 129 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(3);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _FormField = __webpack_require__(34);\n\nvar _FormField2 = _interopRequireDefault(_FormField);\n\nvar _constants = __webpack_require__(7);\n\nvar _commonPropTypes = __webpack_require__(33);\n\nvar _Icon = __webpack_require__(15);\n\nvar _DialogHeading = __webpack_require__(75);\n\nvar _DialogHeading2 = _interopRequireDefault(_DialogHeading);\n\nvar _Form = __webpack_require__(76);\n\nvar _Form2 = _interopRequireDefault(_Form);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar headingsByType = {\n\t'element': {\n\t\ttext: 'Element',\n\t\ticon: _Icon.GLYPHS.TAG\n\t},\n\t'text': {\n\t\ttext: 'Text item',\n\t\ticon: _Icon.GLYPHS.TEXT\n\t},\n\t'attribute': {\n\t\ttext: 'Attribute',\n\t\ticon: _Icon.GLYPHS.PUZZLE_PIECE\n\t}\n};\n\nvar DialogEditDroplet = function (_Component) {\n\t_inherits(DialogEditDroplet, _Component);\n\n\tfunction DialogEditDroplet(props) {\n\t\t_classCallCheck(this, DialogEditDroplet);\n\n\t\tvar _this = _possibleConstructorReturn(this, (DialogEditDroplet.__proto__ || Object.getPrototypeOf(DialogEditDroplet)).call(this, props));\n\n\t\tif (_this.props.data && _this.props.data.droplet_id) {\n\t\t\t_this.droplet = _this.props.lib.getDropletById(_this.props.data.droplet_id);\n\t\t}\n\n\t\t_this.onDialogComplete = _this.onDialogComplete.bind(_this);\n\t\t_this.detachAttachment = _this.detachAttachment.bind(_this);\n\t\treturn _this;\n\t}\n\n\t/**\n  * Instead of passing completion straight to the prop, handles conversion of raw form\n  * data back into a format matching the original droplet data.\n  */\n\n\n\t_createClass(DialogEditDroplet, [{\n\t\tkey: 'onDialogComplete',\n\t\tvalue: function onDialogComplete(values, action, action_data) {\n\t\t\tvar droplet_values = {},\n\t\t\t    key;\n\n\t\t\tif (typeof this.props.onDialogComplete === 'function') {\n\t\t\t\t// convert data back into format replicating Droplet.data format\n\t\t\t\tfor (key in values) {\n\t\t\t\t\tif (values.hasOwnProperty(key)) {\n\t\t\t\t\t\tif (key === 'attrs') {\n\t\t\t\t\t\t\tdroplet_values[key] = values[key];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdroplet_values[key] = values[key][key];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tdroplet_values = Object.deepAssign({}, this.droplet.data, droplet_values);\n\n\t\t\t\t// finally, fire the original prop with the converted data\n\t\t\t\tthis.props.onDialogComplete(droplet_values, action, action_data);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'detachAttachment',\n\t\tvalue: function detachAttachment() {\n\t\t\tif (this.props.data.attachment_index !== null) {\n\t\t\t\tthis.props.lib.zoneDetachAttachment(this.props.data.zone_id, this.props.data.attachment_index);\n\t\t\t} else {\n\t\t\t\tthrow new Error('attachment_index is null or not defined. Cannot detach');\n\t\t\t}\n\n\t\t\tthis.props.onDialogCancel();\n\t\t}\n\t}, {\n\t\tkey: 'getFieldsets',\n\t\tvalue: function getFieldsets() {\n\t\t\tvar fieldsets = [],\n\t\t\t    attachment = null,\n\t\t\t    fieldset,\n\t\t\t    field,\n\t\t\t    attribute,\n\t\t\t    item;\n\n\t\t\tif (this.props.data.attachment_index !== null) {\n\t\t\t\tattachment = this.props.lib.zoneGetAttachment(this.props.data.zone_id, this.props.data.attachment_index);\n\t\t\t}\n\n\t\t\tfor (attribute in this.droplet.editable) {\n\t\t\t\tfieldset = {\n\t\t\t\t\tkey: attribute,\n\t\t\t\t\tlegend: _constants.setLabels[attribute],\n\t\t\t\t\tfields: []\n\t\t\t\t};\n\n\t\t\t\t// add indidual fields, depending on editable attribute type\n\t\t\t\tif (attribute === 'attrs') {\n\t\t\t\t\t// the 'attrs' attribute, which contains key/value pairs\n\t\t\t\t\tfor (item in this.droplet.editable[attribute]) {\n\t\t\t\t\t\tfield = Object.deepAssign({}, this.droplet.editable[attribute][item]);\n\n\t\t\t\t\t\t// preset value from attachment\n\t\t\t\t\t\tif (attachment !== null && attachment.data.attrs && attachment.data.attrs[item]) {\n\t\t\t\t\t\t\tfield.value = attachment.data.attrs[item];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfieldset.fields.push(new _FormField2.default(item, this.droplet.editable[attribute][item].type, field));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// string based attributes\n\t\t\t\t\tfield = Object.deepAssign({}, this.droplet.editable[attribute]);\n\n\t\t\t\t\t// preset value from attachment\n\t\t\t\t\tif (attachment !== null && attachment.data[attribute]) {\n\t\t\t\t\t\tfield.value = attachment.data[attribute];\n\t\t\t\t\t}\n\n\t\t\t\t\tfieldset.fields.push(new _FormField2.default(attribute, this.droplet.editable[attribute].type, field));\n\t\t\t\t}\n\n\t\t\t\t// add fieldset to form\n\t\t\t\tfieldsets.push(fieldset);\n\t\t\t}\n\n\t\t\treturn fieldsets;\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar fieldsets = this.getFieldsets(),\n\t\t\t    buttons = [],\n\t\t\t    classes = [this.props.settings.classes.dialog.container, this.props.settings.classes.popup],\n\t\t\t    title,\n\t\t\t    notes;\n\n\t\t\tclasses.push('droplet-' + this.droplet.dropletType);\n\n\t\t\t// add cancel button (for every dialog type)\n\t\t\tbuttons.push({\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: 'Cancel'\n\t\t\t});\n\n\t\t\tif (this.props.data.attachment_index !== null) {\n\t\t\t\t// editing an existing droplet\n\t\t\t\ttitle = 'Edit ' + headingsByType[this.droplet.dropletType].text;\n\n\t\t\t\tif (fieldsets.length) {\n\t\t\t\t\tnotes = ['You can edit the Droplet using the fields below. ' + 'Change the bits you want to customise and use Add Droplet when youre done.'];\n\n\t\t\t\t\tbuttons.push({\n\t\t\t\t\t\ttype: 'submit',\n\t\t\t\t\t\tlabel: 'Edit Droplet'\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tnotes = ['There is nothing to edit on this Droplet, but you can remove it ' + 'With the Remove Droplet button.'];\n\t\t\t\t}\n\n\t\t\t\tbuttons.push({\n\t\t\t\t\ttype: 'remove_droplet',\n\t\t\t\t\tlabel: 'Remove Droplet',\n\t\t\t\t\tclassName: 'danger pull-left',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tattachment_index: this.props.data.attachment_index,\n\t\t\t\t\t\tzone_id: this.props.data.zone_id\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// adding\n\t\t\t\ttitle = 'Add ' + headingsByType[this.droplet.dropletType].text;\n\t\t\t\tnotes = ['Youve found the right drop place to put this Droplet! ', 'Edit anything you would like to change and then use Edit Droplet.'];\n\t\t\t\tbuttons = buttons.concat({\n\t\t\t\t\ttype: 'submit',\n\t\t\t\t\tlabel: 'Add Droplet'\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: classes.join(' '),\n\t\t\t\t\tref: this.props.refCollector },\n\t\t\t\t_react2.default.createElement(_DialogHeading2.default, {\n\t\t\t\t\ttitle: title,\n\t\t\t\t\tnotes: notes,\n\t\t\t\t\ticonGlyph: headingsByType[this.droplet.dropletType].icon,\n\t\t\t\t\tclassName: this.props.settings.classes.dialog.heading }),\n\t\t\t\t_react2.default.createElement(_Form2.default, {\n\t\t\t\t\tfieldSets: fieldsets,\n\t\t\t\t\tbuttons: buttons,\n\t\t\t\t\tonButtonClick: this.props.onButtonClick,\n\t\t\t\t\tonSubmit: this.onDialogComplete,\n\t\t\t\t\tonCancel: this.props.onDialogCancel }),\n\t\t\t\t_react2.default.createElement('span', { className: 'arrow' })\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn DialogEditDroplet;\n}(_react.Component);\n\nDialogEditDroplet.propTypes = _commonPropTypes.dialog;\n\nexports.default = DialogEditDroplet;\n\n/***/ }),\n/* 130 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(3);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _DialogHeading = __webpack_require__(75);\n\nvar _DialogHeading2 = _interopRequireDefault(_DialogHeading);\n\nvar _Form = __webpack_require__(76);\n\nvar _Form2 = _interopRequireDefault(_Form);\n\nvar _commonPropTypes = __webpack_require__(33);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DialogGeneral = function (_Component) {\n\t_inherits(DialogGeneral, _Component);\n\n\tfunction DialogGeneral(props) {\n\t\t_classCallCheck(this, DialogGeneral);\n\n\t\treturn _possibleConstructorReturn(this, (DialogGeneral.__proto__ || Object.getPrototypeOf(DialogGeneral)).call(this, props));\n\t}\n\n\t_createClass(DialogGeneral, [{\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar buttons = this.props.data.buttons,\n\t\t\t    classes = [this.props.settings.classes.dialog.container, this.props.settings.classes.popup];\n\n\t\t\tif (!buttons || !buttons.length) {\n\t\t\t\tbuttons = [{\n\t\t\t\t\ttype: 'submit',\n\t\t\t\t\tlabel: 'OK'\n\t\t\t\t}];\n\t\t\t}\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: classes.join(' '),\n\t\t\t\t\tref: this.props.refCollector },\n\t\t\t\t_react2.default.createElement(_DialogHeading2.default, {\n\t\t\t\t\ttitle: this.props.data.title,\n\t\t\t\t\tnotes: this.props.data.message,\n\t\t\t\t\tclassName: this.props.settings.classes.dialog.heading }),\n\t\t\t\t_react2.default.createElement(_Form2.default, {\n\t\t\t\t\tbuttons: buttons,\n\t\t\t\t\tonButtonClick: this.props.onButtonClick,\n\t\t\t\t\tonSubmit: this.props.onDialogComplete,\n\t\t\t\t\tonCancel: this.props.onDialogCancel }),\n\t\t\t\t_react2.default.createElement('span', { className: 'arrow' })\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn DialogGeneral;\n}(_react.Component);\n\nDialogGeneral.propTypes = _commonPropTypes.dialog;\n\nexports.default = DialogGeneral;\n\n/***/ }),\n/* 131 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _react = __webpack_require__(3);\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Button = function Button(props) {\n\tvar type = props.type === 'submit' ? 'submit' : 'button',\n\t    classes = ['button', props.className],\n\t    onClick = props.onClick;\n\n\tif (props.type === 'cancel') {\n\t\tclasses.push('cancel');\n\t} else if (props.type === 'submit') {\n\t\tclasses.push('primary');\n\t}\n\n\treturn _react2.default.createElement(\n\t\t'button',\n\t\t{\n\t\t\tref: props.refCollector,\n\t\t\tclassName: classes.join(' '),\n\t\t\tonClick: onClick,\n\t\t\ttype: type },\n\t\t_react2.default.createElement(\n\t\t\t'span',\n\t\t\tnull,\n\t\t\tprops.label,\n\t\t\t_react2.default.createElement('span', { className: 'circle' })\n\t\t)\n\t);\n};\n\nButton.propTypes = {\n\ttype: _react.PropTypes.string.isRequired,\n\tlabel: _react.PropTypes.string.isRequired,\n\tclassName: _react.PropTypes.string,\n\tonClick: _react.PropTypes.func,\n\trefCollector: _react.PropTypes.func\n};\n\nexports.default = Button;\n\n/***/ }),\n/* 132 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(3);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _utils = __webpack_require__(10);\n\nvar _DropZone = __webpack_require__(25);\n\nvar _DropZone2 = _interopRequireDefault(_DropZone);\n\nvar _DropZoneAttachmentList = __webpack_require__(134);\n\nvar _DropZoneAttachmentList2 = _interopRequireDefault(_DropZoneAttachmentList);\n\nvar _DropZoneTarget = __webpack_require__(135);\n\nvar _DropZoneTarget2 = _interopRequireDefault(_DropZoneTarget);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DropZoneComponent = function (_Component) {\n\t_inherits(DropZoneComponent, _Component);\n\n\tfunction DropZoneComponent(props) {\n\t\t_classCallCheck(this, DropZoneComponent);\n\n\t\tvar _this = _possibleConstructorReturn(this, (DropZoneComponent.__proto__ || Object.getPrototypeOf(DropZoneComponent)).call(this, props));\n\n\t\t_this.myrefs = {};\n\t\t_this.onEvent = _this.onEvent.bind(_this);\n\t\treturn _this;\n\t}\n\n\t_createClass(DropZoneComponent, [{\n\t\tkey: 'componentDidMount',\n\t\tvalue: function componentDidMount() {\n\t\t\tif (typeof this.props.onMount === 'function') {\n\t\t\t\tthis.props.onMount('dropzone', this.props.zone.id);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'onEvent',\n\t\tvalue: function onEvent(event) {\n\t\t\tif (event.type === 'click') {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\n\t\t\tthis.props.onEvent(event, this.props.zone);\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar key = this.props.zone.id + '-zone',\n\t\t\t    classNames = [this.props.settings.classes.dropzone.node];\n\n\t\t\tif (this.props.className !== '') {\n\t\t\t\tclassNames.push(this.props.className);\n\t\t\t}\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'span',\n\t\t\t\t{\n\t\t\t\t\tkey: key,\n\t\t\t\t\tclassName: classNames.join(' '),\n\t\t\t\t\tref: (0, _utils.collectRef)(this.props, ['dropzone'], this.props.zone.id),\n\t\t\t\t\t'data-id': this.props.zone.id,\n\t\t\t\t\t'data-attachment': this.props.zone.attachmentId },\n\t\t\t\t_react2.default.createElement(_DropZoneAttachmentList2.default, {\n\t\t\t\t\tzone: this.props.zone,\n\t\t\t\t\tactiveAttachments: this.props.activeAttachments,\n\t\t\t\t\tonAttachmentClick: this.props.onAttachmentClick,\n\t\t\t\t\tlib: this.props.lib }),\n\t\t\t\t_react2.default.createElement(_DropZoneTarget2.default, {\n\t\t\t\t\tzone: this.props.zone,\n\t\t\t\t\tsettings: this.props.settings,\n\t\t\t\t\tactiveAttachments: this.props.activeAttachments,\n\t\t\t\t\trefCollector: this.props.refCollector,\n\t\t\t\t\tonEvent: this.onEvent })\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn DropZoneComponent;\n}(_react.Component);\n\nDropZoneComponent.propTypes = {\n\tzone: _react.PropTypes.instanceOf(_DropZone2.default).isRequired,\n\tclassName: _react.PropTypes.string,\n\tsettings: _react.PropTypes.object.isRequired,\n\tactiveAttachments: _react.PropTypes.array.isRequired,\n\tonMount: _react.PropTypes.func.isRequired,\n\tonAttachmentClick: _react.PropTypes.func.isRequired,\n\tonEvent: _react.PropTypes.func.isRequired,\n\trefCollector: _react.PropTypes.func.isRequired,\n\tlib: _react.PropTypes.object.isRequired\n};\n\nexports.default = DropZoneComponent;\n\n/***/ }),\n/* 133 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(3);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _Template = __webpack_require__(35);\n\nvar _Template2 = _interopRequireDefault(_Template);\n\nvar _Droplet = __webpack_require__(26);\n\nvar _Droplet2 = _interopRequireDefault(_Droplet);\n\nvar _DropZone = __webpack_require__(25);\n\nvar _DropZone2 = _interopRequireDefault(_DropZone);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DropZoneAttachment = function (_Component) {\n\t_inherits(DropZoneAttachment, _Component);\n\n\tfunction DropZoneAttachment(props) {\n\t\t_classCallCheck(this, DropZoneAttachment);\n\n\t\tvar _this = _possibleConstructorReturn(this, (DropZoneAttachment.__proto__ || Object.getPrototypeOf(DropZoneAttachment)).call(this, props));\n\n\t\t_this.onClick = _this.onClick.bind(_this);\n\t\treturn _this;\n\t}\n\n\t_createClass(DropZoneAttachment, [{\n\t\tkey: 'onClick',\n\t\tvalue: function onClick(event) {\n\t\t\tevent.preventDefault();\n\n\t\t\tthis.props.onClick(event, this.props.droplet, this.props.attachmentIndex);\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar className = 'dropzone-attachment',\n\t\t\t    data;\n\n\t\t\t// merge edited data with droplet data\n\t\t\tdata = Object.deepAssign({}, this.props.droplet.data, this.props.data);\n\n\t\t\t// set classname\n\t\t\tclassName += ' ' + this.props.droplet.dropletType;\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'span',\n\t\t\t\t{\n\t\t\t\t\tclassName: className,\n\t\t\t\t\tonClick: this.onClick },\n\t\t\t\t_Template2.default.renderDroplet(this.props.droplet, data, this.props.zone, false)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn DropZoneAttachment;\n}(_react.Component);\n\nDropZoneAttachment.propTypes = {\n\tdroplet: _react.PropTypes.instanceOf(_Droplet2.default).isRequired,\n\tzone: _react.PropTypes.instanceOf(_DropZone2.default).isRequired,\n\tattachmentIndex: _react.PropTypes.number.isRequired,\n\tonClick: _react.PropTypes.func.isRequired,\n\tdata: _react.PropTypes.object.isRequired\n};\n\nexports.default = DropZoneAttachment;\n\n/***/ }),\n/* 134 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(3);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _DropZone = __webpack_require__(25);\n\nvar _DropZone2 = _interopRequireDefault(_DropZone);\n\nvar _DropZoneAttachment = __webpack_require__(133);\n\nvar _DropZoneAttachment2 = _interopRequireDefault(_DropZoneAttachment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DropZoneAttachmentList = function (_Component) {\n\t_inherits(DropZoneAttachmentList, _Component);\n\n\tfunction DropZoneAttachmentList(props) {\n\t\t_classCallCheck(this, DropZoneAttachmentList);\n\n\t\tvar _this = _possibleConstructorReturn(this, (DropZoneAttachmentList.__proto__ || Object.getPrototypeOf(DropZoneAttachmentList)).call(this, props));\n\n\t\t_this.attachmentClick = _this.attachmentClick.bind(_this);\n\t\treturn _this;\n\t}\n\n\t_createClass(DropZoneAttachmentList, [{\n\t\tkey: 'attachmentClick',\n\t\tvalue: function attachmentClick(event, droplet, attachmentIndex) {\n\t\t\tif (typeof this.props.onAttachmentClick === 'function') {\n\t\t\t\tthis.props.onAttachmentClick(droplet, this.props.zone, attachmentIndex);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'renderActiveAttachments',\n\t\tvalue: function renderActiveAttachments() {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar children = [];\n\n\t\t\tthis.props.activeAttachments.forEach(function (attachment, index) {\n\t\t\t\tchildren.push(_react2.default.createElement(_DropZoneAttachment2.default, {\n\t\t\t\t\tkey: attachment.droplet_id + '-attachment-' + index,\n\t\t\t\t\tattachmentIndex: index,\n\t\t\t\t\tonClick: _this2.attachmentClick,\n\t\t\t\t\tdroplet: _this2.props.lib.getDropletById(attachment.droplet_id),\n\t\t\t\t\tzone: _this2.props.zone,\n\t\t\t\t\tdata: attachment.data }));\n\t\t\t});\n\n\t\t\treturn children;\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'span',\n\t\t\t\t{\n\t\t\t\t\tclassName: 'attachments' },\n\t\t\t\tthis.renderActiveAttachments()\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn DropZoneAttachmentList;\n}(_react.Component);\n\nDropZoneAttachmentList.propTypes = {\n\tzone: _react.PropTypes.instanceOf(_DropZone2.default).isRequired,\n\tactiveAttachments: _react.PropTypes.array.isRequired,\n\tonAttachmentClick: _react.PropTypes.func.isRequired,\n\tlib: _react.PropTypes.object.isRequired\n};\n\nexports.default = DropZoneAttachmentList;\n\n/***/ }),\n/* 135 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(3);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _utils = __webpack_require__(10);\n\nvar _DropZone = __webpack_require__(25);\n\nvar _DropZone2 = _interopRequireDefault(_DropZone);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DropZoneTarget = function (_Component) {\n\t_inherits(DropZoneTarget, _Component);\n\n\tfunction DropZoneTarget(props) {\n\t\t_classCallCheck(this, DropZoneTarget);\n\n\t\tvar _this = _possibleConstructorReturn(this, (DropZoneTarget.__proto__ || Object.getPrototypeOf(DropZoneTarget)).call(this, props));\n\n\t\t_this.onEvent = _this.onEvent.bind(_this);\n\t\treturn _this;\n\t}\n\n\t_createClass(DropZoneTarget, [{\n\t\tkey: 'onEvent',\n\t\tvalue: function onEvent(event) {\n\t\t\tif (event.type === 'click') {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\n\t\t\tthis.props.onEvent(event, this.props.zone);\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar key = this.props.zone.id + '-target',\n\t\t\t    classNames = [this.props.settings.classes.dropzone_target];\n\n\t\t\tif (this.props.activeAttachments.length >= this.props.zone.maxAttachments) {\n\t\t\t\tclassNames.push(this.props.settings.classes.hidden);\n\t\t\t}\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'span',\n\t\t\t\t{ className: 'target-outer' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'span',\n\t\t\t\t\t{ key: key,\n\t\t\t\t\t\tonClick: this.onEvent,\n\t\t\t\t\t\tref: (0, _utils.collectRef)(this.props, ['dropzone_target'], this.props.zone.id),\n\t\t\t\t\t\tclassName: classNames.join(' ') },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'b',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tthis.props.settings.dropZone.label\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn DropZoneTarget;\n}(_react.Component);\n\nDropZoneTarget.propTypes = {\n\tzone: _react.PropTypes.instanceOf(_DropZone2.default).isRequired,\n\tsettings: _react.PropTypes.object.isRequired,\n\tactiveAttachments: _react.PropTypes.array.isRequired,\n\tonEvent: _react.PropTypes.func.isRequired,\n\trefCollector: _react.PropTypes.func\n};\n\nexports.default = DropZoneTarget;\n\n/***/ }),\n/* 136 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(3);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _utils = __webpack_require__(10);\n\nvar _Droplet = __webpack_require__(26);\n\nvar _Droplet2 = _interopRequireDefault(_Droplet);\n\nvar _Template = __webpack_require__(35);\n\nvar _Template2 = _interopRequireDefault(_Template);\n\nvar _Icon = __webpack_require__(15);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar dropletTypeToGlyphs = {\n\t'text': _Icon.GLYPHS.TEXT,\n\t'element': _Icon.GLYPHS.TAG,\n\t'attribute': _Icon.GLYPHS.PUZZLE_PIECE\n};\n\nvar DropletComponent = function (_Component) {\n\t_inherits(DropletComponent, _Component);\n\n\tfunction DropletComponent(props) {\n\t\t_classCallCheck(this, DropletComponent);\n\n\t\tvar _this = _possibleConstructorReturn(this, (DropletComponent.__proto__ || Object.getPrototypeOf(DropletComponent)).call(this, props));\n\n\t\t_this.tooltip_cache = '';\n\t\t_this.ui = {\n\t\t\tdroplet: null\n\t\t};\n\n\t\t_this.onEvent = _this.onEvent.bind(_this);\n\t\treturn _this;\n\t}\n\n\t_createClass(DropletComponent, [{\n\t\tkey: 'refCollector',\n\t\tvalue: function refCollector(ref) {\n\t\t\tvar collector = (0, _utils.collectRef)(this.props, ['droplet'], this.props.droplet.id);\n\t\t\tthis.ui.droplet = ref;\n\t\t\tcollector(ref);\n\t\t}\n\t}, {\n\t\tkey: 'componentDidMount',\n\t\tvalue: function componentDidMount() {\n\t\t\tif (typeof this.props.onMount === 'function') {\n\t\t\t\tthis.props.onMount('droplet', this.props.droplet.id);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'onEvent',\n\t\tvalue: function onEvent(event) {\n\t\t\tif (event.type === 'click') {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\n\t\t\tif (event.type === 'mouseenter' || event.type === 'touchstart') {\n\t\t\t\tif (this.tooltip_cache === '') {\n\t\t\t\t\tthis.tooltip_cache += '<code>' + _Template2.default.entities(_Template2.default.renderDroplet(this.props.droplet, this.props.droplet.data, null, false)) + '</code>';\n\n\t\t\t\t\tif (this.props.droplet.guidance) {\n\t\t\t\t\t\tthis.tooltip_cache += this.props.droplet.guidance;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.tooltip_cache += '<p>' + ('ontouchstart' in window ? 'Tap' : 'Click') + ' on the Droplet to place it in the template.</p>';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.props.onEvent(event, this.props.droplet, {\n\t\t\t\tref: this.ui.droplet,\n\t\t\t\ttitle: this.props.droplet.name,\n\t\t\t\tcontent: this.tooltip_cache,\n\t\t\t\ticonGlyph: _Icon.GLYPHS.LIGHTBULB\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'showDescription',\n\t\tvalue: function showDescription() {\n\t\t\tvar show = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n\t\t\tconsole.log('showDescription', this.props.droplet.id, show);\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar classes = [this.props.settings.classes.droplet.node, 'type-' + this.props.droplet.dropletType];\n\n\t\t\tif (this.props.active) {\n\t\t\t\tclasses.push(this.props.settings.classes.droplet.active);\n\t\t\t}\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'button',\n\t\t\t\t{\n\t\t\t\t\tid: this.props.droplet.id,\n\t\t\t\t\tclassName: classes.join(' '),\n\t\t\t\t\tonClick: this.onEvent,\n\t\t\t\t\tonMouseEnter: this.onEvent,\n\t\t\t\t\tonMouseLeave: this.onEvent,\n\t\t\t\t\tonTouchStart: this.onEvent,\n\t\t\t\t\tonTouchEnd: this.onEvent,\n\t\t\t\t\tref: this.refCollector.bind(this) },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'span',\n\t\t\t\t\t{ className: 'label' },\n\t\t\t\t\t_react2.default.createElement(_Icon.Icon, { glyph: dropletTypeToGlyphs[this.props.droplet.dropletType] }),\n\t\t\t\t\tthis.props.droplet.name\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn DropletComponent;\n}(_react.Component);\n\nDropletComponent.propTypes = {\n\tactive: _react.PropTypes.bool,\n\tsettings: _react.PropTypes.object.isRequired,\n\tlib: _react.PropTypes.object.isRequired,\n\trefCollector: _react.PropTypes.func.isRequired,\n\tdroplet: _react.PropTypes.instanceOf(_Droplet2.default).isRequired,\n\tonMount: _react.PropTypes.func,\n\tonEvent: _react.PropTypes.func\n};\n\nexports.default = DropletComponent;\n\n/***/ }),\n/* 137 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(3);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _FormField = __webpack_require__(34);\n\nvar _FormField2 = _interopRequireDefault(_FormField);\n\nvar _TextField = __webpack_require__(145);\n\nvar _TextField2 = _interopRequireDefault(_TextField);\n\nvar _DropDown = __webpack_require__(144);\n\nvar _DropDown2 = _interopRequireDefault(_DropDown);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar FieldComponents = {\n\t'text': _TextField2.default,\n\t'dropdown': _DropDown2.default\n};\n\nvar Fieldset = function (_Component) {\n\t_inherits(Fieldset, _Component);\n\n\tfunction Fieldset(props) {\n\t\t_classCallCheck(this, Fieldset);\n\n\t\tvar formValues = {};\n\n\t\t// set default state for fields based on original values\n\t\tvar _this = _possibleConstructorReturn(this, (Fieldset.__proto__ || Object.getPrototypeOf(Fieldset)).call(this, props));\n\n\t\t_this.props.fields.forEach(function (field) {\n\t\t\treturn formValues[field.name] = field.value || '';\n\t\t});\n\n\t\t// set default form value state\n\t\t_this.state = {\n\t\t\tformValues: formValues\n\t\t};\n\n\t\t// bind functions for events\n\t\t_this.elementChange = _this.elementChange.bind(_this);\n\t\treturn _this;\n\t}\n\n\t_createClass(Fieldset, [{\n\t\tkey: 'collectRef',\n\t\tvalue: function collectRef(key) {\n\t\t\treturn function (ref) {\n\t\t\t\tif (typeof this.props.refCollector === 'function') {\n\t\t\t\t\tthis.props.refCollector(key, ref);\n\t\t\t\t}\n\t\t\t}.bind(this);\n\t\t}\n\t}, {\n\t\tkey: 'fields',\n\t\tvalue: function fields() {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar Component,\n\t\t\t    output = [];\n\n\t\t\tthis.props.fields.forEach(function (field) {\n\t\t\t\tvar key = 'field-' + field.name;\n\n\t\t\t\tComponent = FieldComponents[field.type];\n\n\t\t\t\tswitch (field.type) {\n\t\t\t\t\tcase 'text':\n\t\t\t\t\t\toutput.push(_react2.default.createElement(Component, { key: key,\n\t\t\t\t\t\t\trefCollector: _this2.collectRef(key),\n\t\t\t\t\t\t\tfield: field,\n\t\t\t\t\t\t\tonChange: _this2.elementChange,\n\t\t\t\t\t\t\tvalue: _this2.state.formValues[field.name] }));\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'dropdown':\n\t\t\t\t\t\toutput.push(_react2.default.createElement(Component, { key: key,\n\t\t\t\t\t\t\trefCollector: _this2.collectRef(key),\n\t\t\t\t\t\t\tfield: field,\n\t\t\t\t\t\t\tonChange: _this2.elementChange,\n\t\t\t\t\t\t\tvalue: _this2.state.formValues[field.name] }));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn output;\n\t\t}\n\t}, {\n\t\tkey: 'elementChange',\n\t\tvalue: function elementChange(event) {\n\t\t\tvar target = event.target,\n\t\t\t    formValues = Object.deepAssign({}, this.state.formValues);\n\n\t\t\tformValues[target.name] = target.value;\n\n\t\t\tthis.setState({\n\t\t\t\tformValues: formValues\n\t\t\t});\n\n\t\t\tthis.props.onFieldUpdate(this.props.set, target.name, target.value, formValues);\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'fieldset',\n\t\t\t\tnull,\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'legend',\n\t\t\t\t\tnull,\n\t\t\t\t\tthis.props.legend\n\t\t\t\t),\n\t\t\t\tthis.fields()\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Fieldset;\n}(_react.Component);\n\nFieldset.propTypes = {\n\trefCollector: _react.PropTypes.func,\n\tset: _react.PropTypes.string.isRequired,\n\tonFieldUpdate: _react.PropTypes.func.isRequired,\n\tlegend: _react.PropTypes.string,\n\tfields: _react.PropTypes.arrayOf(_react2.default.PropTypes.instanceOf(_FormField2.default))\n};\n\nFieldset.defaultProps = {\n\tonFieldUpdate: function onFieldUpdate() {},\n\tfields: {}\n};\n\nexports.default = Fieldset;\n\n/***/ }),\n/* 138 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(3);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _Toolbar = __webpack_require__(141);\n\nvar _Toolbar2 = _interopRequireDefault(_Toolbar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Header = function (_Component) {\n\t_inherits(Header, _Component);\n\n\tfunction Header(props) {\n\t\t_classCallCheck(this, Header);\n\n\t\treturn _possibleConstructorReturn(this, (Header.__proto__ || Object.getPrototypeOf(Header)).call(this, props));\n\t}\n\n\t_createClass(Header, [{\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'header',\n\t\t\t\tnull,\n\t\t\t\tthis.props.children,\n\t\t\t\t_react2.default.createElement(_Toolbar2.default, {\n\t\t\t\t\tbuttons: this.props.settings.toolbar,\n\t\t\t\t\ttour_stage: this.props.tour_stage,\n\t\t\t\t\tdialog_mode: this.props.dialog_mode,\n\t\t\t\t\tsettings: this.props.settings,\n\t\t\t\t\tonButtonClick: this.props.onButtonClick,\n\t\t\t\t\tlib: this.props.lib })\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Header;\n}(_react.Component);\n\nHeader.propTypes = {\n\t// from HeaderContainer\n\ttour_stage: _react.PropTypes.any,\n\tdialog_mode: _react.PropTypes.string,\n\n\t// from Canvas\n\tchildren: _react.PropTypes.node,\n\tsettings: _react.PropTypes.object.isRequired,\n\tonButtonClick: _react.PropTypes.func,\n\tlib: _react.PropTypes.object.isRequired\n};\n\nexports.default = Header;\n\n/***/ }),\n/* 139 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(3);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _Droplet = __webpack_require__(136);\n\nvar _Droplet2 = _interopRequireDefault(_Droplet);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Pallet = function (_Component) {\n\t_inherits(Pallet, _Component);\n\n\tfunction Pallet(props) {\n\t\t_classCallCheck(this, Pallet);\n\n\t\treturn _possibleConstructorReturn(this, (Pallet.__proto__ || Object.getPrototypeOf(Pallet)).call(this, props));\n\t}\n\n\t_createClass(Pallet, [{\n\t\tkey: 'getItems',\n\t\tvalue: function getItems() {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar items = [];\n\n\t\t\tif (this.props.data.pallet) {\n\t\t\t\tthis.props.data.pallet.forEach(function (droplet) {\n\t\t\t\t\titems.push(_react2.default.createElement(_Droplet2.default, { droplet: droplet,\n\t\t\t\t\t\tactive: _this2.props.activeDropletId === droplet.id,\n\t\t\t\t\t\tsettings: _this2.props.settings,\n\t\t\t\t\t\tlib: _this2.props.lib,\n\t\t\t\t\t\tonMount: _this2.props.onMount,\n\t\t\t\t\t\tonEvent: _this2.props.onDropletEvent,\n\t\t\t\t\t\trefCollector: _this2.props.refCollector,\n\t\t\t\t\t\tkey: droplet.id }));\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn items;\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'section',\n\t\t\t\t{ className: 'pallet' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'form',\n\t\t\t\t\tnull,\n\t\t\t\t\tthis.getItems.apply(this)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Pallet;\n}(_react.Component);\n\nPallet.propTypes = {\n\t// from PalletContainer\n\tactiveDropletId: _react.PropTypes.string.isRequired,\n\n\t// from Canvas\n\tdata: _react.PropTypes.object.isRequired,\n\tsettings: _react.PropTypes.object.isRequired,\n\tlib: _react.PropTypes.object.isRequired,\n\tonMount: _react.PropTypes.func,\n\tonDropletEvent: _react.PropTypes.func.isRequired,\n\trefCollector: _react.PropTypes.func\n};\n\nPallet.defaultProps = {\n\tdata: {\n\t\tpallet: []\n\t}\n};\n\nexports.default = Pallet;\n\n/***/ }),\n/* 140 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(3);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _utils = __webpack_require__(10);\n\nvar _DropZone = __webpack_require__(132);\n\nvar _DropZone2 = _interopRequireDefault(_DropZone);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Template = function (_Component) {\n\t_inherits(Template, _Component);\n\n\tfunction Template(props) {\n\t\t_classCallCheck(this, Template);\n\n\t\treturn _possibleConstructorReturn(this, (Template.__proto__ || Object.getPrototypeOf(Template)).call(this, props));\n\t}\n\n\t_createClass(Template, [{\n\t\tkey: 'componentDidMount',\n\t\tvalue: function componentDidMount() {\n\t\t\tif (typeof this.props.onMount === 'function') {\n\t\t\t\tthis.props.onMount('template');\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * Uses state (from props.zones) to ascertain the attachments\n   */\n\n\t}, {\n\t\tkey: 'getZoneAttachments',\n\t\tvalue: function getZoneAttachments(dropzone_id) {\n\t\t\tif (this.props.zones && this.props.zones[dropzone_id]) {\n\t\t\t\treturn this.props.zones[dropzone_id].attachments;\n\t\t\t} else {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * @description\n   * Computes the correct potential className for the drop zone based on:\n   * - The active Droplet ID\n   * - Whether or not this drop zone will accept the droplet\n   */\n\n\t}, {\n\t\tkey: 'getDropZoneClassNames',\n\t\tvalue: function getDropZoneClassNames(dropzone) {\n\t\t\tvar classes = [],\n\t\t\t    droplet;\n\n\t\t\tif (this.props.activeDropletID !== '' && (droplet = this.props.lib.getDropletById(this.props.activeDropletID))) {\n\t\t\t\tclasses.push(this.props.settings.classes.dropzone.possible_target);\n\t\t\t\tclasses.push(this.props.settings.classes.dropzone[this.props.lib.isValidDrop(droplet, dropzone) ? 'will_accept' : 'will_decline']);\n\n\t\t\t\treturn classes;\n\t\t\t} else {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'getTemplate',\n\t\tvalue: function getTemplate() {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar children = [];\n\n\t\t\tthis.props.template.forEach(function (node, index) {\n\t\t\t\tvar key;\n\n\t\t\t\tswitch (node.type) {\n\t\t\t\t\tcase 'text':\n\t\t\t\t\t\tkey = 'fragment-' + index;\n\n\t\t\t\t\t\tchildren.push(_react2.default.createElement(\n\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tkey: key,\n\t\t\t\t\t\t\t\tclassName: _this2.props.settings.classes.component },\n\t\t\t\t\t\t\tnode.content\n\t\t\t\t\t\t));\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'dropzone':\n\t\t\t\t\t\tchildren.push(_react2.default.createElement(_DropZone2.default, {\n\t\t\t\t\t\t\tkey: node.zone.id,\n\t\t\t\t\t\t\tzone: node.zone,\n\t\t\t\t\t\t\tclassName: _this2.getDropZoneClassNames(node.zone).join(' '),\n\t\t\t\t\t\t\tsettings: _this2.props.settings,\n\t\t\t\t\t\t\tactiveAttachments: _this2.getZoneAttachments(node.zone.id),\n\t\t\t\t\t\t\trefCollector: _this2.props.refCollector,\n\t\t\t\t\t\t\tonMount: _this2.props.onMount,\n\t\t\t\t\t\t\tonEvent: _this2.props.onDropZoneEvent,\n\t\t\t\t\t\t\tonAttachmentClick: _this2.props.onAttachmentClick,\n\t\t\t\t\t\t\tlib: _this2.props.lib }));\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn children;\n\t\t}\n\t}, {\n\t\tkey: 'getInstruction',\n\t\tvalue: function getInstruction() {\n\t\t\tif (this.props.activeDropletID != '') {\n\t\t\t\treturn _react2.default.createElement(\n\t\t\t\t\t'p',\n\t\t\t\t\t{ className: 'instruction' },\n\t\t\t\t\t'Choose a target for the droplet...'\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'section',\n\t\t\t\t{ className: this.props.settings.classes.template.node,\n\t\t\t\t\tref: (0, _utils.collectRef)(this.props, 'template') },\n\t\t\t\tthis.getInstruction(),\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: this.props.settings.classes.template.inner },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'pre',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'code',\n\t\t\t\t\t\t\t{ className: 'html',\n\t\t\t\t\t\t\t\tref: (0, _utils.collectRef)(this.props, 'template_inner') },\n\t\t\t\t\t\t\tthis.getTemplate()\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Template;\n}(_react.Component);\n\nTemplate.propTypes = {\n\t// from TemplateContainer\n\tzones: _react.PropTypes.object.isRequired,\n\tactiveDropletID: _react.PropTypes.string,\n\n\t// from Canvas\n\tsettings: _react.PropTypes.object.isRequired,\n\ttemplate: _react.PropTypes.array.isRequired,\n\tonMount: _react.PropTypes.func.isRequired,\n\tonAttachmentClick: _react.PropTypes.func.isRequired,\n\tonDropZoneEvent: _react.PropTypes.func.isRequired,\n\trefCollector: _react.PropTypes.func.isRequired,\n\tlib: _react.PropTypes.object.isRequired\n};\n\nTemplate.defaultProps = {\n\ttemplate: ''\n};\n\nexports.default = Template;\n\n/***/ }),\n/* 141 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(3);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _Icon = __webpack_require__(15);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @typedef ToolbarStateSegment\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @description\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * A small segment of the App's internal state which includes values relevant to toolbar\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * button production.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @property {object} UI\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @property {object} UI.dialog\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @property {module:assets/constants.dialogModes} UI.dialog.mode - The current mode of the active dialog.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @property {number|null} tour_stage - The current tour stage index. (Or `null`).\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n/**\n * A toolbar label function will be invoked with the following arguments:\n * @typedef {function} ToolbarItemLabel\n * @param {ToolbarStateSegment} state - A segment of the current application state.\n */\n\n/**\n * @typedef ToolbarItem\n * @property {ToolbarItemLabel|string} label - The toolbar label. Either a function or a literal string.\n * @property {module:components/views/Icon.GLYPHS} glyph - The icon glyph to use.\n * @property {string} method - The App method to invoke when the buttons is pressed.\n * @property {string} className - Extra class name(s) to apply to the button.\n * @property {boolean} separator=false - Produce a separator to the left of the button.\n */\n\n\nvar Toolbar = function (_Component) {\n\t_inherits(Toolbar, _Component);\n\n\tfunction Toolbar(props) {\n\t\t_classCallCheck(this, Toolbar);\n\n\t\tvar _this = _possibleConstructorReturn(this, (Toolbar.__proto__ || Object.getPrototypeOf(Toolbar)).call(this, props));\n\n\t\t_this.buttonRefs = {};\n\t\treturn _this;\n\t}\n\n\t_createClass(Toolbar, [{\n\t\tkey: 'registerButtonClick',\n\t\tvalue: function registerButtonClick(button, key) {\n\t\t\treturn function (event) {\n\t\t\t\tvar args = button.arguments || [];\n\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tif (this.buttonRefs && this.buttonRefs[key]) {\n\t\t\t\t\tthis.buttonRefs[key].blur();\n\t\t\t\t\tthis.props.onButtonClick(this.buttonRefs[key], event);\n\t\t\t\t}\n\n\t\t\t\tif (typeof button.method === 'string' && this.props.lib.tools[button.method]) {\n\t\t\t\t\t// method is a defined App method (as a string)\n\t\t\t\t\tthis.props.lib.tools[button.method].apply(null, args);\n\t\t\t\t} else {\n\t\t\t\t\t// method is a custom function. call with app context (unless bound elsewhere)\n\t\t\t\t\tbutton.method.apply(null, args);\n\t\t\t\t}\n\t\t\t}.bind(this);\n\t\t}\n\t}, {\n\t\tkey: 'registerButtonRef',\n\t\tvalue: function registerButtonRef(key) {\n\t\t\treturn function (ref) {\n\t\t\t\tif (ref !== null) {\n\t\t\t\t\tthis.buttonRefs[key] = ref;\n\t\t\t\t}\n\t\t\t}.bind(this);\n\t\t}\n\t}, {\n\t\tkey: 'getToolbarButtons',\n\t\tvalue: function getToolbarButtons() {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar buttons = [];\n\n\t\t\tif (this.props.buttons && this.props.buttons.length) {\n\t\t\t\tthis.props.buttons.forEach(function (button, index) {\n\t\t\t\t\tvar key = 'button-' + index,\n\t\t\t\t\t    classes = [],\n\t\t\t\t\t    icon,\n\t\t\t\t\t    label;\n\n\t\t\t\t\tif (button.icon) {\n\t\t\t\t\t\ticon = _react2.default.createElement(_Icon.Icon, { glyph: button.icon,\n\t\t\t\t\t\t\twidth: 14,\n\t\t\t\t\t\t\theight: 14 });\n\t\t\t\t\t}\n\n\t\t\t\t\tif (button.className) {\n\t\t\t\t\t\tclasses.push(button.className);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (button.separator) {\n\t\t\t\t\t\tclasses.push(_this2.props.settings.classes.toolbar.separator);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (typeof button.label === 'function') {\n\t\t\t\t\t\tlabel = button.label({\n\t\t\t\t\t\t\tUI: {\n\t\t\t\t\t\t\t\tdialog: {\n\t\t\t\t\t\t\t\t\tmode: _this2.props.dialog_mode\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\ttour_stage: _this2.props.tour_stage\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlabel = button.label;\n\t\t\t\t\t}\n\n\t\t\t\t\tbuttons.push(_react2.default.createElement(\n\t\t\t\t\t\t'li',\n\t\t\t\t\t\t{ key: key,\n\t\t\t\t\t\t\tclassName: classes.join(' ') },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'button',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tclassName: _this2.props.settings.classes.button,\n\t\t\t\t\t\t\t\tref: _this2.registerButtonRef(key),\n\t\t\t\t\t\t\t\tonClick: _this2.registerButtonClick(button, key) },\n\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\ticon,\n\t\t\t\t\t\t\t\tlabel,\n\t\t\t\t\t\t\t\t_react2.default.createElement('span', { className: 'circle' })\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t));\n\t\t\t\t});\n\n\t\t\t\treturn buttons;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'menu',\n\t\t\t\t{ className: 'toolbar' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'form',\n\t\t\t\t\tnull,\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'ul',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tthis.getToolbarButtons()\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Toolbar;\n}(_react.Component);\n\nToolbar.propTypes = {\n\tbuttons: _react.PropTypes.arrayOf(_react.PropTypes.object),\n\ttour_stage: _react.PropTypes.any,\n\tdialog_mode: _react.PropTypes.string,\n\tsettings: _react.PropTypes.object.isRequired,\n\tonButtonClick: _react.PropTypes.func,\n\tlib: _react.PropTypes.object.isRequired\n};\n\nexports.default = Toolbar;\n\n/***/ }),\n/* 142 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(3);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _Icon = __webpack_require__(15);\n\nvar _utils = __webpack_require__(10);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Tooltip = function (_Component) {\n\t_inherits(Tooltip, _Component);\n\n\tfunction Tooltip(props) {\n\t\t_classCallCheck(this, Tooltip);\n\n\t\tvar _this = _possibleConstructorReturn(this, (Tooltip.__proto__ || Object.getPrototypeOf(Tooltip)).call(this, props));\n\n\t\t_this.popper = null;\n\t\t_this.ui = {\n\t\t\ttooltip: null\n\t\t};\n\t\treturn _this;\n\t}\n\n\t_createClass(Tooltip, [{\n\t\tkey: 'refCollector',\n\t\tvalue: function refCollector(ref) {\n\t\t\tthis.ui.tooltip = ref;\n\t\t}\n\t}, {\n\t\tkey: 'componentDidMount',\n\t\tvalue: function componentDidMount() {\n\t\t\tthis.updateAttachment();\n\t\t}\n\t}, {\n\t\tkey: 'componentDidUpdate',\n\t\tvalue: function componentDidUpdate() {\n\t\t\tthis.updateAttachment();\n\t\t}\n\t}, {\n\t\tkey: 'updateAttachment',\n\t\tvalue: function updateAttachment() {\n\t\t\tvar options;\n\n\t\t\tif (this.props.state.show) {\n\t\t\t\t// merge default options with those assigned via the state change\n\t\t\t\toptions = Object.deepAssign({}, {\n\t\t\t\t\tplacement: 'top',\n\t\t\t\t\tmodifiers: {\n\t\t\t\t\t\tflip: ['top', 'bottom'],\n\t\t\t\t\t\tarrow: {\n\t\t\t\t\t\t\telement: '.arrow'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, this.props.state.options);\n\n\t\t\t\tthis.popper = this.props.attacher(this.props.state.attachment, this.ui.tooltip, options);\n\t\t\t} else {\n\t\t\t\tif (this.popper) {\n\t\t\t\t\tthis.popper.destroy();\n\t\t\t\t\tthis.popper = null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar classes, icon;\n\n\t\t\tclasses = [this.props.settings.classes.popup, this.props.settings.classes.tooltip];\n\n\t\t\tif (!this.props.state.show) {\n\t\t\t\tclasses.push(this.props.settings.classes.hidden);\n\t\t\t} else {\n\t\t\t\tif (this.props.state.iconGlyph) {\n\t\t\t\t\ticon = _react2.default.createElement(_Icon.Icon, { glyph: this.props.state.iconGlyph });\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{\n\t\t\t\t\tref: this.refCollector.bind(this),\n\t\t\t\t\tclassName: classes.join(' ') },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'content' },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'h2',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\ticon,\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tthis.props.state.title\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement('div', { dangerouslySetInnerHTML: (0, _utils.rawMarkup)(this.props.state.content) })\n\t\t\t\t),\n\t\t\t\t_react2.default.createElement('span', { className: 'arrow' })\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn Tooltip;\n}(_react.Component);\n\nTooltip.propTypes = {\n\tsettings: _react.PropTypes.object.isRequired,\n\tattacher: _react.PropTypes.func.isRequired,\n\tstate: _react.PropTypes.object.isRequired\n};\n\nexports.default = Tooltip;\n\n/***/ }),\n/* 143 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(3);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _utils = __webpack_require__(10);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar View = function (_Component) {\n\t_inherits(View, _Component);\n\n\tfunction View(props) {\n\t\t_classCallCheck(this, View);\n\n\t\treturn _possibleConstructorReturn(this, (View.__proto__ || Object.getPrototypeOf(View)).call(this, props));\n\t}\n\n\t_createClass(View, [{\n\t\tkey: 'componentDidMount',\n\t\tvalue: function componentDidMount() {\n\t\t\tif (typeof this.props.onMount === 'function') {\n\t\t\t\tthis.props.onMount('view_frame');\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'shouldComponentUpdate',\n\t\tvalue: function shouldComponentUpdate() {\n\t\t\t// no. reloads/updates are handled by the view class\n\t\t\treturn false;\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'section',\n\t\t\t\t{ className: 'view',\n\t\t\t\t\tref: (0, _utils.collectRef)(this.props, 'view') },\n\t\t\t\t_react2.default.createElement('div', { className: 'drag-mask' }),\n\t\t\t\t_react2.default.createElement('iframe', { ref: (0, _utils.collectRef)(this.props, 'view_frame'),\n\t\t\t\t\tsrc: this.props.settings.view.src })\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn View;\n}(_react.Component);\n\nView.propTypes = {\n\tsettings: _react.PropTypes.object,\n\tonMount: _react.PropTypes.func,\n\trefCollector: _react.PropTypes.func\n};\n\nexports.default = View;\n\n/***/ }),\n/* 144 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _react = __webpack_require__(3);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _commonPropTypes = __webpack_require__(33);\n\nvar _componentUtils = __webpack_require__(120);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction DropDown(props) {\n\tvar label = props.field.label || props.field.name;\n\n\treturn _react2.default.createElement(\n\t\t'div',\n\t\t{ className: 'field' },\n\t\t_react2.default.createElement(\n\t\t\t'label',\n\t\t\tnull,\n\t\t\tlabel\n\t\t),\n\t\t_react2.default.createElement(\n\t\t\t'select',\n\t\t\t{\n\t\t\t\ttype: 'text',\n\t\t\t\tname: props.field.name,\n\t\t\t\tonChange: props.onChange,\n\t\t\t\tvalue: props.value,\n\t\t\t\tref: props.refCollector },\n\t\t\t(0, _componentUtils.optionValueSet)(props.field.options)\n\t\t)\n\t);\n}\n\nDropDown.propTypes = _commonPropTypes.field;\n\nexports.default = DropDown;\n\n/***/ }),\n/* 145 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _react = __webpack_require__(3);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _commonPropTypes = __webpack_require__(33);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction TextField(props) {\n\tvar label = props.field.label || props.field.name;\n\n\treturn _react2.default.createElement(\n\t\t'div',\n\t\t{ className: 'field' },\n\t\t_react2.default.createElement(\n\t\t\t'label',\n\t\t\tnull,\n\t\t\tlabel\n\t\t),\n\t\t_react2.default.createElement('input', {\n\t\t\ttype: 'text',\n\t\t\tname: props.field.name,\n\t\t\tplaceholder: props.field.placeholder,\n\t\t\tonChange: props.onChange,\n\t\t\tmaxLength: props.field.data.maxlength,\n\t\t\tvalue: props.value,\n\t\t\tref: props.refCollector })\n\t);\n}\n\nTextField.propTypes = _commonPropTypes.field;\n\nexports.default = TextField;\n\n/***/ }),\n/* 146 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _interact = __webpack_require__(66);\n\nvar _interact2 = _interopRequireDefault(_interact);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nwindow.interact = _interact2.default;\n\n/**\n * Handles draggable/droppable items.\n * @class\n */\nvar DragDrop = function DragDrop(canvas, settings) {\n\tvar callbacks = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n\tthis._canvas = canvas;\n\tthis.settings = settings;\n\tthis._callbacks = callbacks;\n\n\tthis.ui = {\n\t\tdrag: [],\n\t\tdrop: []\n\t};\n};\n\nDragDrop.prototype = {\n\taddDragable: function addDragable(element) {\n\t\tvar _this = this;\n\n\t\tvar settings = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t\tvar data = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n\t\tvar dragable = new Dragable(element);\n\n\t\t// duplicate settings\n\t\tsettings = Object.assign({}, settings);\n\n\t\t// make the element draggable\n\t\tdragable.setDragable(settings).on('dragstart', function () {\n\t\t\t_this._canvas.classList.add(_this.settings.classes.is_dragging);\n\t\t\telement.classList.add(_this.settings.classes.item_dragging);\n\t\t}).on('dragend', function () {\n\t\t\t_this._canvas.classList.remove(_this.settings.classes.is_dragging);\n\t\t\telement.classList.remove(_this.settings.classes.item_dragging);\n\n\t\t\tif (typeof _this._callbacks.dragEnd === 'function') {\n\t\t\t\t_this._callbacks.dragEnd(element, data);\n\t\t\t}\n\t\t});\n\n\t\tthis.ui.drag.push(this._createInstance(element, dragable));\n\t},\n\n\taddDropable: function addDropable(element) {\n\t\tvar _this2 = this;\n\n\t\tvar settings = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t\tvar data = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n\t\tvar dropable = new Dropable(element);\n\n\t\tdropable.setDropable(settings).on('dropactivate', function (event) {\n\t\t\t// add active dropzone feedback\n\t\t\tevent.target.classList.add(_this2.settings.classes.dropzone_is_active);\n\t\t}).on('dragenter', function (event) {\n\t\t\t// feedback the possibility of a drop\n\t\t\tevent.target.classList.add(_this2.settings.classes.dropzone_is_target);\n\t\t\t// event.relatedTarget.classList.add('can-drop');\n\t\t\t// event.relatedTarget.textContent = 'Dragged in';\n\t\t}).on('dragleave', function (event) {\n\t\t\t// remove the drop feedback style\n\t\t\tevent.target.classList.remove(_this2.settings.classes.dropzone_is_target);\n\t\t\t// event.relatedTarget.classList.remove('can-drop');\n\t\t\t// event.relatedTarget.textContent = 'Dragged out';\n\t\t}).on('drop', function (event) {\n\t\t\tif (typeof _this2._callbacks.drop === 'function') {\n\t\t\t\t_this2._callbacks.drop(event.relatedTarget, event.target, data);\n\t\t\t}\n\t\t}).on('dropdeactivate', function (event) {\n\t\t\t// remove active dropzone feedback\n\t\t\tevent.target.classList.remove(_this2.settings.classes.dropzone_is_active);\n\t\t\tevent.target.classList.remove(_this2.settings.classes.dropzone_is_target);\n\t\t});\n\n\t\tthis.ui.drop.push(this._createInstance(element, dropable));\n\t},\n\n\tresetDragPosition: function resetDragPosition(element) {\n\t\tif (element = this.getDragInstance(element)) {\n\t\t\telement.instance.resetPosition();\n\t\t}\n\t},\n\n\tgetDragInstance: function getDragInstance(element) {\n\t\treturn this.ui.drag.find(function (item) {\n\t\t\treturn item.element === element;\n\t\t});\n\t},\n\n\t_createInstance: function _createInstance(element, instance) {\n\t\treturn {\n\t\t\telement: element,\n\t\t\tinstance: instance\n\t\t};\n\t}\n};\n\n/*\n * Generically handles the dragging and dropping of individual DOM nodes.\n * Uses interact.js (http://interactjs.io)\n */\nvar Dragable = function Dragable(element) {\n\tthis._element = element;\n\n\tthis._x = 0;\n\tthis._y = 0;\n};\n\nDragable.prototype = {\n\t/**\n  * Set up a draggable item.\n  */\n\tsetDragable: function setDragable(settings) {\n\t\tvar _this3 = this;\n\n\t\treturn (0, _interact2.default)(this._element).draggable(settings).on('dragmove', settings.onDragMove || function (event) {\n\t\t\t_this3._x += event.dx;\n\t\t\t_this3._y += event.dy;\n\n\t\t\t_this3._element.style.webkitTransform = _this3._element.style.transform = 'translate(' + _this3._x + 'px, ' + _this3._y + 'px)';\n\t\t});\n\t},\n\n\tresetPosition: function resetPosition() {\n\t\tthis._x = 0;\n\t\tthis._y = 0;\n\n\t\tthis._element.style.webkitTransform = this._element.style.transform = 'translate(0, 0)';\n\t}\n};\n\n/*\n * Generically handles drop zones in the DOM.\n * Uses interact.js (http://interactjs.io)\n */\nvar Dropable = function Dropable(element) {\n\tthis._element = element;\n};\n\nDropable.prototype = {\n\t/**\n  * Set up a draggable item.\n  */\n\tsetDropable: function setDropable(settings) {\n\t\treturn (0, _interact2.default)(this._element).dropzone(settings);\n\t}\n};\n\nexports.default = DragDrop;\n\n/***/ }),\n/* 147 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/**\n * Takes multiple functions and returns a function which invokes them consecutively\n * with the same argument signature: (prop) `value`, `propname`, `droplet_name`, `droplet_type`.\n */\nfunction chain() {\n\tvar args = Array.prototype.slice.call(arguments);\n\n\treturn function (value, propname, droplet_name, droplet_type) {\n\t\tvar _this = this;\n\n\t\tvar test = true;\n\n\t\t// run each function in the chain\n\t\targs.forEach(function (fn) {\n\t\t\tif (!fn.apply(_this, [value, propname, droplet_name, droplet_type])) {\n\t\t\t\ttest = false;\n\t\t\t}\n\t\t});\n\n\t\treturn test;\n\t};\n}\n\n/**\n * Asserts the `test` value is truthy. In the case that it fails, an Error is thrown.\n * @param {boolean} test - Test expression result\n * @param {string} propname - The name of the property being tested\n * @param {string} message - The message, in case of failure. Will be appended to a general\n * error message.\n * @param {string} [droplet_name] - The name of the Droplet being tested\n * @param {string} [toplet_type] - The dropletType attribute of the Droplet being tested\n */\nfunction assert(test, propname, message, droplet_name, droplet_type) {\n\tvar error, prop_id;\n\n\tif (!test) {\n\t\tif (droplet_name) {\n\t\t\tprop_id = '\"' + droplet_name + '\"' + (droplet_type ? ' (' + droplet_type + ')' : '');\n\t\t}\n\n\t\terror = 'Error in Droplet' + (prop_id ? ' ' + prop_id + ' ' : ' ') + 'prop \"' + propname + '\". ' + message;\n\t\tthrow new Error(error);\n\t} else {\n\t\treturn true;\n\t}\n}\n\nfunction isRequired(value, prop, droplet_name, droplet_type) {\n\treturn assert(typeof value !== 'undefined', prop, 'Value is required.', droplet_name, droplet_type);\n}\n\nfunction stringNotEmpty(value, prop, droplet_name, droplet_type) {\n\treturn assert(typeof value !== 'undefined' && value !== '', prop, 'Value cannot be empty.', droplet_name, droplet_type);\n}\n\nfunction string(value, prop, droplet_name, droplet_type) {\n\treturn assert(typeof value === 'undefined' || typeof value === 'string', prop, 'Value must be a string.', droplet_name, droplet_type);\n}\n\nstring.isRequired = chain(string, isRequired);\nstring.notEmpty = chain(string, stringNotEmpty);\nstring.notEmpty.isRequired = chain(string, stringNotEmpty, isRequired);\n\nfunction object(value, prop, droplet_name, droplet_type) {\n\treturn assert(typeof value === 'undefined' || (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object', prop, 'Value must be an object.', droplet_name, droplet_type);\n}\n\nobject.isRequired = chain(object, isRequired);\n\nfunction array(value, prop, droplet_name, droplet_type) {\n\treturn assert(Array.isArray(value), prop, 'Value must be an array.', droplet_name, droplet_type);\n}\n\narray.isRequired = chain(array, isRequired);\n\nfunction arrayOf() {}\n\narrayOf.string = chain(\n// test for an array\narray,\n// test array values are all strings\nfunction (value, prop, droplet_name, droplet_type) {\n\tvar test = true,\n\t    a;\n\n\tfor (a = 0; a < value.length; a += 1) {\n\t\ttest = test ? typeof value[a] === 'string' : test;\n\t}\n\n\treturn assert(test, prop, 'Value must be an array containing only strings', droplet_name, droplet_type);\n});\n\narrayOf.string.isRequired = chain(arrayOf.string, isRequired);\n\nexports.default = {\n\t_chain: chain,\n\t_assert: assert,\n\tstring: string,\n\tobject: object,\n\tarray: array,\n\tarrayOf: arrayOf,\n\tisRequired: isRequired,\n\tstringNotEmpty: stringNotEmpty\n};\n\n/***/ }),\n/* 148 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _constants = __webpack_require__(7);\n\nvar _actions = __webpack_require__(36);\n\nvar _actions2 = _interopRequireDefault(_actions);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Handle production of tour dialogs.\n * @param {UI} parent - Parent UI class instance.\n * @class\n */\nvar Tour = function Tour(parent) {\n\tthis._parent = parent;\n};\n\nTour.prototype = {\n\t/**\n  * Produce the tour introduction.\n  */\n\tintro: function intro() {\n\t\treturn this._parent._showDialog(_constants.dialogModes.GENERAL, this._parent.dialogs.intro).then(this._parent._hideDialog.bind(this._parent));\n\t},\n\n\t/**\n  * Starts the tour (but will continue if paused).\n  */\n\tstart: function start() {\n\t\treturn this._progressTour();\n\t},\n\n\t/**\n  * Starts or progreses the tour (by one dialog).\n  * @private\n  */\n\t_progressTour: function _progressTour() {\n\t\tvar _this = this;\n\n\t\tvar index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n\t\tvar state;\n\n\t\t// get next tour item from state or default\n\t\tif (index === null) {\n\t\t\tstate = this._parent._store.getState().UI;\n\t\t\tindex = state.tour_stage !== null ? state.tour_stage + 1 : 0;\n\t\t}\n\n\t\tif (this._parent.dialogs.tour.length - 1 >= index) {\n\t\t\tthis._setTourStage(index);\n\t\t\treturn this._showTourElement(index).then(function (dialog) {\n\t\t\t\t_this._parent._hideDialog();\n\n\t\t\t\t// if action is pause, will pause the tour by doing nothing\n\t\t\t\tif (dialog.action === 'cancel') {\n\t\t\t\t\t// end the tour\n\t\t\t\t\t_this._setTourStage(null);\n\t\t\t\t} else if (dialog.action !== 'pause') {\n\t\t\t\t\t// progress the tour\n\t\t\t\t\t_this._progressTour(index + 1);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\t// end of tour - set stage to null and hide dialog\n\t\t\tthis._setTourStage(null);\n\t\t\treturn this._parent._hideDialog();\n\t\t}\n\t},\n\n\t/**\n  * Show a specific indexed element of the tour.\n  * @private\n  */\n\t_showTourElement: function _showTourElement(index) {\n\t\treturn this._parent._showDialog(_constants.dialogModes.TOUR, this._parent.dialogs.tour[index]);\n\t},\n\n\n\t/**\n  * Set the tour stage index (using Redux).\n  * @private\n  */\n\t_setTourStage: function _setTourStage(stage) {\n\t\tthis._parent._store.dispatch(_actions2.default.setTourStage(stage));\n\t}\n};\n\nexports.default = Tour;\n\n/***/ }),\n/* 149 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _react = __webpack_require__(3);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(69);\n\nvar _reactRedux = __webpack_require__(14);\n\nvar _popper = __webpack_require__(67);\n\nvar _popper2 = _interopRequireDefault(_popper);\n\nvar _DragDrop = __webpack_require__(146);\n\nvar _DragDrop2 = _interopRequireDefault(_DragDrop);\n\nvar _Communicator = __webpack_require__(43);\n\nvar _Communicator2 = _interopRequireDefault(_Communicator);\n\nvar _Tour = __webpack_require__(148);\n\nvar _Tour2 = _interopRequireDefault(_Tour);\n\nvar _Template = __webpack_require__(35);\n\nvar _Template2 = _interopRequireDefault(_Template);\n\nvar _Icon = __webpack_require__(15);\n\nvar _CanvasContainer = __webpack_require__(122);\n\nvar _CanvasContainer2 = _interopRequireDefault(_CanvasContainer);\n\nvar _actions = __webpack_require__(36);\n\nvar _actions2 = _interopRequireDefault(_actions);\n\nvar _dialogs = __webpack_require__(74);\n\nvar _dialogs2 = _interopRequireDefault(_dialogs);\n\nvar _constants = __webpack_require__(7);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Handles User Interface components and acts as the main controller.\n * @class\n */\nvar UI = function UI(parent, settings, refs, data, store, template) {\n\t/**\n  * @private\n  */\n\tthis._parent = parent;\n\n\t/**\n  * Settings as defined when instantiating. Inherits from {@link App.defaults}\n  */\n\tthis.settings = settings;\n\n\t/**\n  * @private\n  */\n\tthis._refs = refs;\n\n\t/**\n  * @private\n  */\n\tthis._data = data;\n\n\t/**\n  * @private\n  */\n\tthis._store = store;\n\n\t/**\n  * @private\n  */\n\tthis._template = template;\n\n\t/**\n  * Dialog objects for use with {@link App#dialog}\n  */\n\tthis.dialogs = (0, _dialogs2.default)(settings);\n\n\t// UI class specific data entries\n\tthis._data.UI = {\n\t\tdragdrop: {\n\t\t\t// droplets dragdrop class instance\n\t\t\tdroplets: {}\n\t\t},\n\n\t\t// the current viewport width\n\t\tvp_width: 0,\n\n\t\t// the drag handle position\n\t\tdragHandlePosition: 0,\n\n\t\t// has the drag handle been moved?\n\t\tdragHandleMoved: false\n\t};\n\n\tthis._comms = new _Communicator2.default('app', window.location.origin, {\n\t\tmessage: this._handleAppMessage.bind(this)\n\t});\n\n\tthis._tour = new _Tour2.default(this);\n\n\t// set up library methods for passing to React components\n\tthis.libraryMethods = {\n\t\tgetDropletById: this.getDropletById.bind(this),\n\t\tsetUIPopperAttachment: this._setUIPopperAttachment.bind(this),\n\t\tzoneDetachAttachment: this.zoneDetachAttachment.bind(this),\n\t\tzoneGetAttachment: this.zoneGetAttachment.bind(this),\n\t\tisValidDrop: this._isValidDrop.bind(this),\n\t\ttools: {\n\t\t\tdialog: this._parent.dialog.bind(this._parent),\n\t\t\thideDialog: this._hideDialog.bind(this),\n\t\t\tstartTour: this._tour.start.bind(this._tour),\n\t\t\treset: this._parent.reset.bind(this._parent),\n\t\t\tupdateView: this._updateView.bind(this)\n\t\t}\n\t};\n\n\t// perform bindings for methods commonly used within promises\n\tthis._hideDialog = this._hideDialog.bind(this);\n\tthis._showDialog = this._showDialog.bind(this);\n\n\t// show introduction (or not)\n\tif (this.settings.showIntro) {\n\t\tthis._tour.intro();\n\t}\n\n\t// general queues\n\tthis.queues = {\n\t\tdragdropBindings: []\n\t};\n\n\twindow.addEventListener('resize', this._handleWindowResize.bind(this));\n}; /**\n    * @typedef DialogData\n    * @property {string} title - The title of the dialog.\n    * @property {array|string} message - Either a single string or an array of strings, defining\n    * each paragraph of the dialog message. Basic HTML is allowed.\n    * @property {FormButton[]|undefined} buttons - An array of FormButton buttons, or leave undefined\n    * to use the default \"OK\" button.\n    */\n\n\nUI.prototype = {\n\t/**\n  * Sends render() call to the React canvas.\n  * @private\n  */\n\trender: function render() {\n\t\tthis._canvas = (0, _reactDom.render)(_react2.default.createElement(\n\t\t\t_reactRedux.Provider,\n\t\t\t{ store: this._store },\n\t\t\t_react2.default.createElement(_CanvasContainer2.default, {\n\t\t\t\tdata: this._data,\n\t\t\t\tsettings: this.settings,\n\t\t\t\trefCollector: this._refCollector.bind(this),\n\t\t\t\tonMount: this._mountEvent.bind(this),\n\t\t\t\tonAttachmentClick: this._handleAttachmentClick.bind(this),\n\t\t\t\tonDropletEvent: this._handleDropletEvent.bind(this),\n\t\t\t\tonDropZoneEvent: this._handleDropZoneEvent.bind(this),\n\t\t\t\tonDragHandleEvent: this._handleDragHandleEvent.bind(this),\n\t\t\t\tonButtonClick: this._handleButtonClick.bind(this),\n\t\t\t\tlib: this.libraryMethods })\n\t\t), this._refs.ui.app);\n\t},\n\n\t/**\n  * Handles messages sent via the Communicator class (mainly from the View class).\n  * @param {object} message - Data, as sent by the originator\n  * @param {string} id - Message ID.\n  * @private\n  */\n\t_handleAppMessage: function _handleAppMessage(message, id) {\n\t\tswitch (message.cmd) {\n\t\t\tcase 'dialog':\n\t\t\t\t// a dialog is being requested\n\t\t\t\tthis._showCommunicatorDialog(message.data.title, message.data.message, message.data.buttons, id);\n\t\t\t\tbreak;\n\t\t}\n\t},\n\n\t/**\n  * @param {string} mode - One of the dialogModes modes.\n  * @param {DialogData} data - Relevant data to store for the dialog to use.\n  * @returns {DialogPromise} a Promise which will resolve with the dialog results.\n  * @description\n  *\tDisplays a dialog element. In this case that no callbacks (`onDialogComplete` or\n  * `onDialogCancel` are defined, a Promise is returned, the resolve/reject methods\n  * of which denote completion or cancellation of the dialog.\n  * @private\n  */\n\t_showDialog: function _showDialog(mode, data) {\n\t\tvar _this = this;\n\n\t\treturn new Promise(function (resolve) {\n\t\t\t_this._store.dispatch(_actions2.default.setDialogMode(mode, data, function (data, action, action_data) {\n\t\t\t\tresolve({ data: data, action: action, action_data: action_data });\n\t\t\t}, function () {\n\t\t\t\tresolve({ action: 'cancel' });\n\t\t\t}));\n\t\t});\n\t},\n\n\t/**\n  * @description\n  * Hides the dialog (after a short timeout) - uses state comparison to ensure\n  * the dialog being hidden isn't a new one.\n  * @private\n  */\n\t_hideDialog: function _hideDialog() {\n\t\tvar state = this._store.getState().UI.dialog;\n\n\t\twindow.setTimeout(function () {\n\t\t\tvar inner_state = this._store.getState().UI.dialog;\n\n\t\t\tif (state.id === inner_state.id) {\n\t\t\t\t// still the same dialog - close it\n\t\t\t\tthis._store.dispatch(_actions2.default.setDialogMode(_constants.dialogModes.NONE));\n\t\t\t}\n\t\t}.bind(this), 300);\n\t},\n\n\t_showCommunicatorDialog: function _showCommunicatorDialog(title, message, buttons, comms_id) {\n\t\tvar _this2 = this;\n\n\t\tthis._showDialog(_constants.dialogModes.GENERAL, {\n\t\t\ttitle: title,\n\t\t\tmessage: message,\n\t\t\tbuttons: buttons\n\t\t}).then(function (dialog) {\n\t\t\t_this2._hideDialog();\n\n\t\t\tif (dialog) {\n\t\t\t\t// submit/custom callback\n\t\t\t\t_this2._comms.send('view', {\n\t\t\t\t\tcmd: _constants.messageCommands.DIALOG_CALLBACK,\n\t\t\t\t\tdata: dialog.data,\n\t\t\t\t\taction: dialog.action,\n\t\t\t\t\taction_data: dialog.action_data\n\t\t\t\t}, comms_id);\n\t\t\t} else {\n\t\t\t\t// cancel callback\n\t\t\t\t_this2._comms.send('view', {\n\t\t\t\t\tcmd: _constants.messageCommands.DIALOG_CALLBACK\n\t\t\t\t}, comms_id);\n\t\t\t}\n\t\t});\n\t},\n\n\n\t/**\n  * @param {string} collection - The element's collection name.\n  * @param {HTMLElement} element - The element being collected.\n  * @param {string} key - The collection's key name.\n  * Element reference collector. Collects DOM elements from React components.\n  * Bind an element reference using the ref attribute and collectRef from utils.js\n  * @private\n  */\n\t_refCollector: function _refCollector(collection, element, key) {\n\t\tif (element !== null) {\n\t\t\tif (typeof key === 'string') {\n\t\t\t\tif (typeof this._refs.components[collection] === 'undefined') {\n\t\t\t\t\tthis._refs.components[collection] = {};\n\t\t\t\t}\n\n\t\t\t\tthis._refs.components[collection][key] = element;\n\t\t\t} else {\n\t\t\t\tthis._refs.components[collection] = element;\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n  * @param {string} collection - The element's collection name.\n  * @param {string} key - The collection's key name.\n  * @description\n  * Captures mount events from React components by collection/key identifiers.\n  * Identifiers are the same as the ones stored with App#_refCollector\n  * @private\n  */\n\t_mountEvent: function _mountEvent(collection, key) {\n\t\tif (this._getReferencedElement(collection, key)) {\n\t\t\t// valid component mounted\n\t\t\tswitch (collection) {\n\t\t\t\tcase 'canvas':\n\t\t\t\t\t// add drag binding for the drag handle\n\t\t\t\t\tthis._queueDragDropBinding('drag', 'drag_handle', null, {\n\t\t\t\t\t\tonDragMove: this._handleDragHandleEvent.bind(this)\n\t\t\t\t\t});\n\n\t\t\t\t\t// process all drag/drop bindings\n\t\t\t\t\tthis._setDragDropBindings();\n\t\t\t\t\tthis._refs.mounted.canvas = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'template':\n\t\t\t\t\t// this._queueDragDropBinding('drop', collection, key);\n\t\t\t\t\tthis._refs.mounted.template = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'droplet':\n\t\t\t\t\t// this._queueDragDropBinding('drag', collection, key);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'dropzone':\n\t\t\t\t\t// this._queueDragDropBinding('drop', 'dropzone_target', key);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'view_frame':\n\t\t\t\t\tthis._comms.registerGuestAddress('view', this._refs.components[collection].contentWindow);\n\n\t\t\t\t\tthis._refs.mounted.view_frame = true;\n\t\t\t}\n\n\t\t\tif (this._refs.mounted.canvas && this._refs.mounted.template && this._refs.mounted.view_frame) {\n\t\t\t\t// all required refs mounted - set active\n\t\t\t\tthis._store.dispatch(_actions2.default.setUIState(_constants.uiStates.ACTIVE));\n\n\t\t\t\t// run initial size calculations\n\t\t\t\tthis._handleWindowResize();\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new Error('Component mount event called but ref was not collected. ' + 'component: ' + collection + (key ? '/' + key : ''));\n\t\t}\n\t},\n\n\t/**\n  * @param {string} type - Either 'drag' or 'drop'.\n  * @param {string} collection - The ref collection.\n  * @param {string} key - The ref key, within the collection.\n  * @param {ojbect} settings - The settings for the interaction.\n  * @description\n  * Queues a drag/drop DOM binding till the mount event for the Canvas component.\n  * This is done because the canvas is relied upon as the container for dragging.\n  * @private\n  */\n\t_queueDragDropBinding: function _queueDragDropBinding(type, collection, key, settings) {\n\t\tif (this._refs.components.canvas) {\n\t\t\t// canvas already exists - immediately bind\n\t\t\tthis._setDragDropBindings([{ type: type, collection: collection, key: key, settings: settings }]);\n\t\t} else {\n\t\t\t// push to queue\n\t\t\tthis.queues.dragdropBindings.push({ type: type, collection: collection, key: key, settings: settings });\n\t\t}\n\t},\n\n\t/**\n  * Processes queued up drag/drop bindings created by UI#_queueDragDropBindings.\n  * @param {array} [queue] - The bindings queue.\n  * @private\n  */\n\t_setDragDropBindings: function _setDragDropBindings() {\n\t\tvar _this3 = this;\n\n\t\tvar queue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.queues.dragdropBindings;\n\n\t\t// bind dragDrop handlers to the elements in the queue\n\t\tthis._data.UI.dragdrop.droplets = new _DragDrop2.default(this._refs.components.canvas, this.settings, {\n\t\t\tdrop: this._handleDropletDrop.bind(this),\n\t\t\tdragEnd: function dragEnd(element) {\n\t\t\t\t_this3._data.UI.dragdrop.droplets.resetDragPosition(element);\n\t\t\t}\n\t\t});\n\n\t\tqueue.forEach(function (item) {\n\t\t\tvar ref = _this3._getReferencedElement(item.collection, item.key),\n\t\t\t    data;\n\n\t\t\tif (item.collection === 'dropzone_target') {\n\t\t\t\tdata = {\n\t\t\t\t\tzone_id: item.key\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// create a DragDrop instance and assign to the pallet item data\n\t\t\tif (item.type === 'drag') {\n\t\t\t\t_this3._data.UI.dragdrop.droplets.addDragable(ref, item.settings, data);\n\t\t\t} else if (item.type === 'drop') {\n\t\t\t\t_this3._data.UI.dragdrop.droplets.addDropable(ref, Object.deepAssign({}, {\n\t\t\t\t\taccept: _this3.settings.selectors.droplet\n\t\t\t\t}, item.settings), data);\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n  * Handles drops of droplets into drop zones. Will attach to the zone\n  * if the drop is valid.\n  * @param {HTMLElement} element - The element being dragged.\n  * @param {HTMLElement} target - The target being dropped onto.\n  * @param {object} data - data object, as set with addDragable/addDropable.\n  * @private\n  */\n\t_handleDropletDrop: function _handleDropletDrop(element, target, data) {\n\t\tvar drop_zone = this.getDropZoneById(data.zone_id),\n\t\t    droplet = this.getDropletById(element.id);\n\n\t\treturn this.attachDropletToDropZone(droplet, drop_zone);\n\t},\n\n\t/**\n  * Handle a click on a Drop Zone attachment item. May produce an editor window.\n  * @param {Droplet} droplet - The Droplet.\n  * @param {DropZone} drop_zone - The Drop Zone.\n  * @param {number} attachment_index - The Drop Zone's attachment index, if it applies.\n  * @private\n  */\n\t_handleAttachmentClick: function _handleAttachmentClick(droplet, drop_zone, attachment_index) {\n\t\tvar _this4 = this;\n\n\t\tvar state = this._store.getState();\n\n\t\tif (state.UI.active_droplet_id === '') {\n\t\t\t// only allow editing if there is no droplet placement occuring\n\t\t\tthis._showDialog(_constants.dialogModes.EDIT_DROPLET, {\n\t\t\t\tdroplet_id: droplet.id,\n\t\t\t\tzone_id: drop_zone.id,\n\t\t\t\tattachment_index: attachment_index\n\t\t\t}).then(function (dialog) {\n\t\t\t\t_this4._hideDialog();\n\n\t\t\t\tif (dialog.action === 'remove_droplet') {\n\t\t\t\t\t_this4.zoneDetachAttachment(dialog.action_data.zone_id, dialog.action_data.attachment_index);\n\t\t\t\t} else if (dialog.action !== 'cancel') {\n\t\t\t\t\t_this4._commitDropletIntoDropZone.apply(_this4, [dialog.data]);\n\t\t\t\t}\n\t\t\t}.bind(this));\n\t\t}\n\t},\n\n\t/**\n  * Handles events being fired from a Droplet\n  * @param {ReactEvent} event - The event object.\n  * @param {Droplet} droplet - The Droplet.\n  * @private\n  */\n\t_handleDropletEvent: function _handleDropletEvent(event, droplet) {\n\t\tvar state;\n\n\t\tif (event.type === 'click') {\n\t\t\tstate = this._store.getState();\n\n\t\t\tif (state.UI.active_droplet_id !== droplet.id) {\n\t\t\t\tthis._store.dispatch(_actions2.default.setActiveDroplet(droplet.id));\n\t\t\t} else {\n\t\t\t\tthis._store.dispatch(_actions2.default.setActiveDroplet(''));\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n  * Handles events being fired from a Drop Zone.\n  * @param {ReactEvent} event - The event object.\n  * @param {DropZone} drop_zone - The Drop Zone.\n  * @private\n  */\n\t_handleDropZoneEvent: function _handleDropZoneEvent(event, drop_zone) {\n\t\tvar state = this._store.getState(),\n\t\t    droplet;\n\n\t\tif (event.type === 'click' && state.UI.active_droplet_id !== '' && (droplet = this.getDropletById(state.UI.active_droplet_id))) {\n\t\t\tthis.attachDropletToDropZone(droplet, drop_zone);\n\t\t}\n\t},\n\n\t/**\n  * Handles events from the drag handle (between template and view containers).\n  * @param {ReactEvent} event - The event object.\n  * @private\n  */\n\t_handleDragHandleEvent: function _handleDragHandleEvent(event) {\n\t\tvar width;\n\n\t\tswitch (event.type) {\n\t\t\tcase 'mouseenter':\n\t\t\tcase 'mouseleave':\n\t\t\t\tif (!this._data.UI.dragHandleMoved) {\n\t\t\t\t\tif (event.type === 'mouseenter') {\n\t\t\t\t\t\tthis._store.dispatch(_actions2.default.setTooltipContent('Drag handle', '<b>Drag</b> this handle to resize the template and the view.' + ' <b>Press</b> to toggle the full page view.', _Icon.GLYPHS.RESIZE_WIDTH));\n\t\t\t\t\t\tthis._store.dispatch(_actions2.default.showTooltip(this._getReferencedElement('drag_handle'), {\n\t\t\t\t\t\t\tplacement: 'left',\n\t\t\t\t\t\t\tmodifiers: {\n\t\t\t\t\t\t\t\tflip: ['left', 'right']\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._store.dispatch(_actions2.default.hideTooltip());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 'dragmove':\n\t\t\t\t// incrememt dragHandlePosition based on x delta from interact instance\n\t\t\t\tthis._data.UI.dragHandlePosition += event.dx;\n\n\t\t\t\tif (!this._data.UI.dragHandleMoved) {\n\t\t\t\t\t// remove the tooltip, in case it's still around\n\t\t\t\t\tthis._data.UI.dragHandleMoved = true;\n\t\t\t\t\tthis._store.dispatch(_actions2.default.hideTooltip());\n\t\t\t\t}\n\n\t\t\t\t// figure out handle position in % of the screen and convert it to percent,\n\t\t\t\t// then send straight to _setTemplateViewRatio function\n\t\t\t\tthis._setTemplateViewRatio((this._data.UI.drag_handle_x + this._data.UI.dragHandlePosition) / this._data.UI.vp_width * 100);\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'mouseup':\n\t\t\tcase 'touchend':\n\t\t\t\tif (this._data.UI.dragHandlePosition < 5 && this._data.UI.dragHandlePosition > -5) {\n\t\t\t\t\t// little movement - assume a click/tap occured\n\t\t\t\t\twidth = this._getReferencedElement('drag_handle').offsetWidth;\n\n\t\t\t\t\tif (this._data.UI.drag_handle_x < width) {\n\t\t\t\t\t\t// set to 50/50\n\t\t\t\t\t\tthis._setTemplateViewRatio(50);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// set to 0/100\n\t\t\t\t\t\tthis._setTemplateViewRatio(0);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// update metrics whenever we're stopping\n\t\t\t\tthis._handleWindowResize();\n\n\t\t\t\tbreak;\n\t\t}\n\t},\n\n\t/**\n  * Updates various metrics when the window has been resized\n  * @private\n  */\n\t_handleWindowResize: function _handleWindowResize() {\n\t\tthis._data.UI.drag_handle_x = this._getReferencedElement('drag_handle').offsetLeft;\n\t\tthis._data.UI.vp_width = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n\n\t\t// reset dragHandlePosition because the metrics have changed\n\t\tthis._data.UI.dragHandlePosition = 0;\n\t},\n\n\t/**\n  * Generically handles the click of any button within the UI.\n  * @param {HTMLElement} button - The button being clicked.\n  * @param {ReactEvent} event - The event object.\n  */\n\t_handleButtonClick: function _handleButtonClick(button, event) {\n\t\tvar offset = {},\n\t\t    rect,\n\t\t    circle;\n\n\t\tif (button && event && event.pageX && event.pageY && (circle = button.querySelector(this.settings.selectors.button_circle))) {\n\t\t\t// get metrics and offset by scroll\n\t\t\trect = button.getBoundingClientRect();\n\t\t\trect.leftScrolled = rect.left + window.pageXOffset;\n\t\t\trect.topScrolled = rect.top + window.pageYOffset;\n\n\t\t\t// calculate cursor offset on the button\n\t\t\toffset.left = event.pageX - (rect.left + window.pageXOffset);\n\t\t\toffset.top = event.pageY - (rect.top + window.pageYOffset);\n\n\t\t\t// position the circle based on the pointer position on the button\n\t\t\tcircle.classList.remove(this.settings.classes.button_animate);\n\t\t\tcircle.style.left = offset.left - circle.offsetWidth / 2 + 'px';\n\t\t\tcircle.style.top = offset.top - circle.offsetHeight / 2 + 'px';\n\t\t\tcircle.classList.add(this.settings.classes.button_animate);\n\t\t}\n\t},\n\n\t/**\n  * @param {number} ratio - % ratio for the template\n  * @description\n  * Sets the template/view ratio by giving the template container a % width and\n  * adjusting the view container accordingly.\n  * @private\n  */\n\t_setTemplateViewRatio: function _setTemplateViewRatio(ratio) {\n\t\tthis._refs.components.template.style.flexBasis = ratio + '%';\n\t\tthis._refs.components.view.style.flexBasis = Math.abs(ratio - 100) + '%';\n\t},\n\n\t/**\n  * Checks to see if a Droplet drop on a Drop Zone is valid. I.e. it can be dropped.\n  * @param {Droplet} droplet - The Droplet being dropped.\n  * @param {DropZone} drop_zone - The Drop Zone being dropped into.\n  * @private\n  */\n\t_isValidDrop: function _isValidDrop(droplet, drop_zone) {\n\t\treturn drop_zone.willAccept(droplet, this._store);\n\t},\n\n\t/**\n  * Optionally displays an editing dialog and then attaches the Droplet to a Drop Zone.\n  * @param {Droplet} droplet - The Droplet to attach\n  * @param {DropZone} drop_zone - The Drop Zone to attach it to.\n  */\n\tattachDropletToDropZone: function attachDropletToDropZone(droplet, drop_zone) {\n\t\tvar _this5 = this;\n\n\t\t// clear active droplet\n\t\tthis._store.dispatch(_actions2.default.setActiveDroplet(''));\n\n\t\t// check if valid drop\n\t\tif (this._isValidDrop(droplet, drop_zone)) {\n\t\t\tif (droplet.editable) {\n\t\t\t\t// show edit dialog before adding the attachment\n\t\t\t\tthis._showDialog(_constants.dialogModes.EDIT_DROPLET, {\n\t\t\t\t\tdroplet_id: droplet.id,\n\t\t\t\t\tzone_id: drop_zone.id,\n\t\t\t\t\tattachment_index: null\n\t\t\t\t}).then(function (dialog) {\n\t\t\t\t\t_this5._hideDialog();\n\n\t\t\t\t\tif (dialog.action === 'submit') {\n\t\t\t\t\t\t_this5._commitDropletIntoDropZone.apply(_this5, [dialog.data]);\n\t\t\t\t\t\t_this5._postDropletAttachment(droplet, dialog.data);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// add attachment without dialog\n\t\t\t\tthis.zoneAddAttachment(drop_zone.id, droplet.id, droplet.data);\n\n\t\t\t\tthis._postDropletAttachment(droplet, droplet.data);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t} else {\n\t\t\tif (this.settings.dropZone.warnOnBadPlacement) {\n\t\t\t\tthis._showDialog(_constants.dialogModes.GENERAL, this.dialogs.dropletBadPlacement).then(this._hideDialog);\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\t},\n\n\t/**\n  * Perform actions after Droplet attachment.\n  * @param {Droplet} droplet - The Droplet instance.\n  * @param {object} data - The Droplet data to be set into the Drop Zone.\n  * @private\n  */\n\t_postDropletAttachment: function _postDropletAttachment(droplet, data) {\n\t\tvar state = this._store.getState(),\n\t\t    keys = Object.keys(state.zones),\n\t\t    notice = false,\n\t\t    key,\n\t\t    droplet_output;\n\n\t\t// should we display a \"first droplet\" notice?\n\t\tif (this.settings.dropZone.noticeOnFirstPlacement && !state.app.first_valid_drop && keys.length > 0) {\n\t\t\t// set first droplet state\n\t\t\tthis._store.dispatch(_actions2.default.completeFirstDrop());\n\n\t\t\t// format the droplet for display\n\t\t\tdroplet_output = _Template2.default.entities(_Template2.default.renderDroplet(droplet, Object.deepAssign({}, droplet.data, data), null, false));\n\n\t\t\t// show dialog\n\t\t\tthis._showDialog(_constants.dialogModes.GENERAL, this.dialogs.firstDropletDrop(droplet_output)).then(this._hideDialog);\n\t\t}\n\n\t\t// should we display a \"last droplet\" notice?\n\t\tif (this.settings.dropZone.noticeOnLastPlacement && !state.app.last_valid_drop && keys.length === this._data.pallet.length) {\n\t\t\tnotice = true;\n\n\t\t\t// check zones all have placements\n\t\t\tfor (key in state.zones) {\n\t\t\t\tif (state.zones[key].attachments.length === 0) {\n\t\t\t\t\tnotice = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (notice) {\n\t\t\t\t// show set last drop state\n\t\t\t\tthis._store.dispatch(_actions2.default.completeLastDrop());\n\n\t\t\t\t// show dialog\n\t\t\t\tthis._showDialog(_constants.dialogModes.GENERAL, this.dialogs.lastDropletDrop).then(this._hideDialog);\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n  * @param {object} data - The Droplet data to be set into the Drop Zone.\n  * @description\n  * Called after editing dialog has been completed, either adds a new\n  * Drop Zone attachment or edits an existing one.\n  * @private\n  */\n\t_commitDropletIntoDropZone: function _commitDropletIntoDropZone(data) {\n\t\tvar dialog = this._store.getState().UI.dialog;\n\n\t\t// reset dialog state to nothing\n\t\tthis._hideDialog();\n\n\t\t// droplet being edited prior to or during attatchment\n\t\tif (dialog.data.attachment_index === null) {\n\t\t\t// no attachment index - this is a new drop\n\t\t\tthis.zoneAddAttachment(dialog.data.zone_id, dialog.data.droplet_id, data);\n\t\t} else {\n\t\t\tthis.zoneEditAttachment(dialog.data.zone_id, dialog.data.attachment_index, data);\n\t\t}\n\t},\n\n\t/**\n  * Adds a Drop Zone attachment.\n  * @param {string} zone_id - The Drop Zone ID.\n  * @param {string} droplet_id - The Droplet ID.\n  * @param {object} data - The droplet data to be set into the Drop Zone.\n  */\n\tzoneAddAttachment: function zoneAddAttachment(zone_id, droplet_id, data) {\n\t\tthis._store.dispatch(_actions2.default.zoneAddAttachment(zone_id, droplet_id, true, data));\n\n\t\tif (this.settings.view.autoUpdate) {\n\t\t\tthis._updateView();\n\t\t}\n\t},\n\n\t/**\n  * Edits an existing Drop Zone attachment at `attachment_index` index.\n  * @param {string} zone_id - The Drop Zone ID.\n  * @param {number} attachment_index - The existing attachment index.\n  * @param {object} data - The new droplet data to be replaced into the Drop Zone.\n  */\n\tzoneEditAttachment: function zoneEditAttachment(zone_id, attachment_index, data) {\n\t\tthis._store.dispatch(_actions2.default.zoneEditAttachment(zone_id, attachment_index, data));\n\n\t\tif (this.settings.view.autoUpdate) {\n\t\t\tthis._updateView();\n\t\t}\n\t},\n\n\t/**\n  * Detaches a Droplet attachment from a Drop Zone by its `attachment_index` index.\n  * @param {string} zone_id - Drop Zone ID.\n  * @param {number} attachment_index - The existing attachment index.\n  */\n\tzoneDetachAttachment: function zoneDetachAttachment(zone_id, attachment_index) {\n\t\tthis._store.dispatch(_actions2.default.zoneDetachAttachment(zone_id, attachment_index));\n\t},\n\n\t/**\n  * Retrieve a zone's attachment by its `attachment_index` index.\n  * @param {string} zone_id - Drop Zone ID.\n  * @param {number} attachment_index - The existing attachment index.\n  */\n\tzoneGetAttachment: function zoneGetAttachment(zone_id, attachment_index) {\n\t\tvar zone,\n\t\t    state = this._store.getState();\n\n\t\tif (state.zones && (zone = state.zones[zone_id]) && zone.attachments && zone.attachments.length > attachment_index) {\n\t\t\treturn zone.attachments[attachment_index];\n\t\t}\n\n\t\treturn null;\n\t},\n\n\t/**\n  * Sends a key the View frame for updating.\n  */\n\t_updateView: function _updateView() {\n\t\tvar state = this._store.getState();\n\n\t\tthis._comms.send('view', {\n\t\t\tcmd: _constants.messageCommands.RELOAD,\n\t\t\tdata: {\n\t\t\t\tmarkup: this._template.renderAsHTML(state.zones)\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n  * Obtains an element stored in the internal refs collection\n  */\n\t_getReferencedElement: function _getReferencedElement(collection, key) {\n\t\tvar ref;\n\n\t\tif ((typeof key === 'undefined' || !key) && (ref = this._refs.components[collection]) || (ref = this._refs.components[collection][key])) {\n\t\t\treturn ref;\n\t\t} else {\n\t\t\tthrow new Error('Referenced element at ' + collection + '(' + key + ') could not be found.');\n\t\t}\n\t},\n\n\t/**\n  * Retrieves a Droplet instance by its ID.\n  * @param {string} id - ID of the Droplet to retrieve.\n  */\n\tgetDropletById: function getDropletById(id) {\n\t\treturn this._data.pallet.find(function (element) {\n\t\t\treturn element.id === id;\n\t\t});\n\t},\n\n\t/**\n  * Retrieves a Drop Zone instance by its ID.\n  * @param {string} id - ID of the Drop Zone to retrieve.\n  */\n\tgetDropZoneById: function getDropZoneById(id) {\n\t\treturn this._data.drop_zones[id] || null;\n\t},\n\n\t/**\n  * @param {HTMLElement} attachment - The element to attach to.\n  * @param {HTMLElement} element - The element being attached.\n  * @param {object} options - The popper `options` object (see link).\n  * @description\n  * Using 'popper', sets the an attachment from the `attachment` node to an `element`\n  * defining the \"popup\" to be displayed.\n  * @see https://popper.js.org/popper-documentation.html#new_Popper_new\n  * @private\n  */\n\t_setUIPopperAttachment: function _setUIPopperAttachment(attachment, element, options) {\n\t\tvar attached;\n\n\t\tif (attachment instanceof window.HTMLElement) {\n\t\t\tattached = attachment;\n\t\t} else if (attachment && attachment.selector) {\n\t\t\tattached = document.querySelector(attachment.selector);\n\t\t}\n\n\t\tif (attached) {\n\t\t\treturn new _popper2.default(attached, element, attachment.options || options);\n\t\t} else {\n\t\t\tthrow new Error('_setUIPopperAttachment: Attachment or selector could not be found.');\n\t\t}\n\t}\n};\n\nexports.default = UI;\n\n/***/ }),\n/* 150 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n// JS Polyfills - doesn't export anything, just modifies existing Object specs\nObject.deepAssign = function (target, varArgs) {\n\t'use strict';\n\n\tvar to, from, index, key;\n\n\tif (target == null) {\n\t\t// TypeError if undefined or null\n\t\tthrow new TypeError('Cannot convert undefined or null to object');\n\t}\n\n\tto = typeof varArgs !== 'undefined' && Array.isArray(varArgs) && arguments.length === 2 ? Array(target) : // arrays to retain their identity\n\tObject(target); // otherwise use an object\n\n\tfor (index = 1; index < arguments.length; index++) {\n\t\tfrom = arguments[index];\n\n\t\tif (from != null || typeof from === 'undefined') {\n\t\t\tfor (key in from) {\n\t\t\t\tif (from.hasOwnProperty(key)) {\n\t\t\t\t\tif (_typeof(from[key]) === 'object' && from[key] != null) {\n\t\t\t\t\t\tto[key] = Object.deepAssign(Array.isArray(from[key]) ? [] : {}, to[key], from[key]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tto[key] = from[key];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n/**\n * Curry implementation for functions\n */\nFunction.prototype.curry = function () {\n\tvar args = Array.prototype.slice.call(arguments),\n\t    fn = this;\n\n\treturn function () {\n\t\t// return result of original function with curried arguments before invocation arguments\n\t\treturn fn.apply(null, args.concat(Array.prototype.slice.call(arguments)));\n\t};\n};\n\n/***/ }),\n/* 151 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _redux = __webpack_require__(32);\n\nvar _defaultState = __webpack_require__(73);\n\nvar _defaultState2 = _interopRequireDefault(_defaultState);\n\nvar _constants = __webpack_require__(7);\n\nvar _Storage = __webpack_require__(77);\n\nvar _Storage2 = _interopRequireDefault(_Storage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar dialog_id = 0,\n    storage = new _Storage2.default('tag_app');\n\n/**\n * Sets application state values.\n * @private\n */\nfunction app() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _defaultState2.default.app;\n\tvar action = arguments[1];\n\n\tvar active, newstate, key;\n\n\tswitch (action.type) {\n\t\t// set ui state\n\t\tcase _constants.actionTypes.UI_STATE:\n\t\t\t// set 'active' flag based on the ui_state value\n\t\t\tswitch (action.ui_state) {\n\t\t\t\tcase _constants.uiStates.ACTIVE:\n\t\t\t\t\tactive = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tactive = false;\n\t\t\t}\n\n\t\t\tnewstate = Object.assign({}, state, {\n\t\t\t\tui_state: action.ui_state,\n\t\t\t\tactive: active\n\t\t\t});\n\n\t\t\treturn storeState(newstate, 'app');\n\n\t\tcase _constants.actionTypes.RESET_APP:\n\t\t\tnewstate = Object.assign({}, state, {\n\t\t\t\tfirst_valid_drop: false,\n\t\t\t\tlast_valid_drop: false\n\t\t\t});\n\n\t\t\treturn storeState(newstate, 'app');\n\n\t\tcase _constants.actionTypes.COMPLETE_FIRST_DROP:\n\t\tcase _constants.actionTypes.COMPLETE_LAST_DROP:\n\t\t\tif (action.type === _constants.actionTypes.COMPLETE_FIRST_DROP) {\n\t\t\t\tnewstate = Object.assign({}, state, {\n\t\t\t\t\tfirst_valid_drop: true\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tnewstate = Object.assign({}, state, {\n\t\t\t\t\tlast_valid_drop: true\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn storeState(newstate, 'app');\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\n/**\n * Sets drop zone state values\n * @private\n */\nfunction zones() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _defaultState2.default.zones;\n\tvar action = arguments[1];\n\n\tvar zones = Object.assign({}, state);\n\n\tswitch (action.type) {\n\t\tcase _constants.actionTypes.ZONE_ADD_ATTACHMENT:\n\t\t\tif (!zones[action.id]) {\n\t\t\t\tzones[action.id] = {\n\t\t\t\t\tattachments: []\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// attach the droplet\n\t\t\tzones[action.id].attachments.push({\n\t\t\t\tdroplet_id: action.droplet_id,\n\t\t\t\tdata: action.data\n\t\t\t});\n\n\t\t\tbreak;\n\n\t\tcase _constants.actionTypes.ZONE_EDIT_ATTACHMENT:\n\t\t\tif (zones[action.id].attachments[action.attachment_index]) {\n\t\t\t\tzones[action.id].attachments[action.attachment_index].data = action.data;\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\tcase _constants.actionTypes.ZONE_DETACH_ATTACHMENT:\n\t\t\t// detach the attachment by index\n\t\t\tif (action.attachment_index !== null && action.attachment_index < zones[action.id].attachments.length) {\n\t\t\t\tzones[action.id].attachments.splice(action.attachment_index, 1);\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\tcase _constants.actionTypes.ZONE_CLEAR_ALL_ATTACHMENTS:\n\t\t\tzones = {};\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n\n\treturn storeState(zones, 'zones');\n}\n\n/**\n * Sets UI state values. This state collection is non persistant and will not be stored\n * within local/session storage. Due to that fact, it is safe to place circular references,\n * functions and large quantities of data in here.\n * @private\n */\nfunction UI() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _defaultState2.default.UI;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase _constants.actionTypes.SET_DIALOG_MODE:\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\tdialog: {\n\t\t\t\t\tmode: action.mode,\n\t\t\t\t\tdata: action.data,\n\t\t\t\t\tonDialogComplete: action.onDialogComplete,\n\t\t\t\t\tonDialogCancel: action.onDialogCancel,\n\t\t\t\t\toverlay: typeof action.overlay !== 'undefined' ? action.overlay : true,\n\t\t\t\t\tattachment: action.attachment,\n\t\t\t\t\tid: 'dialog-' + ++dialog_id\n\t\t\t\t}\n\t\t\t});\n\n\t\tcase _constants.actionTypes.SET_TOUR_STAGE:\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\ttour_stage: action.stage\n\t\t\t});\n\n\t\tcase _constants.actionTypes.SET_ACTIVE_DROPLET:\n\t\t\t// set the active droplet (i.e. the one that will be \"dropped\" when a\n\t\t\t// drop zone is next clicked\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\tactive_droplet_id: action.droplet_id\n\t\t\t});\n\n\t\tcase _constants.actionTypes.SHOW_TOOLTIP:\n\t\tcase _constants.actionTypes.HIDE_TOOLTIP:\n\t\t\tif (action.type === _constants.actionTypes.SHOW_TOOLTIP) {\n\t\t\t\treturn Object.assign({}, state, {\n\t\t\t\t\ttooltip: {\n\t\t\t\t\t\tshow: true,\n\t\t\t\t\t\tattachment: action.attachment,\n\t\t\t\t\t\toptions: action.options,\n\t\t\t\t\t\tcontent: state.tooltip.content,\n\t\t\t\t\t\ttitle: state.tooltip.title,\n\t\t\t\t\t\ticonGlyph: state.tooltip.iconGlyph\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn Object.assign({}, state, {\n\t\t\t\t\ttooltip: {\n\t\t\t\t\t\tshow: false,\n\t\t\t\t\t\tattachment: null,\n\t\t\t\t\t\toptions: null,\n\t\t\t\t\t\tcontent: '',\n\t\t\t\t\t\ttitle: '',\n\t\t\t\t\t\ticonGlyph: ''\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\tcase _constants.actionTypes.SET_TOOLTIP_CONTENT:\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\ttooltip: {\n\t\t\t\t\tshow: state.tooltip.show,\n\t\t\t\t\tcontent: action.content,\n\t\t\t\t\ttitle: action.title,\n\t\t\t\t\ticonGlyph: action.iconGlyph\n\t\t\t\t}\n\t\t\t});\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\n/**\n * Stores state into local/session storage for recall on reloading the app.\n * @private\n */\nfunction storeState(state, key) {\n\tvar current_state = storage.get('state'),\n\t    new_state;\n\n\tnew_state = Object.assign({}, _defaultState2.default, current_state);\n\tnew_state[key] = Object.assign({}, state);\n\tnew_state.UI = null;\n\n\tstorage.set('state', new_state);\n\n\treturn state;\n}\n\nexports.default = (0, _redux.combineReducers)({\n\tapp: app,\n\tzones: zones,\n\tUI: UI\n});\n\n/***/ }),\n/* 152 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction placeHoldersCount (b64) {\n  var len = b64.length\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // the number of equal signs (place holders)\n  // if there are two placeholders, than the two characters before it\n  // represent one byte\n  // if there is only one, then the three characters before it represent 2 bytes\n  // this is just a cheap hack to not do indexOf twice\n  return b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0\n}\n\nfunction byteLength (b64) {\n  // base64 is 4/3 + up to two characters of the original data\n  return b64.length * 3 / 4 - placeHoldersCount(b64)\n}\n\nfunction toByteArray (b64) {\n  var i, j, l, tmp, placeHolders, arr\n  var len = b64.length\n  placeHolders = placeHoldersCount(b64)\n\n  arr = new Arr(len * 3 / 4 - placeHolders)\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  l = placeHolders > 0 ? len - 4 : len\n\n  var L = 0\n\n  for (i = 0, j = 0; i < l; i += 4, j += 3) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 18) | (revLookup[b64.charCodeAt(i + 1)] << 12) | (revLookup[b64.charCodeAt(i + 2)] << 6) | revLookup[b64.charCodeAt(i + 3)]\n    arr[L++] = (tmp >> 16) & 0xFF\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  if (placeHolders === 2) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[L++] = tmp & 0xFF\n  } else if (placeHolders === 1) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 10) | (revLookup[b64.charCodeAt(i + 1)] << 4) | (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var output = ''\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    output += lookup[tmp >> 2]\n    output += lookup[(tmp << 4) & 0x3F]\n    output += '=='\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + (uint8[len - 1])\n    output += lookup[tmp >> 10]\n    output += lookup[(tmp >> 4) & 0x3F]\n    output += lookup[(tmp << 2) & 0x3F]\n    output += '='\n  }\n\n  parts.push(output)\n\n  return parts.join('')\n}\n\n\n/***/ }),\n/* 153 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n\n\nvar base64 = __webpack_require__(152)\nvar ieee754 = __webpack_require__(170)\nvar isArray = __webpack_require__(172)\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(42)))\n\n/***/ }),\n/* 154 */,\n/* 155 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(156)(undefined);\n// imports\nexports.push([module.i, \"@import url(//fonts.googleapis.com/css?family=Fira+Mono|Muli:400,700);\", \"\"]);\n\n// module\nexports.push([module.i, \"/* reset */\\n* {\\n  box-sizing: border-box; }\\n\\nhtml, body, div, span, object, iframe,\\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\\nabbr, address, cite, code,\\ndel, dfn, em, img, ins, kbd, q, samp,\\nsmall, strong, sub, sup, var,\\nb, i,\\ndl, dt, dd, ol, ul, li,\\nfieldset, form, label, legend,\\ntable, caption, tbody, tfoot, thead, tr, th, td,\\narticle, aside, canvas, details, figcaption, figure,\\nfooter, header, hgroup, menu, nav, section, summary,\\ntime, mark, audio, video {\\n  margin: 0;\\n  padding: 0;\\n  border: 0;\\n  outline: 0;\\n  font-size: 100%;\\n  vertical-align: baseline;\\n  background: transparent;\\n  min-height: 0;\\n  min-width: 0; }\\n\\nbody {\\n  line-height: 1; }\\n\\narticle, aside, details, figcaption, figure,\\nfooter, header, hgroup, menu, nav, section {\\n  display: block; }\\n\\nnav ul {\\n  list-style: none; }\\n\\nblockquote, q {\\n  quotes: none; }\\n\\nblockquote:before, blockquote:after,\\nq:before, q:after {\\n  content: '';\\n  content: none; }\\n\\na {\\n  margin: 0;\\n  padding: 0;\\n  font-size: 100%;\\n  vertical-align: baseline;\\n  background: transparent; }\\n\\n/* change colours to suit your needs */\\nins {\\n  background-color: #ff9;\\n  color: #000;\\n  text-decoration: none; }\\n\\n/* change colours to suit your needs */\\nmark {\\n  background-color: #ff9;\\n  color: #000;\\n  font-style: italic;\\n  font-weight: bold; }\\n\\ndel {\\n  text-decoration: line-through; }\\n\\nabbr[title], dfn[title] {\\n  border-bottom: 1px dotted;\\n  cursor: help; }\\n\\ntable {\\n  border-collapse: collapse;\\n  border-spacing: 0; }\\n\\n/* change border colour to suit your needs */\\nhr {\\n  display: block;\\n  height: 1px;\\n  border: 0;\\n  border-top: 1px solid #cccccc;\\n  margin: 1em 0;\\n  padding: 0; }\\n\\ninput, select {\\n  vertical-align: middle; }\\n\\nbody {\\n  font-family: \\\"Muli\\\", sans-serif;\\n  line-height: 140%;\\n  color: #333; }\\n\\nh1 {\\n  font-size: 24px;\\n  font-size: 1.5rem; }\\n\\nh2 {\\n  font-size: 22px;\\n  font-size: 1.375rem; }\\n\\nh3 {\\n  font-size: 20px;\\n  font-size: 1.25rem; }\\n\\np {\\n  margin: .75em 0;\\n  font-size: 16px;\\n  font-size: 1rem; }\\n\\np:first-child {\\n  margin-top: 0; }\\n\\np:last-child {\\n  margin-bottom: 0; }\\n\\ncode {\\n  font: 16px/120% \\\"Fira Mono\\\", monospace; }\\n  code span {\\n    font-size: 12px;\\n    font-size: 0.75rem; }\\n\\n.view iframe {\\n  z-index: 1; }\\n\\n.overlay,\\n.view .drag-mask {\\n  z-index: 2; }\\n\\n.droplet,\\n.drag-handle {\\n  z-index: 3; }\\n\\n.dialog {\\n  z-index: 4; }\\n  .dialog .dialog-container[x-placement] .arrow:before {\\n    z-index: 6; }\\n  .dialog .dialog-container[x-placement] .arrow:after {\\n    z-index: 5; }\\n\\n.tooltip {\\n  z-index: 10; }\\n  .tooltip .arrow:before {\\n    z-index: 12; }\\n  .tooltip .arrow:after {\\n    z-index: 11; }\\n\\n.button:after {\\n  z-index: 1; }\\n\\n.button span {\\n  z-index: 2; }\\n\\n.logo {\\n  letter-spacing: 1px; }\\n  .logo b {\\n    color: #192fce; }\\n\\n* {\\n  user-select: none; }\\n\\n:not(svg) {\\n  cursor: default; }\\n\\n:focus {\\n  outline: none; }\\n\\n::-moz-focus-inner {\\n  border: 0; }\\n\\n.hidden {\\n  display: none; }\\n\\n/* main layout */\\nbody {\\n  background-color: #fff; }\\n\\n.app,\\n.tag-canvas {\\n  position: absolute;\\n  overflow: auto;\\n  left: 0;\\n  top: 0;\\n  bottom: 0;\\n  right: 0; }\\n\\n.tag-canvas {\\n  display: flex;\\n  flex-direction: column; }\\n  .tag-canvas header {\\n    flex-shrink: 0; }\\n  .tag-canvas .main {\\n    display: flex;\\n    flex-grow: 1; }\\n    .tag-canvas .main > *:not(.drag-handle) {\\n      flex-basis: 50%; }\\n    .tag-canvas .main .drag-handle {\\n      flex-basis: 20px; }\\n  .tag-canvas .pallet {\\n    flex-shrink: 0; }\\n\\nheader {\\n  display: flex;\\n  align-items: center;\\n  border-bottom: 1px solid #ccc;\\n  padding: 5px 10px;\\n  background: linear-gradient(to bottom, #f3f3f3 0%, #f1f1f1 100%); }\\n  header .logo {\\n    margin-right: 1em; }\\n  header p {\\n    margin: 0; }\\n  header .toolbar {\\n    margin-left: auto; }\\n\\n.toolbar ul {\\n  list-style: none;\\n  display: flex;\\n  padding: 0; }\\n  .toolbar ul li {\\n    margin-left: 5px;\\n    padding-left: 5px; }\\n    .toolbar ul li.separator {\\n      margin-left: 7.5px;\\n      padding-left: 9.5px;\\n      border-left: 2px solid #ccc; }\\n    .toolbar ul li.run .button {\\n      border-color: #319f2e;\\n      color: #319f2e; }\\n      .toolbar ul li.run .button .circle {\\n        background-color: #319f2e; }\\n      .toolbar ul li.run .button:hover > span {\\n        color: #fff;\\n        background-color: #51cc4d; }\\n\\n.toolbar .button {\\n  font-weight: bolder;\\n  font-size: 14px;\\n  font-size: 0.875rem; }\\n  .toolbar .button span {\\n    background-color: #fff; }\\n\\n.template {\\n  display: flex;\\n  flex-direction: column;\\n  overflow: hidden;\\n  border-right: 1px solid #ccc;\\n  background-color: #fcfdcc; }\\n  .template .template-inner {\\n    overflow: auto;\\n    flex-grow: 1; }\\n  .template pre {\\n    margin: 10px;\\n    line-height: 130%;\\n    -moz-tab-size: 3;\\n    tab-size: 3; }\\n    .template pre * {\\n      user-select: text;\\n      cursor: text; }\\n  .template .hljs {\\n    font-size: 1.125em;\\n    line-height: 130%; }\\n    .template .hljs .drop-zone .hljs-string {\\n      color: white; }\\n  .template .instruction {\\n    display: block;\\n    flex-shrink: 0;\\n    margin: 0;\\n    padding: 5px;\\n    color: #fff;\\n    background-color: #6172ec; }\\n\\n.view {\\n  position: relative;\\n  border-left: 1px solid #ccc; }\\n  .view iframe,\\n  .view .drag-mask {\\n    position: absolute;\\n    left: 0;\\n    top: 0;\\n    width: 100%;\\n    height: 100%; }\\n  .view .drag-mask {\\n    visibility: hidden;\\n    background-color: #fff; }\\n\\n.dragging .view .drag-mask {\\n  visibility: visible;\\n  opacity: .7; }\\n\\n.pallet {\\n  display: flex;\\n  flex-wrap: wrap;\\n  border-top: 1px solid #ccc;\\n  padding: 5px 10px;\\n  background-color: #eee; }\\n  .pallet .droplet {\\n    margin: 5px 10px 5px 0; }\\n\\nbutton::-moz-focus-inner {\\n  padding: 0;\\n  border: 0; }\\n\\n.button {\\n  -webkit-appearance: none;\\n  display: block;\\n  border: 0;\\n  padding: 0;\\n  text-decoration: none;\\n  font-size: 14px;\\n  font-size: 0.875rem;\\n  color: #333;\\n  background-color: transparent;\\n  cursor: pointer; }\\n  .button > span {\\n    display: block;\\n    overflow: hidden;\\n    position: relative;\\n    border-radius: 3px;\\n    border: 1px solid #ccc;\\n    padding: 5px 10px; }\\n  .button:hover > span,\\n  .button:focus > span {\\n    transform: translate(-2px, -2px);\\n    box-shadow: 2px 2px rgba(0, 0, 0, 0.2);\\n    cursor: pointer;\\n    background-color: #eee; }\\n  .button span.circle {\\n    position: absolute;\\n    transform: scale(0);\\n    opacity: .7;\\n    left: 0;\\n    top: 0;\\n    width: 100%;\\n    padding-top: 100%;\\n    border-radius: 50%;\\n    background-color: #a0a0a0;\\n    pointer-events: none; }\\n    .button span.circle.animate {\\n      animation: button-circle-out 0.6s cubic-bezier(0.77, 0, 0.175, 1); }\\n  .button .icon {\\n    margin: 0 5px 1px 0;\\n    vertical-align: middle; }\\n\\n.pseudo-button {\\n  display: inline-block;\\n  border: 1px solid #ccc;\\n  border-radius: 3px;\\n  padding: 1px 5px;\\n  color: #4d4d4d; }\\n  .pseudo-button > * {\\n    vertical-align: middle; }\\n  .pseudo-button svg {\\n    margin-bottom: .15em; }\\n  .pseudo-button.run {\\n    color: #51cc4d;\\n    fill: #51cc4d; }\\n\\n@keyframes button-circle-out {\\n  100% {\\n    transform: scale(6);\\n    opacity: 0; } }\\n\\n.drop-zone {\\n  display: inline-block;\\n  font-family: \\\"Fira Mono\\\", monospace; }\\n  .drop-zone .target-outer {\\n    display: inline-block;\\n    position: relative; }\\n  .drop-zone .target b {\\n    border-radius: 3px;\\n    padding: 2px 5px;\\n    background-color: #6172ec;\\n    line-height: 120%;\\n    color: white; }\\n  .drop-zone .target.hidden {\\n    display: none; }\\n  .drop-zone .attachments > * {\\n    display: inline-block;\\n    margin: 1px;\\n    border-radius: 3px;\\n    padding: 1px;\\n    background-color: #51cc4d; }\\n  .drop-zone .attachments .element {\\n    display: block; }\\n\\n.drop-zone.accept .target b,\\n.droplet-active .drop-zone.will-accept .target:hover b {\\n  background-color: #51cc4d; }\\n\\n.drop-zone.decline .target b,\\n.droplet-active .drop-zone.will-decline .target:hover b {\\n  background-color: #ff515c; }\\n\\n.drop-zone:not(.possible-target) .dropzone-attachment:hover {\\n  color: #fff;\\n  background-color: #319f2e;\\n  cursor: pointer; }\\n\\n.droplet-active .drop-zone .target b {\\n  cursor: pointer;\\n  background-color: #192fce; }\\n\\n.droplet-active .drop-zone .target:hover b {\\n  box-shadow: 2px 2px rgba(0, 0, 0, 0.2); }\\n\\n.droplet {\\n  -webkit-appearance: none;\\n  border: 0;\\n  height: 35px;\\n  padding: 0;\\n  text-decoration: none;\\n  cursor: pointer; }\\n  .droplet .label {\\n    transition: background-color 0.15s cubic-bezier(0.77, 0, 0.175, 1), color 0.15s cubic-bezier(0.77, 0, 0.175, 1), border-color 0.15s cubic-bezier(0.77, 0, 0.175, 1), opacity 0.5s cubic-bezier(0.77, 0, 0.175, 1);\\n    display: flex;\\n    align-items: center;\\n    opacity: 1;\\n    border-radius: 3px;\\n    border: 1px solid #a0a0a0;\\n    border-left-width: 5px;\\n    height: 35px;\\n    padding: 5px 10px;\\n    line-height: 120%;\\n    font-size: 14px;\\n    font-size: 0.875rem;\\n    background-color: #fff;\\n    color: #333;\\n    cursor: pointer; }\\n    .droplet .label .icon {\\n      transition: fill 0.15s cubic-bezier(0.77, 0, 0.175, 1);\\n      margin-right: .5em; }\\n  .droplet.active .label {\\n    color: #fff;\\n    background-color: #a0a0a0; }\\n    .droplet.active .label .icon {\\n      fill: #fff; }\\n  .droplet.item-dragging .label {\\n    opacity: 0.5;\\n    box-shadow: 2px 2px rgba(0, 0, 0, 0.2); }\\n  .droplet.type-text .label {\\n    border-color: #2f9ed8; }\\n  .droplet.type-text:hover .label {\\n    color: #2f9ed8; }\\n  .droplet.type-text.active .label {\\n    color: #fff;\\n    border-color: #1d719d;\\n    background-color: #1d719d; }\\n  .droplet.type-attribute .label {\\n    border-color: #51cc4d; }\\n  .droplet.type-attribute:hover .label {\\n    color: #51cc4d; }\\n  .droplet.type-attribute.active .label {\\n    color: #fff;\\n    border-color: #319f2e;\\n    background-color: #319f2e; }\\n  .droplet.type-element .label {\\n    border-color: #c044f1; }\\n  .droplet.type-element:hover .label {\\n    color: #c044f1; }\\n  .droplet.type-element.active .label {\\n    color: #fff;\\n    border-color: #a010d8;\\n    background-color: #a010d8; }\\n\\n.dialog {\\n  position: fixed;\\n  display: none;\\n  justify-content: center;\\n  align-items: center;\\n  left: 0;\\n  right: 0;\\n  top: 0;\\n  bottom: 0;\\n  background: #ccc;\\n  /* The Fallback */\\n  background: rgba(204, 204, 204, 0.7); }\\n  .dialog.visible {\\n    display: flex; }\\n  .dialog.no-overlay.visible {\\n    pointer-events: none;\\n    background: none; }\\n  .dialog .dialog-container {\\n    pointer-events: auto;\\n    box-shadow: 4px 4px rgba(0, 0, 0, 0.1);\\n    border: 1px solid #a0a0a0;\\n    max-width: 500px;\\n    background-color: #fbfbfb; }\\n  .dialog .dialog-heading {\\n    padding: 20px;\\n    border-bottom: 1px solid #ccc; }\\n    .dialog .dialog-heading .icon {\\n      margin-right: .5em; }\\n    .dialog .dialog-heading p:nth-of-type(n+2) {\\n      font-size: 14px;\\n      font-size: 0.875rem; }\\n  .dialog .button {\\n    font-size: 16px;\\n    font-size: 1rem; }\\n    .dialog .button > span {\\n      padding: 7.5px 15px; }\\n\\n.popup[x-placement^=\\\"top\\\"] {\\n  margin-bottom: 20px; }\\n\\n.popup[x-placement^=\\\"bottom\\\"] {\\n  margin-top: 20px; }\\n\\n.popup[x-placement^=\\\"right\\\"] {\\n  margin-left: 20px; }\\n\\n.popup[x-placement^=\\\"left\\\"] {\\n  margin-right: 20px; }\\n\\n.popup[x-placement] .arrow {\\n  position: absolute;\\n  overflow: hidden;\\n  width: 40px;\\n  height: 40px; }\\n  .popup[x-placement] .arrow:before, .popup[x-placement] .arrow:after {\\n    content: '';\\n    position: absolute;\\n    left: 0;\\n    top: 0;\\n    width: 0;\\n    border: 20px solid #fbfbfb; }\\n  .popup[x-placement] .arrow:after {\\n    border: 22px solid #a0a0a0; }\\n\\n.popup[x-placement^=\\\"top\\\"] .arrow,\\n.popup[x-placement^=\\\"bottom\\\"] .arrow {\\n  height: 20px; }\\n\\n.popup[x-placement^=\\\"left\\\"] .arrow,\\n.popup[x-placement^=\\\"right\\\"] .arrow {\\n  width: 20px; }\\n\\n.popup[x-placement^=\\\"top\\\"] .arrow {\\n  bottom: -20px;\\n  margin-left: -10px; }\\n  .popup[x-placement^=\\\"top\\\"] .arrow:before {\\n    border-color: #fbfbfb transparent transparent transparent; }\\n  .popup[x-placement^=\\\"top\\\"] .arrow:after {\\n    left: -2px;\\n    top: -1px;\\n    border-color: #a0a0a0 transparent transparent transparent; }\\n\\n.popup[x-placement^=\\\"bottom\\\"] .arrow {\\n  top: -20px;\\n  margin-left: -10px; }\\n  .popup[x-placement^=\\\"bottom\\\"] .arrow:before {\\n    top: -20px;\\n    border-color: transparent transparent #fbfbfb transparent; }\\n  .popup[x-placement^=\\\"bottom\\\"] .arrow:after {\\n    left: -2px;\\n    top: -21px;\\n    border-color: transparent transparent #a0a0a0 transparent; }\\n\\n.popup[x-placement^=\\\"left\\\"] .arrow {\\n  right: -20px; }\\n  .popup[x-placement^=\\\"left\\\"] .arrow:before {\\n    border-color: transparent transparent transparent #fbfbfb; }\\n  .popup[x-placement^=\\\"left\\\"] .arrow:after {\\n    left: -1px;\\n    top: -2px;\\n    border-color: transparent transparent transparent #a0a0a0; }\\n\\n.popup[x-placement^=\\\"right\\\"] .arrow {\\n  left: -20px; }\\n  .popup[x-placement^=\\\"right\\\"] .arrow:before {\\n    left: auto;\\n    right: 0;\\n    border-color: transparent #fbfbfb transparent transparent; }\\n  .popup[x-placement^=\\\"right\\\"] .arrow:after {\\n    left: auto;\\n    right: -1px;\\n    top: -2px;\\n    border-color: transparent #a0a0a0 transparent transparent; }\\n\\n.popup code {\\n  display: block;\\n  box-shadow: 2px 2px rgba(0, 0, 0, 0.2);\\n  margin: 1em 0;\\n  width: 100%;\\n  padding: 5px;\\n  word-wrap: break-word;\\n  font-size: 12px;\\n  font-size: 0.75rem;\\n  background-color: #fcfdcc; }\\n\\nform fieldset:not(.buttons) {\\n  padding: 0 20px;\\n  margin: 10px 0; }\\n\\nform fieldset.buttons {\\n  text-align: right;\\n  border-top: 1px solid #ccc;\\n  padding: 20px; }\\n  form fieldset.buttons button {\\n    display: inline-block;\\n    margin: 0 .25em; }\\n    form fieldset.buttons button.pull-left {\\n      float: left; }\\n\\nform legend {\\n  font-weight: bolder; }\\n\\nform .field {\\n  display: flex;\\n  align-items: center;\\n  margin: 10px 0; }\\n  form .field label {\\n    width: 40%; }\\n\\ninput,\\nselect,\\nbutton {\\n  font-family: \\\"Muli\\\", sans-serif; }\\n\\ninput,\\nselect {\\n  user-select: all;\\n  font-size: 14px;\\n  font-size: 0.875rem;\\n  padding: 5px; }\\n\\nbutton {\\n  position: relative; }\\n  button.primary, button.danger {\\n    font-weight: bolder; }\\n  button.primary > span {\\n    border-color: #6172ec;\\n    color: #6172ec; }\\n  button.primary .circle {\\n    background-color: #1d35e4; }\\n  button.primary:hover > span,\\n  button.primary:focus > span {\\n    color: #fff;\\n    background-color: #7886ef; }\\n  button.danger > span {\\n    border-color: #ff515c;\\n    color: #ff515c; }\\n  button.danger .circle {\\n    background-color: #ff0514; }\\n  button.danger:hover > span,\\n  button.danger:focus > span {\\n    color: #fff;\\n    background-color: #ff6b74; }\\n\\n.icon {\\n  pointer-events: none; }\\n  .icon use {\\n    fill: currentColor; }\\n\\n.drag-handle {\\n  position: relative;\\n  background-color: #eee;\\n  cursor: col-resize; }\\n  .drag-handle:after {\\n    content: '';\\n    transition: all 0.15s cubic-bezier(0.77, 0, 0.175, 1);\\n    position: absolute;\\n    box-sizing: border-box;\\n    left: 50%;\\n    top: 50%;\\n    margin-top: -25px;\\n    margin-left: -4px;\\n    width: 8px;\\n    height: 50px;\\n    border-left: 2px solid #ccc;\\n    border-right: 2px solid #ccc; }\\n  .drag-handle:hover, .drag-handle.item-dragging {\\n    background-color: #f4f4f4; }\\n  .drag-handle:hover:after, .drag-handle.item-dragging:after {\\n    height: 100px;\\n    margin-top: -50px; }\\n\\n.tooltip {\\n  position: absolute;\\n  max-width: 400px; }\\n  .tooltip .content {\\n    box-shadow: 4px 4px rgba(0, 0, 0, 0.1);\\n    padding: 10px;\\n    background-color: #fbfbfb; }\\n    .tooltip .content h2 {\\n      font-size: 18px;\\n      font-size: 1.125rem; }\\n      .tooltip .content h2 .icon {\\n        margin-right: .5em;\\n        vertical-align: middle;\\n        fill: #192fce; }\\n  .tooltip .arrow:after {\\n    display: none; }\\n\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 156 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(Buffer) {/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap) {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n  var base64 = new Buffer(JSON.stringify(sourceMap)).toString('base64');\n  var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n  return '/*# ' + data + ' */';\n}\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(153).Buffer))\n\n/***/ }),\n/* 157 */,\n/* 158 */,\n/* 159 */,\n/* 160 */,\n/* 161 */,\n/* 162 */,\n/* 163 */,\n/* 164 */,\n/* 165 */,\n/* 166 */,\n/* 167 */,\n/* 168 */,\n/* 169 */,\n/* 170 */\n/***/ (function(module, exports) {\n\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n\n\n/***/ }),\n/* 171 */,\n/* 172 */\n/***/ (function(module, exports) {\n\nvar toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n\n/***/ }),\n/* 173 */,\n/* 174 */,\n/* 175 */,\n/* 176 */,\n/* 177 */,\n/* 178 */,\n/* 179 */,\n/* 180 */,\n/* 181 */,\n/* 182 */,\n/* 183 */,\n/* 184 */,\n/* 185 */,\n/* 186 */,\n/* 187 */,\n/* 188 */,\n/* 189 */,\n/* 190 */,\n/* 191 */,\n/* 192 */,\n/* 193 */,\n/* 194 */,\n/* 195 */,\n/* 196 */,\n/* 197 */,\n/* 198 */,\n/* 199 */,\n/* 200 */,\n/* 201 */,\n/* 202 */,\n/* 203 */,\n/* 204 */,\n/* 205 */,\n/* 206 */,\n/* 207 */,\n/* 208 */,\n/* 209 */,\n/* 210 */,\n/* 211 */,\n/* 212 */,\n/* 213 */,\n/* 214 */,\n/* 215 */,\n/* 216 */,\n/* 217 */,\n/* 218 */,\n/* 219 */,\n/* 220 */,\n/* 221 */,\n/* 222 */,\n/* 223 */,\n/* 224 */,\n/* 225 */,\n/* 226 */,\n/* 227 */,\n/* 228 */,\n/* 229 */,\n/* 230 */,\n/* 231 */,\n/* 232 */,\n/* 233 */,\n/* 234 */,\n/* 235 */,\n/* 236 */,\n/* 237 */,\n/* 238 */,\n/* 239 */,\n/* 240 */,\n/* 241 */,\n/* 242 */,\n/* 243 */,\n/* 244 */,\n/* 245 */,\n/* 246 */,\n/* 247 */,\n/* 248 */,\n/* 249 */,\n/* 250 */,\n/* 251 */,\n/* 252 */,\n/* 253 */,\n/* 254 */,\n/* 255 */,\n/* 256 */,\n/* 257 */,\n/* 258 */,\n/* 259 */,\n/* 260 */,\n/* 261 */,\n/* 262 */,\n/* 263 */,\n/* 264 */,\n/* 265 */,\n/* 266 */,\n/* 267 */,\n/* 268 */,\n/* 269 */,\n/* 270 */,\n/* 271 */,\n/* 272 */,\n/* 273 */,\n/* 274 */,\n/* 275 */,\n/* 276 */,\n/* 277 */,\n/* 278 */,\n/* 279 */\n/***/ (function(module, exports) {\n\n(function(host) {\n\n  var properties = {\n    browser: [\n      [/msie ([\\.\\_\\d]+)/, \"ie\"],\n      [/trident\\/.*?rv:([\\.\\_\\d]+)/, \"ie\"],\n      [/firefox\\/([\\.\\_\\d]+)/, \"firefox\"],\n      [/chrome\\/([\\.\\_\\d]+)/, \"chrome\"],\n      [/version\\/([\\.\\_\\d]+).*?safari/, \"safari\"],\n      [/mobile safari ([\\.\\_\\d]+)/, \"safari\"],\n      [/android.*?version\\/([\\.\\_\\d]+).*?safari/, \"com.android.browser\"],\n      [/crios\\/([\\.\\_\\d]+).*?safari/, \"chrome\"],\n      [/opera/, \"opera\"],\n      [/opera\\/([\\.\\_\\d]+)/, \"opera\"],\n      [/opera ([\\.\\_\\d]+)/, \"opera\"],\n      [/opera mini.*?version\\/([\\.\\_\\d]+)/, \"opera.mini\"],\n      [/opios\\/([a-z\\.\\_\\d]+)/, \"opera\"],\n      [/blackberry/, \"blackberry\"],\n      [/blackberry.*?version\\/([\\.\\_\\d]+)/, \"blackberry\"],\n      [/bb\\d+.*?version\\/([\\.\\_\\d]+)/, \"blackberry\"],\n      [/rim.*?version\\/([\\.\\_\\d]+)/, \"blackberry\"],\n      [/iceweasel\\/([\\.\\_\\d]+)/, \"iceweasel\"],\n      [/edge\\/([\\.\\d]+)/, \"edge\"]\n    ],\n    os: [\n      [/linux ()([a-z\\.\\_\\d]+)/, \"linux\"],\n      [/mac os x/, \"macos\"],\n      [/mac os x.*?([\\.\\_\\d]+)/, \"macos\"],\n      [/os ([\\.\\_\\d]+) like mac os/, \"ios\"],\n      [/openbsd ()([a-z\\.\\_\\d]+)/, \"openbsd\"],\n      [/android/, \"android\"],\n      [/android ([a-z\\.\\_\\d]+);/, \"android\"],\n      [/mozilla\\/[a-z\\.\\_\\d]+ \\((?:mobile)|(?:tablet)/, \"firefoxos\"],\n      [/windows\\s*(?:nt)?\\s*([\\.\\_\\d]+)/, \"windows\"],\n      [/windows phone.*?([\\.\\_\\d]+)/, \"windows.phone\"],\n      [/windows mobile/, \"windows.mobile\"],\n      [/blackberry/, \"blackberryos\"],\n      [/bb\\d+/, \"blackberryos\"],\n      [/rim.*?os\\s*([\\.\\_\\d]+)/, \"blackberryos\"]\n    ],\n    device: [\n      [/ipad/, \"ipad\"],\n      [/iphone/, \"iphone\"],\n      [/lumia/, \"lumia\"],\n      [/htc/, \"htc\"],\n      [/nexus/, \"nexus\"],\n      [/galaxy nexus/, \"galaxy.nexus\"],\n      [/nokia/, \"nokia\"],\n      [/ gt\\-/, \"galaxy\"],\n      [/ sm\\-/, \"galaxy\"],\n      [/xbox/, \"xbox\"],\n      [/(?:bb\\d+)|(?:blackberry)|(?: rim )/, \"blackberry\"]\n    ]\n  };\n\n  var UNKNOWN = \"Unknown\";\n\n  var propertyNames = Object.keys(properties);\n\n  function Sniffr() {\n    var self = this;\n\n    propertyNames.forEach(function(propertyName) {\n      self[propertyName] = {\n        name: UNKNOWN,\n        version: [],\n        versionString: UNKNOWN\n      };\n    });\n  }\n\n  function determineProperty(self, propertyName, userAgent) {\n    properties[propertyName].forEach(function(propertyMatcher) {\n      var propertyRegex = propertyMatcher[0];\n      var propertyValue = propertyMatcher[1];\n\n      var match = userAgent.match(propertyRegex);\n\n      if (match) {\n        self[propertyName].name = propertyValue;\n\n        if (match[2]) {\n          self[propertyName].versionString = match[2];\n          self[propertyName].version = [];\n        } else if (match[1]) {\n          self[propertyName].versionString = match[1].replace(/_/g, \".\");\n          self[propertyName].version = parseVersion(match[1]);\n        } else {\n          self[propertyName].versionString = UNKNOWN;\n          self[propertyName].version = [];\n        }\n      }\n    });\n  }\n\n  function parseVersion(versionString) {\n    return versionString.split(/[\\._]/).map(function(versionPart) {\n      return parseInt(versionPart);\n    });\n  }\n\n  Sniffr.prototype.sniff = function(userAgentString) {\n    var self = this;\n    var userAgent = (userAgentString || navigator.userAgent || \"\").toLowerCase();\n\n    propertyNames.forEach(function(propertyName) {\n      determineProperty(self, propertyName, userAgent);\n    });\n  };\n\n\n  if (typeof module !== 'undefined' && module.exports) {\n    module.exports = Sniffr;\n  } else {\n    host.Sniffr = new Sniffr();\n    host.Sniffr.sniff(navigator.userAgent);\n  }\n})(this);\n\n\n/***/ }),\n/* 280 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\nvar stylesInDom = {},\n\tmemoize = function(fn) {\n\t\tvar memo;\n\t\treturn function () {\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\t\treturn memo;\n\t\t};\n\t},\n\tisOldIE = memoize(function() {\n\t\treturn /msie [6-9]\\b/.test(self.navigator.userAgent.toLowerCase());\n\t}),\n\tgetHeadElement = memoize(function () {\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\n\t}),\n\tsingletonElement = null,\n\tsingletonCounter = 0,\n\tstyleElementsInsertedAtTop = [],\n\tfixUrls = __webpack_require__(281);\n\nmodule.exports = function(list, options) {\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the bottom of <head>.\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list);\n\taddStylesToDom(styles, options);\n\n\treturn function update(newList) {\n\t\tvar mayRemove = [];\n\t\tfor(var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\n\t\t\t\t\tdomStyle.parts[j]();\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom(styles, options) {\n\tfor(var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles(list) {\n\tvar styles = [];\n\tvar newStyles = {};\n\tfor(var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\t\tif(!newStyles[id])\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse\n\t\t\tnewStyles[id].parts.push(part);\n\t}\n\treturn styles;\n}\n\nfunction insertStyleElement(options, styleElement) {\n\tvar head = getHeadElement();\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\n\tif (options.insertAt === \"top\") {\n\t\tif(!lastStyleElementInsertedAtTop) {\n\t\t\thead.insertBefore(styleElement, head.firstChild);\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\thead.appendChild(styleElement);\n\t\t}\n\t\tstyleElementsInsertedAtTop.push(styleElement);\n\t} else if (options.insertAt === \"bottom\") {\n\t\thead.appendChild(styleElement);\n\t} else {\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\n\t}\n}\n\nfunction removeStyleElement(styleElement) {\n\tstyleElement.parentNode.removeChild(styleElement);\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\n\tif(idx >= 0) {\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement(options) {\n\tvar styleElement = document.createElement(\"style\");\n\toptions.attrs.type = \"text/css\";\n\n\tattachTagAttrs(styleElement, options.attrs);\n\tinsertStyleElement(options, styleElement);\n\treturn styleElement;\n}\n\nfunction createLinkElement(options) {\n\tvar linkElement = document.createElement(\"link\");\n\toptions.attrs.type = \"text/css\";\n\toptions.attrs.rel = \"stylesheet\";\n\n\tattachTagAttrs(linkElement, options.attrs);\n\tinsertStyleElement(options, linkElement);\n\treturn linkElement;\n}\n\nfunction attachTagAttrs(element, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\telement.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle(obj, options) {\n\tvar styleElement, update, remove;\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\n\t} else if(obj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\") {\n\t\tstyleElement = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, styleElement, options);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t\tif(styleElement.href)\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\n\t\t};\n\t} else {\n\t\tstyleElement = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle(newObj) {\n\t\tif(newObj) {\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\n\t\t\t\treturn;\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = styleElement.childNodes;\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\n\t\tif (childNodes.length) {\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyleElement.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag(styleElement, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyleElement.setAttribute(\"media\", media)\n\t}\n\n\tif(styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = css;\n\t} else {\n\t\twhile(styleElement.firstChild) {\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\n\t\t}\n\t\tstyleElement.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink(linkElement, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/* If convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls){\n\t\tcss = fixUrls(css);\n\t}\n\n\tif(sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = linkElement.href;\n\n\tlinkElement.href = URL.createObjectURL(blob);\n\n\tif(oldSrc)\n\t\tURL.revokeObjectURL(oldSrc);\n}\n\n\n/***/ }),\n/* 281 */\n/***/ (function(module, exports) {\n\n\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\tvar fixedCss = css.replace(/url *\\( *(.+?) *\\)/g, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n\n\n/***/ }),\n/* 282 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(155);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(280)(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../css-loader/index.js!../../../sass-loader/lib/loader.js!./main.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../css-loader/index.js!../../../sass-loader/lib/loader.js!./main.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n/* 283 */,\n/* 284 */,\n/* 285 */,\n/* 286 */,\n/* 287 */,\n/* 288 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar sprite = __webpack_require__(16);\nvar image = \"<symbol viewBox=\\\"0 0 8 8\\\" id=\\\"icon-compass\\\" > <path d=\\\"M4 0c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4zm0 1c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm2 1l-3 1-1 3 3-1 1-3zm-2 1.5c.28 0 .5.22.5.5s-.22.5-.5.5-.5-.22-.5-.5.22-.5.5-.5z\\\"/> </symbol>\";\nmodule.exports = sprite.add(image, \"icon-compass\");\n\n/***/ }),\n/* 289 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar sprite = __webpack_require__(16);\nvar image = \"<symbol viewBox=\\\"0 0 8 8\\\" id=\\\"icon-lightbulb\\\" > <path d=\\\"M3.41 0a.5.5 0 0 0-.13.06l-3 1.5a.5.5 0 1 0 .44.88l3-1.5a.5.5 0 0 0-.31-.94zm1 1.5a.5.5 0 0 0-.13.06l-4 2a.5.5 0 1 0 .44.88l4-2a.5.5 0 0 0-.31-.94zm0 2a.5.5 0 0 0-.13.06l-3 1.5a.5.5 0 0 0 .22.94h2a.5.5 0 0 0 .16-1l1.06-.56a.5.5 0 0 0-.31-.94zm-2.56 3.5a.5.5 0 0 0 .16 1h1a.5.5 0 1 0 0-1h-1a.5.5 0 0 0-.09 0 .5.5 0 0 0-.06 0z\\\" transform=\\\"translate(1)\\\"/> </symbol>\";\nmodule.exports = sprite.add(image, \"icon-lightbulb\");\n\n/***/ }),\n/* 290 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar sprite = __webpack_require__(16);\nvar image = \"<symbol viewBox=\\\"0 0 8 8\\\" id=\\\"icon-loop-circular\\\" > <path d=\\\"M4 0c-1.65 0-3 1.35-3 3h-1l1.5 2 1.5-2h-1c0-1.11.89-2 2-2v-1zm2.5 1l-1.5 2h1c0 1.11-.89 2-2 2v1c1.65 0 3-1.35 3-3h1l-1.5-2z\\\" transform=\\\"translate(0 1)\\\"/> </symbol>\";\nmodule.exports = sprite.add(image, \"icon-loop-circular\");\n\n/***/ }),\n/* 291 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar sprite = __webpack_require__(16);\nvar image = \"<symbol viewBox=\\\"0 0 8 8\\\" id=\\\"icon-media-play\\\" > <path d=\\\"M0 0v6l6-3-6-3z\\\" transform=\\\"translate(1 1)\\\"/> </symbol>\";\nmodule.exports = sprite.add(image, \"icon-media-play\");\n\n/***/ }),\n/* 292 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar sprite = __webpack_require__(16);\nvar image = \"<symbol viewBox=\\\"0 0 8 8\\\" id=\\\"icon-puzzle-piece\\\" > <path d=\\\"M3 0c-.28 0-.54.1-.72.28-.18.18-.28.44-.28.72 0 .28.18.48.28.72.03.06.03.16.03.28h-2.31v6h2.31c0-.12-.01-.22-.03-.28-.1-.24-.28-.44-.28-.72 0-.28.1-.54.28-.72.18-.18.44-.28.72-.28.28 0 .54.1.72.28.18.18.28.44.28.72 0 .28-.18.48-.28.72-.03.06-.03.16-.03.28h2.31v-2.31c.12 0 .22.01.28.03.24.1.44.28.72.28.28 0 .54-.1.72-.28.18-.18.28-.44.28-.72 0-.28-.1-.54-.28-.72-.18-.18-.44-.28-.72-.28-.28 0-.48.18-.72.28-.06.03-.16.03-.28.03v-2.31h-2.31c0-.12.01-.22.03-.28.1-.24.28-.44.28-.72 0-.28-.1-.54-.28-.72-.18-.18-.44-.28-.72-.28z\\\"/> </symbol>\";\nmodule.exports = sprite.add(image, \"icon-puzzle-piece\");\n\n/***/ }),\n/* 293 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar sprite = __webpack_require__(16);\nvar image = \"<symbol viewBox=\\\"0 0 8 8\\\" id=\\\"icon-resize-width\\\" > <path d=\\\"M3 0l-3 2.5 3 2.5v-2h2v2l3-2.5-3-2.5v2h-2v-2z\\\" transform=\\\"translate(0 1)\\\"/> </symbol>\";\nmodule.exports = sprite.add(image, \"icon-resize-width\");\n\n/***/ }),\n/* 294 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar sprite = __webpack_require__(16);\nvar image = \"<symbol viewBox=\\\"0 0 8 8\\\" id=\\\"icon-tag\\\" > <path d=\\\"M0 0v3l5 5 3-3-5-5h-3zm2 1c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1z\\\"/> </symbol>\";\nmodule.exports = sprite.add(image, \"icon-tag\");\n\n/***/ }),\n/* 295 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar sprite = __webpack_require__(16);\nvar image = \"<symbol viewBox=\\\"0 0 8 8\\\" id=\\\"icon-text\\\" > <path d=\\\"M0 0v2h.5c0-.55.45-1 1-1h1.5v5.5c0 .28-.22.5-.5.5h-.5v1h4v-1h-.5c-.28 0-.5-.22-.5-.5v-5.5h1.5c.55 0 1 .45 1 1h.5v-2h-8z\\\"/> </symbol>\";\nmodule.exports = sprite.add(image, \"icon-text\");\n\n/***/ }),\n/* 296 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Sniffr = __webpack_require__(279);\n\n/**\n * List of SVG attributes to fix url target in them\n * @type {string[]}\n */\nvar fixAttributes = [\n  'clipPath',\n  'colorProfile',\n  'src',\n  'cursor',\n  'fill',\n  'filter',\n  'marker',\n  'markerStart',\n  'markerMid',\n  'markerEnd',\n  'mask',\n  'stroke'\n];\n\n/**\n * Query to find'em\n * @type {string}\n */\nvar fixAttributesQuery = '[' + fixAttributes.join('],[') + ']';\n/**\n * @type {RegExp}\n */\nvar URI_FUNC_REGEX = /^url\\((.*)\\)$/;\n\n/**\n * Convert array-like to array\n * @param {Object} arrayLike\n * @returns {Array.<*>}\n */\nfunction arrayFrom(arrayLike) {\n  return Array.prototype.slice.call(arrayLike, 0);\n}\n\n/**\n * Handles forbidden symbols which cannot be directly used inside attributes with url(...) content.\n * Adds leading slash for the brackets\n * @param {string} url\n * @return {string} encoded url\n */\nfunction encodeUrlForEmbedding(url) {\n  return url.replace(/\\(|\\)/g, \"\\\\$&\");\n}\n\n/**\n * Replaces prefix in `url()` functions\n * @param {Element} svg\n * @param {string} currentUrlPrefix\n * @param {string} newUrlPrefix\n */\nfunction baseUrlWorkAround(svg, currentUrlPrefix, newUrlPrefix) {\n  var nodes = svg.querySelectorAll(fixAttributesQuery);\n\n  if (!nodes) {\n    return;\n  }\n\n  arrayFrom(nodes).forEach(function (node) {\n    if (!node.attributes) {\n      return;\n    }\n\n    arrayFrom(node.attributes).forEach(function (attribute) {\n      var attributeName = attribute.localName.toLowerCase();\n\n      if (fixAttributes.indexOf(attributeName) !== -1) {\n        var match = URI_FUNC_REGEX.exec(node.getAttribute(attributeName));\n\n        // Do not touch urls with unexpected prefix\n        if (match && match[1].indexOf(currentUrlPrefix) === 0) {\n          var referenceUrl = encodeUrlForEmbedding(newUrlPrefix + match[1].split(currentUrlPrefix)[1]);\n          node.setAttribute(attributeName, 'url(' + referenceUrl + ')');\n        }\n      }\n    });\n  });\n}\n\n/**\n * Because of Firefox bug #353575 gradients and patterns don't work if they are within a symbol.\n * To workaround this we move the gradient definition outside the symbol element\n * @see https://bugzilla.mozilla.org/show_bug.cgi?id=353575\n * @param {Element} svg\n */\nvar FirefoxSymbolBugWorkaround = function (svg) {\n  var defs = svg.querySelector('defs');\n\n  var moveToDefsElems = svg.querySelectorAll('symbol linearGradient, symbol radialGradient, symbol pattern');\n  for (var i = 0, len = moveToDefsElems.length; i < len; i++) {\n    defs.appendChild(moveToDefsElems[i]);\n  }\n};\n\n/**\n * Fix for browser (IE, maybe other too) which are throwing 'WrongDocumentError'\n * if you insert an element which is not part of the document\n * @see http://stackoverflow.com/questions/7981100/how-do-i-dynamically-insert-an-svg-image-into-html#7986519\n * @param {Element} svg\n */\nfunction importSvg(svg) {\n  try {\n    if (document.importNode) {\n      return document.importNode(svg, true);\n    }\n  } catch(e) {}\n\n  return svg;\n}\n\n/**\n * @type {string}\n */\nvar DEFAULT_URI_PREFIX = '#';\n\n/**\n * @type {string}\n */\nvar xLinkHref = 'xlink:href';\n/**\n * @type {string}\n */\nvar xLinkNS = 'http://www.w3.org/1999/xlink';\n/**\n * @type {string}\n */\nvar svgOpening = '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"' + xLinkNS + '\"';\n/**\n * @type {string}\n */\nvar svgClosing = '</svg>';\n/**\n * @type {string}\n */\nvar contentPlaceHolder = '{content}';\n\n/**\n * Representation of SVG sprite\n * @constructor\n */\nfunction Sprite() {\n  var baseElement = document.getElementsByTagName('base')[0];\n  var currentUrl = window.location.href.split('#')[0];\n  var baseUrl = baseElement && baseElement.href;\n  this.urlPrefix = baseUrl && baseUrl !== currentUrl ? currentUrl + DEFAULT_URI_PREFIX : DEFAULT_URI_PREFIX;\n\n  var sniffr = new Sniffr();\n  sniffr.sniff();\n  this.browser = sniffr.browser;\n  this.content = [];\n\n  if (this.browser.name !== 'ie' && baseUrl) {\n    window.addEventListener('spriteLoaderLocationUpdated', function (e) {\n      var currentPrefix = this.urlPrefix;\n      var newUrlPrefix = e.detail.newUrl.split(DEFAULT_URI_PREFIX)[0] + DEFAULT_URI_PREFIX;\n      baseUrlWorkAround(this.svg, currentPrefix, newUrlPrefix);\n      this.urlPrefix = newUrlPrefix;\n\n      if (this.browser.name === 'firefox' || this.browser.name === 'edge' || this.browser.name === 'chrome' && this.browser.version[0] >= 49) {\n        var nodes = arrayFrom(document.querySelectorAll('use[*|href]'));\n        nodes.forEach(function (node) {\n          var href = node.getAttribute(xLinkHref);\n          if (href && href.indexOf(currentPrefix) === 0) {\n            node.setAttributeNS(xLinkNS, xLinkHref, newUrlPrefix + href.split(DEFAULT_URI_PREFIX)[1]);\n          }\n        });\n      }\n    }.bind(this));\n  }\n}\n\nSprite.styles = ['position:absolute', 'width:0', 'height:0'];\n\nSprite.spriteTemplate = function(){ return svgOpening + ' style=\"'+ Sprite.styles.join(';') +'\"><defs>' + contentPlaceHolder + '</defs>' + svgClosing; }\nSprite.symbolTemplate = function() { return svgOpening + '>' + contentPlaceHolder + svgClosing; }\n\n/**\n * @type {Array<String>}\n */\nSprite.prototype.content = null;\n\n/**\n * @param {String} content\n * @param {String} id\n */\nSprite.prototype.add = function (content, id) {\n  if (this.svg) {\n    this.appendSymbol(content);\n  }\n\n  this.content.push(content);\n\n  return DEFAULT_URI_PREFIX + id;\n};\n\n/**\n *\n * @param content\n * @param template\n * @returns {Element}\n */\nSprite.prototype.wrapSVG = function (content, template) {\n  var svgString = template.replace(contentPlaceHolder, content);\n\n  var svg = new DOMParser().parseFromString(svgString, 'image/svg+xml').documentElement;\n  var importedSvg = importSvg(svg);\n\n  if (this.browser.name !== 'ie' && this.urlPrefix) {\n    baseUrlWorkAround(importedSvg, DEFAULT_URI_PREFIX, this.urlPrefix);\n  }\n\n  return importedSvg;\n};\n\nSprite.prototype.appendSymbol = function (content) {\n  var symbol = this.wrapSVG(content, Sprite.symbolTemplate()).childNodes[0];\n\n  this.svg.querySelector('defs').appendChild(symbol);\n  if (this.browser.name === 'firefox') {\n    FirefoxSymbolBugWorkaround(this.svg);\n  }\n};\n\n/**\n * @returns {String}\n */\nSprite.prototype.toString = function () {\n  var wrapper = document.createElement('div');\n  wrapper.appendChild(this.render());\n  return wrapper.innerHTML;\n};\n\n/**\n * @param {HTMLElement} [target]\n * @param {Boolean} [prepend=true]\n * @returns {HTMLElement} Rendered sprite node\n */\nSprite.prototype.render = function (target, prepend) {\n  target = target || null;\n  prepend = typeof prepend === 'boolean' ? prepend : true;\n\n  var svg = this.wrapSVG(this.content.join(''), Sprite.spriteTemplate());\n\n  if (this.browser.name === 'firefox') {\n    FirefoxSymbolBugWorkaround(svg);\n  }\n\n  if (target) {\n    if (prepend && target.childNodes[0]) {\n      target.insertBefore(svg, target.childNodes[0]);\n    } else {\n      target.appendChild(svg);\n    }\n  }\n\n  this.svg = svg;\n\n  return svg;\n};\n\nmodule.exports = Sprite;\n\n\n/***/ }),\n/* 297 */,\n/* 298 */,\n/* 299 */,\n/* 300 */,\n/* 301 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar App = __webpack_require__(116).default;\n\nvar app = new App({\n\tonElementRender: function onElementRender(markup, droplet, zone, is_output) {\n\t\tif (droplet.name === 'Letter button' && is_output) {\n\t\t\tmarkup.innerHTML = '<span>' + markup.innerHTML + '</span>';\n\t\t}\n\n\t\treturn markup;\n\t}\n});\n\napp.load('templates/default.html', 'templates/pallet.json').catch(function (error) {\n\tconsole.error(error);\n});\n\n/***/ })\n],[301]);\n\n\n// WEBPACK FOOTER //\n// main.min.js","/**\n * @module assets/constants\n */\n\n/**\n * Action types\n * @private\n */\nexport const actionTypes = {\n\tUI_STATE: 'ui-state',\n\tZONE_ADD_ATTACHMENT: 'zone-add-attachment',\n\tZONE_EDIT_ATTACHMENT: 'zone-edit-attachment',\n\tZONE_DETACH_ATTACHMENT: 'zone-detach-attachment',\n\tZONE_CLEAR_ALL_ATTACHMENTS: 'zone-clear-all-attachments',\n\tSET_DIALOG_MODE: 'set-dialog-mode',\n\tSET_ACTIVE_DROPLET: 'set-active-droplet',\n\tSET_TOUR_STAGE: 'set-tour-stage',\n\tSHOW_TOOLTIP: 'show-tooltip',\n\tHIDE_TOOLTIP: 'hide-tooltip',\n\tSET_TOOLTIP_CONTENT: 'set-tooltip-content',\n\tCOMPLETE_FIRST_DROP: 'complete-first-drop',\n\tCOMPLETE_LAST_DROP: 'complete-last-drop',\n\tRESET_APP: 'reset-app'\n};\n\n/**\n * Dialog modes\n */\nexport const dialogModes = {\n\tNONE: 'none',\n\tGENERAL: 'general',\n\tEDIT_DROPLET: 'edit-droplet',\n\tTOUR: 'tour'\n};\n\nexport const uiStates = {\n\tINITIALISING: 'initialising',\n\tACTIVE: 'active'\n};\n\nexport const messageCommands = {\n\tRELOAD: 'reload',\n\tRESET: 'reset',\n\tDIALOG: 'dialog',\n\tDIALOG_CALLBACK: 'dialog-callback'\n};\n\nexport const errorCodes = {\n\tNOT_A_DROPLET: 'A valid Droplet instance must be passed to DropZone#willAccept.'\n};\n\nexport const setLabels = {\n\tvalue: 'Value',\n\tattrs: 'Attributes',\n\ttagName: 'Tag name',\n\tinnerHTML: 'HTML content'\n};\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/assets/constants.js","export const registerGeneralEvent = function(component, id, info) {\n\tvar args = arguments;\n\n\treturn function(event) {\n\t\tevent.preventDefault();\n\t\tif (typeof component.props.onEvent === 'function') {\n\t\t\tcomponent.props.onEvent.apply(component, [event, info, id].concat(\n\t\t\t\tArray.prototype.slice.call(args, 3)\n\t\t\t));\n\t\t}\n\t}.bind(this);\n};\n\nexport const collectRef = function(props, collection, key) {\n\treturn function(ref) {\n\t\tif (typeof props.refCollector === 'function') {\n\t\t\tprops.refCollector(collection, ref, key);\n\t\t} else {\n\t\t\tthrow new Error(\n\t\t\t\t'ref collection used but no collector has been set up for ' +\n\t\t\t\tcollection + (key ? '/' + key : '')\n\t\t\t);\n\t\t}\n\t};\n};\n\n/**\n * Returns a function for validating specific keys within an object property.\n */\nexport const validatePropKeys = function(require) {\n\treturn function(props, key, component) {\n\t\tvar a;\n\n\t\tfor (a = 0; a < require.length; a += 1) {\n\t\t\tif (!props[key].hasOwnProperty(require[a]) &&\n\t\t\t\tprops[key][require[a]] !== undefined) {\n\t\t\t\treturn new Error(\n\t\t\t\t\t'Prop\t`' + key + '` does not contain definition `' + require[a] +\n\t\t\t\t\t\t'` in ' + component + ' component.'\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t};\n};\n\n/**\n * Escapes a string for use as a match within a regex\n * @see http://stackoverflow.com/questions/3446170/escape-string-for-use-in-javascript-regex/6969486#6969486\n */\nexport const escapeRegExp = function(str) {\n\treturn str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\$&');\n};\n\nexport const rawMarkup = function(html) {\n\treturn { __html: html };\n};\n\n\n/**\n * from https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API/Using_the_Web_Storage_API.\n * Checks if localStorage works.\n * (localStorage can be disabled using security policies or private browsing modes)\n */\nexport const checkStorage = function(type) {\n\ttry {\n\t\tvar storage = window[type],\n\t\t\tx = '__tag_storage_test__';\n\t\tstorage.setItem(x, x);\n\t\tstorage.removeItem(x);\n\t\treturn true;\n\t} catch(e) {\n\t\treturn false;\n\t}\n};\n\n/**\n * @description\n * Provides loose comparison of the keys of two objects.\n * If the value of a key is an array, the test object's key is also confirmed to be the same type.\n * If the alue of a key is an object, it is tested recursively.\n * @param {object} test - Test object\n * @param {object} expected - Expected result\n */\nexport const structCompare = function(test, expected) {\n\tvar result = true,\n\t\tkey;\n\n\tif (typeof test !== 'object' || typeof expected !== 'object') {\n\t\treturn false;\n\t}\n\n\tfor (key in expected) {\n\t\tif (expected.hasOwnProperty(key)) {\n\t\t\tif (typeof expected[key] === 'object') {\n\t\t\t\tif (Array.isArray(expected[key])) {\n\t\t\t\t\t// expected value is an array\n\t\t\t\t\tif (!Array.isArray(test[key])) {\n\t\t\t\t\t\tresult = false;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// expect value is an object\n\t\t\t\t\tif ((key in test)) {\n\t\t\t\t\t\t// key exists in test\n\t\t\t\t\t\tresult = structCompare(test[key], expected[key]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// value is (probably) scalar\n\t\t\t\tif (!(key in test)) {\n\t\t\t\t\tresult = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// if the result is false at any point, just break here\n\t\tif (result === false) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn result;\n};\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/lib/utils.js","/**\n * @module components/views/Icon\n */\nimport React, { PropTypes } from 'react';\n\n/**\n * Icon glyphs available for use.\n * @property {string} TEXT\n * @property {string} PUZZLE_PIECE\n * @property {string} TAG\n * @property {string} COMPASS\n * @property {string} LOOP_CIRCULAR\n * @property {string} MEDIA_PLAY\n * @property {string} LIGHTBULB\n * @property {string} RESIZE_WIDTH\n */\nexport const GLYPHS = {\n\tTEXT: require('../../img/svg/text.svg'),\n\tPUZZLE_PIECE: require('../../img/svg/puzzle-piece.svg'),\n\tTAG: require('../../img/svg/tag.svg'),\n\tCOMPASS: require('../../img/svg/compass.svg'),\n\tLOOP_CIRCULAR: require('../../img/svg/loop-circular.svg'),\n\tMEDIA_PLAY: require('../../img/svg/media-play.svg'),\n\tLIGHTBULB: require('../../img/svg/lightbulb.svg'),\n\tRESIZE_WIDTH: require('../../img/svg/resize-width.svg'),\n};\n\nexport function Icon(props) {\n\tvar className = props.glyph.replace(/^#/, '');\n\n\treturn (\n\t\t<svg className=\"icon\" width={props.width} height={props.height}>\n\t\t\t<use xlinkHref={props.glyph} className={className}/>\n\t\t</svg>\n\t);\n}\n\nIcon.defaultProps = {\n\twidth: 16,\n\theight: 16\n};\n\nIcon.propTypes = {\n\twidth: PropTypes.number,\n\theight: PropTypes.number,\n\tglyph: PropTypes.string,\n};\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/components/views/Icon.jsx","var Sprite = require('./sprite');\nvar globalSprite = new Sprite();\n\nif (document.body) {\n  globalSprite.elem = globalSprite.render(document.body);\n} else {\n  document.addEventListener('DOMContentLoaded', function () {\n    globalSprite.elem = globalSprite.render(document.body);\n  }, false);\n}\n\nmodule.exports = globalSprite;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/svg-sprite-loader/lib/web/global-sprite.js\n// module id = 16\n// module chunks = 0","import Droplet from './Droplet';\nimport { errorCodes } from '../assets/constants';\n\nvar DropZone, drop_zone_id = 0;\n\n/**\n * @class\n */\nDropZone = function(data = {}, tag) {\n\tthis.tag = tag;\n\tthis.id = 'drop_zone_' + ++drop_zone_id;\n\tthis.attachmentId = data.attachmentId;\n\tthis.maxAttachments = (typeof data.maxAttachments !== 'undefined' ? data.maxAttachments : 1);\n};\n\nDropZone.prototype = {\n\t/**\n\t * Test if the DropZone instance will accept a new droplet. The test looks at the\n\t * maximum number of attachments and attachment eligibility based on attachmentId\n\t */\n\twillAccept: function(droplet, store) {\n\t\tvar current_attachments = 0,\n\t\t\tstate;\n\n\t\tif (!(droplet instanceof Droplet)) {\n\t\t\tthrow new Error(errorCodes.NOT_A_DROPLET);\n\t\t}\n\n\t\tif (store) {\n\t\t\t// store exists - get state (and current number of attachments)\n\t\t\tstate = store.getState();\n\n\t\t\tif (state.zones[this.id] && state.zones[this.id].attachments) {\n\t\t\t\tcurrent_attachments = state.zones[this.id].attachments.length;\n\t\t\t}\n\t\t}\n\n\t\t// test attachment count\n\t\tif (this.maxAttachments !== 0 && current_attachments === this.maxAttachments) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// test attachmentId eligibility\n\t\tif (this.attachmentId !== '*' &&\n\t\t\tdroplet.attachmentIds.indexOf(this.attachmentId) === -1) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n};\n\n/**\n * Matches a drop zone within the supplied markup.\n * Can be used more than once on the same markup, and will internally increment through the data.\n */\nDropZone.fetchZone = function(markup) {\n\tvar match, zone;\n\n\t// keep looking for a valid drop zone - report on the bad ones\n\twhile ((match = DropZone._re_zones.exec(markup)) !== null) {\n\t\tif (match !== null && (zone = DropZone.checkSyntax(match[0]))) {\n\t\t\t// return it\n\t\t\treturn new DropZone({\n\t\t\t\tattachmentId: zone.attachmentId,\n\t\t\t\tmaxAttachments: zone.maxAttachments\n\t\t\t}, match[0]);\n\t\t}\n\t}\n\n\treturn null;\n};\n\n/**\n * Checks and reports on syntax errors within a supplied tag.\n */\nDropZone.checkSyntax = function(tag) {\n\tvar d;\n\n\tif ((d = tag.match(DropZone.syntax_re.re_structure)) !== null && d[1] !== null) {\n\t\t// check id portion\n\t\tif (!d[2] || !DropZone.syntax_re.re_id.test(d[2])) {\n\t\t\treturn DropZone.snytaxFault(\n\t\t\t\td[1],\n\t\t\t\t'Invalid syntax. ID must either start with a letter and only contain' +\n\t\t\t\t' letters, numbers, and the undescore (_) character, or be an asterisk (*) ' +\n\t\t\t\t'to specify any attachment ID.',\n\t\t\t\td[2]\n\t\t\t);\n\t\t}\n\n\t\t// check quantity portion\n\t\tif (\n\t\t\td[4] &&\n\t\t\t(\n\t\t\t\t!DropZone.syntax_re.re_qty.test(d[4]) ||\n\t\t\t\t(d[4] < 1 || d[4] > 100)\n\t\t\t)\n\t\t) {\n\t\t\treturn DropZone.snytaxFault(\n\t\t\t\td[1],\n\t\t\t\t'Invalid syntax. Quantity must be a valid number and between 1 and 100, ' +\n\t\t\t\t\t'or the asterisk (*) character to specify unlimited up to the internal maximum.',\n\t\t\t\td[4]\n\t\t\t);\n\t\t}\n\t} else {\n\t\treturn DropZone.snytaxFault(tag, 'Invalid syntax.');\n\t}\n\n\treturn {\n\t\tattachmentId: d[2],\n\t\tmaxAttachments: (d[4] === '*' ? 0 : (parseFloat(d[4]) || 1))\n\t};\n};\n\nDropZone.snytaxFault = function(str, message, char) {\n\tvar error;\n\n\tif (char) {\n\t\t// escape % symbols\n\t\tstr = str.replace('%', '%%');\n\t\tchar = char.replace('%', '%%');\n\n\t\t// add colouring\n\t\tstr = str.replace(char, '%c$&%c');\n\n\t\terror = 'Error with syntax in tag \"' + str + '\": ' + message;\n\t\tconsole.warn(error, 'color: red;', 'color: inherit;');\n\t} else {\n\t\t// basic error with no colouring\n\t\terror = 'Error with syntax in tag \"' + str + '\": ' + message;\n\t\tconsole.warn(error);\n\t}\n\n\treturn false;\n};\n\n/**\n * Discriminating regex collection for testing drop zones with explicit syntax.\n */\nDropZone.syntax_re = {\n\tre_structure: /^\\{\\{\\s?(([^|\\s]+)(\\|([^|\\s]*))?)\\s?\\}\\}$/,\n\tre_id: /^[a-z*][a-z0-9_]*$/i,\n\tre_qty: /^[0-9*]+$/\n};\n\n/**\n * Inclusive regex for capturing individual zones with basic syntax\n */\nDropZone._re_zones = /\\{\\{\\s?(.+?)(\\|(.*?))?\\s?\\}\\}/gi;\n\nexport default DropZone;\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/lib/DropZone.js","'use strict';\n\n/**\n * A single `editable` defiition to produce one field.\n * @typedef EditableItemDefinition\n * @property {string} type - One of 'text', 'longtext', 'dropdown', 'checkbox', or 'radio'.\n * @property {bool} [required] - Whether the field must be filled in or not.\n * @property {mixed} [value] - Either an array of values, or a single string value.\n * @property {string} [placeholder] - In the case of a text value, this will show in place of empty values.\n * @property {string} [selected] - In the case of an array value, this set the value as 'selected'.\n */\n\nimport PropTypes from './PropTypes';\nimport FormField from './FormField';\n\nvar Droplet, droplet_id = 0;\n\n/**\n * Individual droplet class. Handles validation of props in a similar fashion to\n * React, but (probably) with a lot less style.\n * @class\n */\nDroplet = function(settings = {}, id) {\n\tif (typeof id === 'number') {\n\t\tthis.id = 'droplet_' + id;\n\t} else {\n\t\tthis.id = 'droplet_' + ++droplet_id;\n\t}\n\n\tthis._originalSettings = Object.deepAssign({}, settings);\n\tthis.data = {};\n\tthis.name = null;\n\tthis.dropletType = null;\n\tthis.attachmentIds = [];\n\n\tthis.init();\n};\n\nDroplet.prototype = {\n\t/**\n\t * Initialisation.\n\t * @private\n\t */\n\tinit: function() {\n\t\t// set base properties for all droplets\n\t\tthis._validateAndSet([\n\t\t\t'name',\n\t\t\t'dropletType',\n\t\t\t'attachmentIds',\n\t\t\t'editable',\n\t\t\t'guidance'\n\t\t], this);\n\n\t\t// check droplet type is valid\n\t\tswitch (this.dropletType) {\n\t\tcase 'element':\n\t\tcase 'text':\n\t\tcase 'attribute':\n\t\t\tthis._setExtraFields();\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tthrow new Error('Droplet type ' + this.dropletType + ' is invalid.');\n\t\t}\n\t},\n\n\t/**\n\t * Registers type specific fields for validation.\n\t * @private\n\t */\n\t_setExtraFields: function() {\n\t\tswitch (this.dropletType) {\n\t\tcase 'text':\n\t\t\tthis._validateAndSet(['value'], this.data);\n\t\t\tbreak;\n\n\t\tcase 'element':\n\t\t\tthis._validateAndSet(['attrs', 'tagName', 'innerHTML'], this.data);\n\t\t\tbreak;\n\n\t\tcase 'attribute':\n\t\t\tthis._validateAndSet(['key', 'value'], this.data);\n\t\t\tbreak;\n\t\t}\n\t},\n\n\t/**\n\t * Validates (using the PropType functions) and sets the instance values\n\t * given the defined properties.\n\t */\n\t_validateAndSet(values, context) {\n\t\tvalues.forEach((value) => {\n\t\t\tif (Droplet.PropTypes.hasOwnProperty(value)) {\n\t\t\t\tif (Droplet.PropTypes[value](\n\t\t\t\t\t\tthis._originalSettings[value],\n\t\t\t\t\t\tvalue,\n\t\t\t\t\t\tthis._originalSettings.name || null,\n\t\t\t\t\t\tthis._originalSettings.dropletType || null\n\t\t\t\t\t)) {\n\t\t\t\t\tcontext[value] = this._originalSettings[value];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthrow new Error('Droplet property \"' + value + '\" definition does not exist.');\n\t\t\t}\n\t\t});\n\t}\n};\n\n/**\n * Designed as a PropType validator much like string, isRequired, arrayOf etc, this\n * function specifically tests the validity of the `editable` prop and its children.\n */\nDroplet._validateEditableSet = function(value, prop, droplet_name, droplet_type) {\n\tvar attribute, key, attrkey,\n\t\tprop_error = 'Error in Droplet prop ' + droplet_name + ' (' + prop + '):';\n\n\t// allow undefined values\n\tif (typeof value === 'undefined') {\n\t\treturn true;\n\t}\n\n\t// testing the droplet value\n\tif (PropTypes._assert(\n\t\t(typeof value === 'object'), prop, 'Value must be an object.', droplet_name, droplet_type\n\t)) {\n\t\t// continue testing\n\t\tfor (key in value) {\n\t\t\t// testing individual attributes\n\t\t\tattribute = value[key];\n\n\t\t\t// attribute is unrecognised or not an object\n\t\t\tif (\n\t\t\t\tDroplet.editableAttributes.indexOf(key) === -1 ||\n\t\t\t\ttypeof attribute !== 'object'\n\t\t\t) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\tprop_error + ' \"' + key + '\" is not an editable attribute or is of the wrong type'\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// attribute is 'attrs', but is not an object of objects\n\t\t\tif (key === 'attrs') {\n\t\t\t\tfor (attrkey in attribute) {\n\t\t\t\t\tDroplet._validateEditableItem(attrkey, attribute[attrkey], prop_error);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tDroplet._validateEditableItem(key, attribute, prop_error);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn true;\n};\n\nDroplet._validateEditableItem = function(item, data, error_prefix) {\n\tvar error = error_prefix + item + ' - ';\n\n\tif (typeof data !== 'object') {\n\t\tthrow new Error(error + 'not an EditableItemDefinition object');\n\t}\n\n\t// check \"type\" exists\n\tif (typeof data.type === 'undefined') {\n\t\tthrow new Error(error + 'doesnt contain type value');\n\t}\n\n\t// check \"type\" is valid\n\tif (Droplet.editableFieldTypes.indexOf(data.type) === -1) {\n\t\tthrow new Error(error + 'invalid type attribute \"' + data.type + '\"');\n\t}\n\n\t// run checks on the editable attributes that match FormField data attributes\n\tFormField.validateDataAttribute(data, item, error_prefix);\n\n\treturn true;\n};\n\n/**\n * Defines the possible prop types for Droplets. Some are always required.\n * @prop {string} value - Droplet 'value'. When used as an `attribute` type value, can be\n * set to `null` to define a value-less attribute.\n * @prop {string} name - Droplet name (used as a label).\n * @prop {string[]} attachmentIds - Drop zone attachment IDs.\n * @prop {string} dropletType - Droplet type. One of `element`, `text` or `attribute`.\n * @prop {object} [attrs] - Droplet attributes, in the case of the `element` type.\n * @prop {string} tagname - Droplet tagName attribute, i.e. the actual HTMLElement used.\n * Requred when type is `element`.\n * @prop {string} innerHTML - Droplet's innerHTML.\n * @prop {EditableItemDefinition} editable - Editable properties of `element` types. [add link to tutorial!].\n * @prop {string} key - Attribute keys (names) of `attribute` types.\n */\nDroplet.PropTypes = {\n\tvalue: PropTypes.string.isRequired,\n\tname: PropTypes.string.notEmpty.isRequired,\n\tattachmentIds: PropTypes.arrayOf.string.isRequired,\n\tdropletType: PropTypes.string.isRequired,\n\tattrs: PropTypes.object,\n\ttagName: PropTypes.string.notEmpty.isRequired,\n\tinnerHTML: PropTypes.string,\n\teditable: Droplet._validateEditableSet,\n\tkey: PropTypes.string.notEmpty.isRequired,\n\tguidance: PropTypes.string\n};\n\nDroplet.editableAttributes = [\n\t'value',\t'attrs',\t'tagName',\t'innerHTML'\n];\n\nDroplet.editableFieldTypes = [\n\t'text',\n\t'longtext',\n\t'dropdown',\n\t'checkbox',\n\t'radio'\n];\n\nexport default Droplet;\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/lib/Droplet.js","import { PropTypes } from 'react';\n\nimport FormField from '../lib/FormField';\n\nexport const field = {\n\trefCollector: PropTypes.func,\n\tfield: PropTypes.instanceOf(FormField).isRequired,\n\tvalue: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.number,\n\t\tPropTypes.arrayOf(PropTypes.string)\n\t]).isRequired,\n\tonChange: PropTypes.func\n};\n\nexport const dialog = {\n\tdata: PropTypes.object.isRequired,\n\tsettings: PropTypes.object.isRequired,\n\trefCollector: PropTypes.func,\n\tonDialogCancel: PropTypes.func,\n\tonDialogComplete: PropTypes.func,\n\tonButtonClick: PropTypes.func,\n\tlib: PropTypes.object\n};\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/assets/common-prop-types.js","/**\n * FormField data object\n * @typedef FormFieldData\n * @property {boolean} [required]\n * @property {string} [label]\n * @property {mixed} [options]\n * @property {string} [placeholder]\n * @property {mixed} [value]\n * @example\n * var field = FormField('fieldname', 'dropdown', {\n * \t'label': 'Please select a value',\n * \t'options': ['Value 1', 'Value 2', 'Value 3'],\n * \t'value': 'Value 2'\n * });\n */\n\n /**\n * This class exists almost entirely for data consistency.\n * @class\n * @param {string} name - Field name.\n * @param {string} type - Input type.\n * @param {FormFieldData} data - Field data.\n */\nvar FormField = function(name, type, data = {}) {\n\tthis._setNameAndType(name, type);\n\tthis._validateAndSet(data);\n};\n\nFormField.prototype = {\n\t_setNameAndType: function(name, type) {\n\t\tif (typeof name !== 'string') {\n\t\t\tthrow new Error('Invalid field name \"' + name + '\"');\n\t\t} else {\n\t\t\tthis.name = name;\n\t\t}\n\n\t\tif (typeof type !== 'string' ||\n\t\t\tFormField.validTypes.indexOf(type) === -1) {\n\t\t\tthrow new Error('Invalid field type \"' + type + '\"');\n\t\t} else {\n\t\t\tthis.type = type;\n\t\t}\n\t},\n\n\t_validateAndSet: function(data) {\n\t\tvar _data = Object.deepAssign({}, data);\n\n\t\tif (FormField.validateDataAttribute(\n\t\t\t\t_data,\n\t\t\t\tthis.name,\n\t\t\t\t'Error with FormField data attribute'\n\t\t\t)) {\n\t\t\tthis.data = _data;\n\n\t\t\t// externalise remaining options\n\t\t\tthis.required = data.required;\n\t\t\tthis.options = data.options;\n\t\t\tthis.placeholder = data.placeholder;\n\t\t\tthis.label = data.label;\n\n\t\t\tthis.value = (typeof data.value !== 'undefined') ? data.value : '';\n\t\t}\n\t}\n};\n\n/**\n * Ensures a form field's data attributes are valid\n */\nFormField.validateDataAttribute = function(data, item, error_prefix) {\n\tvar error = error_prefix + ' ' + item + ' - ';\n\n\t// check \"required\" is a boolean, if defined\n\tif (typeof data.required !== 'undefined' && typeof data.required !== 'boolean') {\n\t\tthrow new Error(error + '\"required\" attribute isnt a boolean true or false');\n\t}\n\n\t// check \"options\" is valid\n\tif (typeof data.options !== 'undefined') {\n\t\tFormField._validateOptionsSetting(data.options, error);\n\t}\n\n\t// check \"placeholder\" is valid\n\tif (typeof data.placeholder !== 'undefined' && typeof data.placeholder !== 'string') {\n\t\tthrow new Error(error + '\"placeholder\" attribute isnt a string');\n\t}\n\n\t// check \"value\" is valid\n\tif (typeof data.value !== 'undefined') {\n\t\tFormField._validateValueSetting(data.value, data.options, error);\n\t}\n\n\t// check \"label\" is valid\n\tif (typeof data.label !== 'undefined' && typeof data.label !== 'string') {\n\t\tthrow new Error(\n\t\t\terror + '\"label\" attribute isnt a string'\n\t\t);\n\t}\n\n\t// check \"maxlength\" is valid\n\tif (typeof data.maxlength !== 'undefined' &&\n\t\t(typeof data.maxlength !== 'number' ||data.maxlength < 1)) {\n\t\tthrow new Error(\n\t\t\terror + '\"maxlength\" attribute isnt a number or above zero'\n\t\t);\n\t}\n\n\treturn true;\n};\n\nFormField._validateOptionsSetting = function(options, error_prefix) {\n\tvar key, a,\n\t\terror = error_prefix + '\"options\" is of an unrecognised type';\n\n\tif (Array.isArray(options)) {\n\t\tfor (a = 0; a < options.length; a += 1) {\n\t\t\tif (typeof options[a] !== 'string') {\n\t\t\t\tthrow new Error(error);\n\t\t\t}\n\t\t}\n\t} else if (typeof options === 'object' && options !== null) {\n\t\tfor (key in options) {\n\t\t\tif (typeof key !== 'string' || typeof options[key] !== 'string') {\n\t\t\t\tthrow new Error(error + ' - object values must be a simple key/value set');\n\t\t\t}\n\t\t}\n\t} else if (options === null) {\n\t\tthrow new Error(error + ' - options cannot be null');\n\t}\n\n\treturn true;\n};\n\nFormField._validateValueSetting = function(value, options, error_prefix) {\n\tif (!Array.isArray(value) &&\n\t\ttypeof value !== 'string' &&\n\t\ttypeof value !== 'number') {\n\t\tthrow new Error(\n\t\t\terror_prefix + '\"value\" is of an unrecognised type'\n\t\t);\n\t}\n\n\tif (typeof options !== 'undefined') {\n\t\t// validate against options\n\t\tif (\n\t\t\t(Array.isArray(options) && options.indexOf(value) === -1) ||\n\t\t\t(\n\t\t\t\ttypeof options === 'object' &&\n\t\t\t\t!Array.isArray(options) &&\n\t\t\t\t!options[value]\n\t\t\t)\n\t\t) {\n\t\t\tthrow new Error(\n\t\t\t\terror_prefix + '\"value\" attribute contains an option that doesnt exist'\n\t\t\t);\n\t\t}\n\t}\n};\n\nFormField.validTypes = [\n\t'text',\n\t'longtext',\n\t'dropdown',\n\t'checkbox',\n\t'radio'\n];\n\nexport default FormField;\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/lib/FormField.js","import request from './ajax';\nimport DropZone from './DropZone';\nimport Droplet from './Droplet';\n\nvar Template = function(parent, settings = {}) {\n\tthis._parent = parent;\n\tthis.settings = settings;\n\tthis._drop_zones = {};\n\tthis._template = [];\n\tthis._max_zones = 100;\n};\n\nTemplate.prototype = {\n\tload: function(url) {\n\t\treturn request.get(url)\n\t\t\t.then((response) => {\n\t\t\t\tif (response.text) {\n\t\t\t\t\tthis._markup = response.text;\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tthrow new Error(error);\n\t\t\t});\n\t},\n\n\tcreate: function(markup = this._markup) {\n\t\tif (typeof markup === 'undefined') {\n\t\t\tthrow new Error('Cannot call create() with no markup defined.');\n\t\t}\n\n\t\t// replace html with entities\n\t\tmarkup = Template.entities(markup);\n\n\t\treturn this._createDropZones(markup);\n\t},\n\n\t_createDropZones: function(markup) {\n\t\tvar zone, counter = 0;\n\n\t\t// loop through markup finding drop zones\n\t\twhile ((zone = DropZone.fetchZone(markup)) !== null) {\n\t\t\tthis._drop_zones[zone.id] = zone;\n\t\t\tcounter += 1;\n\n\t\t\tif (counter === this._max_zones) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t'Maximum number of zones in template reached (' + this._max_zones + ').'\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\t// loop through collected drop zones and replace tags in markup\n\t\tfor (zone in this._drop_zones) {\n\t\t\tmarkup = markup.replace(\n\t\t\t\tthis._drop_zones[zone].tag,\n\t\t\t\t'<span' +\n\t\t\t\t\t' data-id=\"' + this._drop_zones[zone].id + '\"' +\n\t\t\t\t\t' data-attachment=\"' + this._drop_zones[zone].attachmentId + '\">' +\n\t\t\t\t'</span>'\n\t\t\t);\n\t\t}\n\n\t\tthis._template = this._createTemplateArray(markup);\n\n\t\treturn {\n\t\t\tdrop_zones: this._drop_zones,\n\t\t\ttemplate: this._template\n\t\t};\n\t},\n\n\t_createTemplateArray: function(markup) {\n\t\tvar sandbox = document.createElement('div'),\n\t\t\tdata = [],\n\t\t\tnode, a;\n\t\tsandbox.innerHTML = markup;\n\n\t\tfor (a = 0; (node = sandbox.childNodes[a]); a += 1) {\n\t\t\tswitch (node.nodeType) {\n\t\t\tcase Node.TEXT_NODE:\n\t\t\t\tdata.push({\n\t\t\t\t\ttype: 'text',\n\t\t\t\t\tcontent: node.textContent\n\t\t\t\t});\n\t\t\t\tbreak;\n\n\t\t\tcase Node.ELEMENT_NODE:\n\t\t\t\tdata.push({\n\t\t\t\t\ttype: 'dropzone',\n\t\t\t\t\tzone: this._drop_zones[node.dataset.id]\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn data;\n\t},\n\n\trenderAsHTML: function(zones) {\n\t\tvar html = '';\n\n\t\tthis._template.forEach((node) => {\n\t\t\tif (node.type === 'text') {\n\t\t\t\t// plain text node\n\t\t\t\thtml += node.content;\n\t\t\t} else if (node.type === 'dropzone' && zones[node.zone.id]) {\n\t\t\t\t// drop zone with attachments\n\t\t\t\tzones[node.zone.id].attachments.forEach((attachment) => {\n\t\t\t\t\tvar droplet = this._parent._UI.getDropletById(attachment.droplet_id),\n\t\t\t\t\t\tdata = Object.deepAssign({}, droplet.data, attachment.data);\n\n\t\t\t\t\thtml += Template.renderDroplet(\n\t\t\t\t\t\tdroplet,\n\t\t\t\t\t\tdata,\n\t\t\t\t\t\tthis._parent._UI.getDropZoneById(node.zone.id),\n\t\t\t\t\t\tthis.settings.onElementRender\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\treturn html;\n\t}\n};\n\nTemplate.renderDroplet = function(droplet, data, drop_zone, is_output = true) {\n\tvar output;\n\n\tif (!(droplet instanceof Droplet)) {\n\t\tthrow new Error('droplet argument must be a Droplet instance');\n\t}\n\n\tswitch (droplet.dropletType) {\n\tcase 'element':\n\t\toutput = Template.renderElementDroplet(data, droplet, drop_zone, is_output);\n\t\tbreak;\n\n\tcase 'text':\n\t\toutput = Template.renderTextDroplet(data, droplet, drop_zone, is_output);\n\t\tbreak;\n\n\tcase 'attribute':\n\t\toutput = Template.renderAttributeDroplet(data, droplet, drop_zone, is_output);\n\t\tbreak;\n\t}\n\n\treturn output;\n};\n\nTemplate.renderElementDroplet = function(data, droplet, drop_zone, is_output) {\n\t// TODO - make sure self-closing tags are correctly rendered\n\tvar attrs = [],\n\t\tmarkup = {},\n\t\tattr;\n\n\tmarkup.open = '<' + data.tagName;\n\n\tif (data.attrs) {\n\t\tfor (attr in data.attrs) {\n\t\t\tattrs.push(attr += '=\"' + Template.entities(data.attrs[attr]) + '\"');\n\t\t}\n\n\t\tif (attrs.length) {\n\t\t\tmarkup.open += ' ' + attrs.join(' ');\n\t\t}\n\t}\n\n\tif (data.innerHTML || Template.voidTags.indexOf(data.tagName) === -1) {\n\t\tmarkup.open += '>';\n\t\tmarkup.innerHTML = (data.innerHTML || '');\n\t\tmarkup.close = '</' + data.tagName + '>';\n\t} else {\n\t\tmarkup.close = '/>';\n\t}\n\n\tmarkup = Template.onElementRender(\n\t\tmarkup,\n\t\tdroplet,\n\t\tdrop_zone,\n\t\tis_output\n\t);\n\n\treturn markup.open + (markup.innerHTML || '') + markup.close;\n};\n\nTemplate.renderTextDroplet = function(data, droplet, drop_zone, is_output) {\n\tvar value = Template.onElementRender(\n\t\tdata.value,\n\t\tdroplet,\n\t\tdrop_zone,\n\t\tis_output\n\t);\n\n\treturn Template.entities(value);\n};\n\nTemplate.renderAttributeDroplet = function(data, droplet, drop_zone, is_output) {\n\tvar markup = {\n\t\tkey: data.key,\n\t\tvalue: data.value\n\t};\n\n\tmarkup = Template.onElementRender(\n\t\tmarkup,\n\t\tdroplet,\n\t\tdrop_zone,\n\t\tis_output\n\t);\n\n\treturn markup.key + '=\"' + Template.entities(markup.value) + '\"';\n};\n\nTemplate.entities = function(str) {\n\treturn str.replace(/[\\u00A0-\\u9999<>\\&]/gim, (i) =>\n\t\t('&#' + i.charCodeAt(0) + ';')\n\t);\n};\n\n/**\n * @param {object} markup - The current markup data as set by Template#renderDroplet.\n * @param {object} droplet - The Droplet being rendered.\n * @param {object} zone - The Drop Zone the Droplet is attached to.\n * @param {bool} is_output - See below.\n * @description\n * Receives element data from Droplets as attached to Drop Zones, as well as the\n * existing markup about to be rendered. The return value should equal the `markup`\n * argument sent but can be augmented to alter rendering.\n *\n * ## The `is_output` argument.\n * Rendering can take place in two forms: Either for the template display or within as\n * tooltips as visible source code, or within the view frame as part of an outputted page.\n * The `is_output` argument will be `false` in the former case and `true` in the latter.\n */\nTemplate.onElementRender = function() {\n\treturn arguments[0];\n};\n\n/**\n * From https://www.w3.org/TR/html/syntax.html#writing-html-documents-elements\n * This array is a list of tag considered to be \"void\" and have no closing tag.\n * All other tags can (and do) have closing tags when being rendered.\n */\nTemplate.voidTags = [\n\t'area', 'base', 'br', 'col', 'embed', 'hr', 'img', 'input', 'keygen',\n\t'link', 'menuitem', 'meta', 'param', 'source', 'track', 'wbr'\n];\n\nexport default Template;\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/lib/Template.js","import { actionTypes } from '../assets/constants';\n\nexport default {\n\tsetUIState: function(ui_state) {\n\t\treturn {\n\t\t\ttype: actionTypes.UI_STATE,\n\t\t\tui_state\n\t\t};\n\t},\n\n\tresetApp: function() {\n\t\treturn {\n\t\t\ttype: actionTypes.RESET_APP\n\t\t};\n\t},\n\n\tcompleteFirstDrop: function() {\n\t\treturn {\n\t\t\ttype: actionTypes.COMPLETE_FIRST_DROP\n\t\t};\n\t},\n\n\tcompleteLastDrop: function() {\n\t\treturn {\n\t\t\ttype: actionTypes.COMPLETE_LAST_DROP\n\t\t};\n\t},\n\n\tsetActiveDroplet: function(droplet_id) {\n\t\treturn {\n\t\t\ttype: actionTypes.SET_ACTIVE_DROPLET,\n\t\t\tdroplet_id\n\t\t};\n\t},\n\n\tsetDialogMode: function(mode, data = {}, onDialogComplete, onDialogCancel) {\n\t\treturn {\n\t\t\ttype: actionTypes.SET_DIALOG_MODE,\n\t\t\tmode,\n\t\t\tdata,\n\t\t\tonDialogComplete,\n\t\t\tonDialogCancel\n\t\t};\n\t},\n\n\tzoneAddAttachment: function(id, droplet_id, attached, data) {\n\t\treturn {\n\t\t\ttype: actionTypes.ZONE_ADD_ATTACHMENT,\n\t\t\tid,\n\t\t\tdroplet_id,\n\t\t\tattached,\n\t\t\tdata\n\t\t};\n\t},\n\n\tzoneEditAttachment: function(id, attachment_index, data) {\n\t\treturn {\n\t\t\ttype: actionTypes.ZONE_EDIT_ATTACHMENT,\n\t\t\tid,\n\t\t\tattachment_index,\n\t\t\tdata\n\t\t};\n\t},\n\n\tzoneDetachAttachment: function(id, attachment_index) {\n\t\treturn {\n\t\t\ttype: actionTypes.ZONE_DETACH_ATTACHMENT,\n\t\t\tid,\n\t\t\tattachment_index\n\t\t};\n\t},\n\n\tzoneClearAllAttachments: function() {\n\t\treturn {\n\t\t\ttype: actionTypes.ZONE_CLEAR_ALL_ATTACHMENTS\n\t\t};\n\t},\n\n\tsetTourStage: function(stage) {\n\t\treturn {\n\t\t\ttype: actionTypes.SET_TOUR_STAGE,\n\t\t\tstage\n\t\t};\n\t},\n\n\tshowTooltip: function(attachment, options={}) {\n\t\treturn {\n\t\t\ttype: actionTypes.SHOW_TOOLTIP,\n\t\t\tattachment,\n\t\t\toptions\n\t\t};\n\t},\n\n\thideTooltip: function() {\n\t\treturn {\n\t\t\ttype: actionTypes.HIDE_TOOLTIP\n\t\t};\n\t},\n\n\tsetTooltipContent: function(title, content, iconGlyph) {\n\t\treturn {\n\t\t\ttype: actionTypes.SET_TOOLTIP_CONTENT,\n\t\t\tcontent,\n\t\t\ttitle,\n\t\t\ticonGlyph\n\t\t};\n\t}\n};\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/state/actions.js","var Communicator = function(id, origin, callbacks = {}) {\n\tif (typeof id !== 'string') {\n\t\tthrow new Error('Please choose a string-based ID for the guest.');\n\t}\n\n\tif (typeof origin !== 'string') {\n\t\tthrow new Error('Please choose a string-based origin address.');\n\t}\n\n\tthis._settings = {\n\t\tname: 'tag-comm-data'\n\t};\n\n\tthis._guests = {};\n\tthis._queue = {};\n\tthis.id = id;\n\tthis.message_index = 0;\n\n\tthis._origin = origin;\n\tthis._callbacks = Object.assign({\n\t\tmessage: null\n\t}, callbacks);\n\n\twindow.addEventListener('message', this._receiveMessage.bind(this), false);\n\n\tthis._sendPing();\n};\n\nCommunicator.prototype = {\n\t/**\n\t * Attempt to ping source window\n\t */\n\t_sendPing: function(node) {\n\t\tvar ping = this._createMessage(null, {\n\t\t\tping: this.id\n\t\t});\n\n\t\tif (!node) {\n\t\t\tif (window.opener) {\n\t\t\t\tnode = window.opener;\n\t\t\t} else if (window.top !== window) {\n\t\t\t\tnode = window.top;\n\t\t\t}\n\t\t}\n\n\t\tif (node) {\n\t\t\tthis._post(node, ping);\n\t\t}\n\t},\n\n\t_sendPong: function(node) {\n\t\tvar pong = this._createMessage(null, {\n\t\t\tpong: this.id\n\t\t});\n\n\t\tthis._post(node, pong);\n\t},\n\n\t/**\n\t * Registers a single guest for communication purposes.\n\t * @param {string} id - Guest ID. Used when sending messages.\n\t * @param {mixed} dest - Destination node.\n\t */\n\tregisterGuestAddress: function(id, dest) {\n\t\tif (typeof dest === 'undefined') {\n\t\t\tthrow new Error(\n\t\t\t\t'Cannot register address for ' + id + '. ' +\n\t\t\t\t'A guest address DOM node, window or frame must be defined.'\n\t\t\t);\n\t\t}\n\n\t\tif (!('postMessage' in dest)) {\n\t\t\tthrow new Error(\n\t\t\t\t'Communicator cannot send messages to destination. Please choose an HTMLElement ' +\n\t\t\t\t'that supports the postMessage method'\n\t\t\t);\n\t\t}\n\n\t\tif (typeof id !== 'string') {\n\t\t\tthrow new Error('Please choose a string-based ID for the guest.');\n\t\t}\n\n\t\t// register local address for guest\n\t\tthis._setGuestData(id, {\n\t\t\tid,\n\t\t\tnode: dest\n\t\t});\n\n\t\t// start timer\n\t\tif (this.timer) {\n\t\t\twindow.clearInterval(this.timer);\n\t\t}\n\t},\n\n\t/**\n\t * Sets or replaces the guest data.\n\t * @param {string} id - Guest ID.\n\t * @param {object} data - Guest data.\n\t * @private\n\t */\n\t_setGuestData: function(id, data) {\n\t\tif (!this._guests[id]) {\n\t\t\tthis._guests[id] = {\n\t\t\t\tlive: false,\n\t\t\t\tnode: null\n\t\t\t};\n\t\t}\n\n\t\tObject.assign(this._guests[id], data);\n\t},\n\n\t/**\n\t * @param {string} to - Guest ID, as stored.\n\t * @param {mixed} message - Any JS compatible data to send as a message.\n\t * @param {string} id - Add a message ID to allow the recipient to prevent race conditions.\n\t * @description\n\t * Sends a message to the defined guest.\n\t * If no ID is defined, one will be generated.\n\t * @returns {string} The ID of the message as defined or generated.\n\t */\n\tsend: function(to, message, id = null) {\n\t\tvar guest = this._getGuestById(to);\n\n\t\tid = (id || this._generateSendId(to));\n\n\t\tif (guest && guest.live) {\n\t\t\t// post message immediately\n\t\t\tthis._post(to, this._createMessage(message, {}, id));\n\t\t} else {\n\t\t\t// queue message for posting\n\t\t\tthis._addToQueue(to, message, id);\n\t\t}\n\n\t\treturn id;\n\t},\n\n\t/**\n\t * Adds a message to the local 'outbox' for the guest (by ID).\n\t */\n\t_addToQueue: function(to, message, id) {\n\t\tif (!this._queue[to]) {\n\t\t\tthis._queue[to] = [];\n\t\t}\n\n\t\tthis._queue[to].push({\n\t\t\tmessage,\n\t\t\tid\n\t\t});\n\t},\n\n\t_sendQueue: function(to) {\n\t\tvar a;\n\n\t\tif (this._queue[to] && this._guests[to]) {\n\t\t\t// send messages in the order they were queued\n\t\t\tfor (a = 0; a < this._queue[to].length; a += 1) {\n\t\t\t\tthis._post(\n\t\t\t\t\tthis._guests[to].node,\n\t\t\t\t\tthis._createMessage(\n\t\t\t\t\t\tthis._queue[to][a].message,\n\t\t\t\t\t\t{},\n\t\t\t\t\t\tthis._queue[to][a].id\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// clear queue for this recipient\n\t\t\tthis._queue[to] = [];\n\t\t}\n\t},\n\n\t/**\n\t * Gets a communicator guest by its ID, or returns `null`.\n\t * @returns {mixed} Guest data, or `null`.\n\t * @private\n\t */\n\t_getGuestById: function(id) {\n\t\treturn this._guests[id] || null;\n\t},\n\n\t/**\n\t * Get a guest by known node (i.e. that registered in `this._guests`)\n\t * @private\n\t */\n\t_getGuestByNode: function(node) {\n\t\tvar id;\n\n\t\tfor (id in this._guests) {\n\t\t\tif (this._guests.hasOwnProperty(id) &&\n\t\t\t\tthis._guests[id].node === node) {\n\t\t\t\treturn this._getGuestById(id);\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t},\n\n\t/**\n\t * Actually posts the message to the destination.\n\t * @param {string} to - Guest ID.\n\t * @param {mixed} message - Any JS compatible data to send as a message.\n\t * @private\n\t */\n\t_post: function(to, message) {\n\t\tvar guest, node;\n\n\t\tif (typeof to === 'string') {\n\t\t\tguest = this._getGuestById(to);\n\n\t\t\tif (!guest.node) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t'Cannot communicate with guest \"' + to + '\". Has its Node address been registered?'\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tnode = guest.node;\n\t\t} else {\n\t\t\tnode = to;\n\t\t}\n\n\t\tnode.postMessage(message, this._origin);\n\t},\n\n\t/**\n\t * Invoked when a live message is received.\n\t * @private\n\t */\n\t_receiveMessage: function(event) {\n\t\tvar origin = event.origin || event.originalEvent.origin,\n\t\t\tsource = event.source || event.originalEvent.source,\n\t\t\tmessage = event.data,\n\t\t\tguest;\n\n\t\tif (origin !== location.origin)\n\t\t\treturn;\n\n\t\tif ((message.ping || message.pong) && this._getGuestByNode(source)) {\n\t\t\t// received a ping/pong from valid source\n\t\t\tguest = message.ping || message.pong;\n\n\t\t\tthis._setGuestLive(guest);\n\t\t\tthis._sendQueue(guest);\n\n\t\t\tif (message.ping) {\n\t\t\t\t// pong back a ping (don't pong a pong or we'll be here forever)\n\t\t\t\tthis._sendPong(source);\n\t\t\t}\n\t\t}\n\n\t\tif (this._callbacks.message && message.originalMessage) {\n\t\t\tthis._callbacks.message(\n\t\t\t\tmessage.originalMessage,\n\t\t\t\tmessage.id\n\t\t\t);\n\t\t}\n\t},\n\n\t_setGuestLive: function(id) {\n\t\tthis._setGuestData(id, {\n\t\t\tlive: true\n\t\t});\n\t},\n\n\t_createMessage: function(message, data, id) {\n\t\treturn Object.assign({}, data, {\n\t\t\thost: this.id,\n\t\t\tid: id,\n\t\t\toriginalMessage: message\n\t\t});\n\t},\n\n\t_generateSendId: function(prefix) {\n\t\tif (window.performance && ('now' in window.performance)) {\n\t\t\treturn prefix + '-xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n\t\t\t\tvar r = (window.performance.now() + Math.random() * 16) % 16 | 0;\n\t\t\t\treturn (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n\t\t\t});\n\t\t} else {\n\t\t\treturn prefix + '-' + (this.message_index++);\n\t\t}\n\t}\n};\n\nexport default Communicator;\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/lib/Communicator.js","import { uiStates, dialogModes } from './constants.js';\n\n// default state for...\nexport default {\n\t// general application\n\tapp: {\n\t\tui_state: uiStates.INITIALISING,\n\t\tactive: false,\n\t\tfirst_valid_drop: false,\n\t\tlast_valid_drop: false\n\t},\n\n\t// active zones and current attachments\n\tzones: {},\n\n\t// UI states - do not persist\n\tUI: {\n\t\t// the currently active dialog and its data\n\t\tdialog: {\n\t\t\tmode: dialogModes.NONE,\n\t\t\tdata: null,\n\t\t\tonDialogComplete: null,\n\t\t\tonDialogCancel: null,\n\t\t\toverlay: true,\n\t\t\tattachment: null,\n\t\t\tid: ''\n\t\t},\n\n\t\t// the currently active droplet (i.e. the one that will be \"dropped\" when a\n\t\t// drop zone is next clicked)\n\t\tactive_droplet_id: '',\n\n\t\t// stage the tour is at (from 1 - dialogs.tour.length)\n\t\ttour_stage: null,\n\n\t\ttooltip: {\n\t\t\tshow: false,\n\t\t\tattachment: null,\n\t\t\toptions: null,\n\t\t\ttitle: '',\n\t\t\ticonGlyph: '',\n\t\t\tcontent: ''\n\t\t}\n\t}\n};\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/assets/default-state.js","const tourDialogModifiers = {\n\tarrow: {\n\t\telement: '.arrow'\n\t}\n};\n\nconst tourButtons = {\n\tproceed: [{\n\t\ttype: 'cancel',\n\t\tlabel: 'Close'\n\t}, {\n\t\ttype: 'submit',\n\t\tlabel: 'Continue'\n\t}],\n\ttry_it: [{\n\t\ttype: 'cancel',\n\t\tlabel: 'Close'\n\t}, {\n\t\ttype: 'pause',\n\t\tlabel: 'Try it out'\n\t}, {\n\t\ttype: 'submit',\n\t\tlabel: 'Continue'\n\t}],\n\tend: [{\n\t\ttype: 'submit',\n\t\tlabel: 'Finish tour'\n\t}]\n};\n\nexport default function createDialogs(settings) {\n\treturn {\n\t\tintro: {\n\t\t\ttitle: 'Welcome to <span class=\"logo\">&lt;<b>Tag</b>&gt;</span>!',\n\t\t\tmessage: [\n\t\t\t\t'Tag is an app designed to explain how web pages are constructed.',\n\t\t\t\t'If you are new to tag, you can use the Tour button in the toolbar.',\n\t\t\t\t'Otherwise, just click OK and get creating!'\n\t\t\t]\n\t\t},\n\t\tresetState: {\n\t\t\ttitle: 'Reset Tag',\n\t\t\tmessage: [\n\t\t\t\t'Are you sure you want to go back to the beginning?',\n\t\t\t\t'All of your current work will be cleared.'\n\t\t\t],\n\t\t\tbuttons: [{\n\t\t\t\ttype: 'cancel',\n\t\t\t\tlabel: 'Cancel'\n\t\t\t}, {\n\t\t\t\ttype: 'submit',\n\t\t\t\tclassName: 'danger',\n\t\t\t\tlabel: 'Clear my work'\n\t\t\t}]\n\t\t},\n\t\tdropletBadPlacement: {\n\t\t\ttitle: 'Oops!',\n\t\t\tmessage: [\n\t\t\t\t'Almost there, but the Droplet youve chosen doesnt go here.',\n\t\t\t\t'Try again and see if you can find the correct place.',\n\t\t\t\t'Remember, the target will be <span class=\"drop-zone accept\"><span class=\"target\"><b>green</b></span></span> when you can place the Droplet.'\n\t\t\t]\n\t\t},\n\t\tfirstDropletDrop: function(droplet_output) {\n\t\t\treturn {\n\t\t\t\ttitle: 'Well done!',\n\t\t\t\tmessage: [\n\t\t\t\t\t'<code>' + droplet_output + '</code>',\n\t\t\t\t\t'Youve placed your <b>very first</b> Droplet onto the Template. Hurrah!',\n\t\t\t\t\t'Press the <span class=\"pseudo-button run\"><svg class=\"icon\" width=\"14\" height=\"14\"><use xlink:href=\"#icon-media-play\"></use></svg>Run</span> button to see how it looks.'\n\t\t\t\t]\n\t\t\t};\n\t\t},\n\t\tlastDropletDrop: {\n\t\t\ttitle: 'Well done!',\n\t\t\tmessage: [\n\t\t\t\t'Youve placed at <b>least one Droplet</b> on every target in the template. Yippee!',\n\t\t\t\t'Why not try the <span class=\"pseudo-button run\"><svg class=\"icon\" width=\"14\" height=\"14\"><use xlink:href=\"#icon-media-play\"></use></svg>Run</span> button to see how it looks?'\n\t\t\t]\n\t\t},\n\t\ttour: [{\n\t\t\ttitle: 'Welcome to <span class=\"logo\">&lt;<b>Tag</b>&gt;</span>!',\n\t\t\tmessage: [\n\t\t\t\t'Tag is an app designed to explain how web pages are constructed.',\n\t\t\t\t'The idea is simple: Place <b>elements</b> onto the <b>template</b>, and then use the ' +\n\t\t\t\t\t'<span class=\"pseudo-button run\"><svg class=\"icon\" width=\"14\" height=\"14\"><use xlink:href=\"#icon-media-play\"></use></svg>Run</span> button to see how the page will look in the <b>view</b>.',\n\t\t\t\t'Some parts of the tour will let you try things out before moving on. If you want to, use the <span class=\"pseudo-button\">Try it out</span> button when you see it, then use <span class=\"pseudo-button\"><svg class=\"icon\" width=\"14\" height=\"14\"><use xlink:href=\"#icon-compass\"></use></svg>Continue tour</span> to go back to the tour.'\n\t\t\t],\n\t\t\tbuttons: tourButtons.proceed\n\t\t}, {\n\t\t\ttitle: 'The template',\n\t\t\tmessage: [\n\t\t\t\t'This is the template. It contains the source code for your web page, and is where youll add snippets of code.',\n\t\t\t\t'Add elements to the <span class=\"drop-zone\"><span class=\"target\"><b>' +\n\t\t\t\t\tsettings.dropZone.label +\n\t\t\t\t\t'</b></span></span> targets to construct the page.'\n\t\t\t],\n\t\t\toverlay: false,\n\t\t\tattachment: {\n\t\t\t\tselector: '.main > .template',\n\t\t\t\toptions: {\n\t\t\t\t\tplacement: 'right',\n\t\t\t\t\tmodifiers: tourDialogModifiers\n\t\t\t\t}\n\t\t\t},\n\t\t\tbuttons: tourButtons.proceed\n\t\t}, {\n\t\t\ttitle: 'The pallet',\n\t\t\tmessage: [\n\t\t\t\t'This is the pallet. It contains Droplets, which can be added to the template above.'\n\t\t\t],\n\t\t\toverlay: false,\n\t\t\tattachment: {\n\t\t\t\tselector: 'section.pallet',\n\t\t\t\toptions: {\n\t\t\t\t\tplacement: 'top',\n\t\t\t\t\tmodifiers: tourDialogModifiers\n\t\t\t\t}\n\t\t\t},\n\t\t\tbuttons: tourButtons.proceed\n\t\t}, {\n\t\t\ttitle: 'Droplet',\n\t\t\tmessage: [\n\t\t\t\t'This is a Droplet. It can be added to the template above.',\n\t\t\t\t'Certain <span class=\"drop-zone\"><span class=\"target\"><b>' +\n\t\t\t\t\tsettings.dropZone.label +\n\t\t\t\t\t'</b></span></span> targets only allow certain Droplets to be added to them.',\n\t\t\t\t'When a target goes green <span class=\"drop-zone accept\"><span class=\"target\"><b>' +\n\t\t\t\t\tsettings.dropZone.label +\n\t\t\t\t\t'</b></span></span>, it means it can accept the Droplet you have chosen, or <span class=\"drop-zone decline\"><span class=\"target\"><b>' +\n\t\t\t\t\t\tsettings.dropZone.label +\n\t\t\t\t\t\t'</b></span></span> if the Droplet cant be placed there.',\n\t\t\t\t'Click on a Droplet and then click on one of the <span class=\"drop-zone\"><span class=\"target\"><b>' +\n\t\t\t\t\tsettings.dropZone.label +\n\t\t\t\t\t'</b></span></span> targets in the template to attach it.'\n\t\t\t],\n\t\t\toverlay: false,\n\t\t\tattachment: {\n\t\t\t\tselector: 'section.pallet .droplet:first-child',\n\t\t\t\toptions: {\n\t\t\t\t\tplacement: 'top',\n\t\t\t\t\tmodifiers: tourDialogModifiers\n\t\t\t\t}\n\t\t\t},\n\t\t\tbuttons: tourButtons.try_it\n\t\t}, {\n\t\t\ttitle: 'The view',\n\t\t\tmessage: [\n\t\t\t\t'This is the view. It will show you how the page looks after running the code!',\n\t\t\t\t'Use the <span class=\"pseudo-button run\"><svg class=\"icon\" width=\"14\" height=\"14\"><use xlink:href=\"#icon-media-play\"></use></svg>Run</span> button to update the view'\n\t\t\t],\n\t\t\toverlay: false,\n\t\t\tattachment: {\n\t\t\t\tselector: 'section.view',\n\t\t\t\toptions: {\n\t\t\t\t\tplacement: 'left',\n\t\t\t\t\tmodifiers: tourDialogModifiers\n\t\t\t\t}\n\t\t\t},\n\t\t\tbuttons: tourButtons.try_it\n\t\t}, {\n\t\t\ttitle: 'All done!',\n\t\t\tmessage: [\n\t\t\t\t'Once youve used the <span class=\"pseudo-button run\"><svg class=\"icon\" width=\"14\" height=\"14\"><use xlink:href=\"#icon-media-play\"></use></svg>Run</span> button, the view has updated and your last change should now be showing here!'\n\t\t\t],\n\t\t\toverlay: false,\n\t\t\tattachment: {\n\t\t\t\tselector: 'section.view',\n\t\t\t\toptions: {\n\t\t\t\t\tplacement: 'left',\n\t\t\t\t\tmodifiers: tourDialogModifiers\n\t\t\t\t}\n\t\t\t},\n\t\t\tbuttons: tourButtons.finish\n\t\t}]\n\t};\n};\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/assets/dialogs.js","import React, { PropTypes } from 'react';\n\nimport { GLYPHS, Icon } from '../views/Icon.jsx';\nimport { rawMarkup } from '../../lib/utils';\n\nvar DialogHeading = function(props) {\n\tvar notes = [],\n\t\ticon;\n\n\tprops.notes.forEach((note, index) => (notes.push(\n\t\t<p key={'note-' + index}\n\t\t\tdangerouslySetInnerHTML={rawMarkup(note)}/>\n\t)));\n\n\tif (props.iconGlyph) {\n\t\ticon = <Icon glyph={props.iconGlyph}/>;\n\t}\n\n\treturn (\n\t\t<div className={props.className}>\n\t\t\t<h2>\n\t\t\t\t{icon}\n\t\t\t\t<span dangerouslySetInnerHTML={rawMarkup(props.title)}/>\n\t\t\t</h2>\n\t\t\t{notes}\n\t\t</div>\n\t);\n};\n\nDialogHeading.propTypes = {\n\ticonGlyph: PropTypes.string,\n\tclassName: PropTypes.string.isRequired,\n\ttitle: PropTypes.string.isRequired,\n\tnotes: PropTypes.arrayOf(PropTypes.string)\n};\n\nexport default DialogHeading;\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/components/dialogs/DialogHeading.jsx","/**\n * @typedef FormOnSubmit\n * @param {object} formValues - the current values of the form elements, as an object.\n */\n\n/**\n * @typedef FormFieldSets\n * @description\n * An array of fieldsets  each item of which contains an object defining a\n * single fieldset. See {@link FormFieldset}.\n * @example\n * var fieldsets = [\n * \t{@link FormFieldSet}...\n * ];\n */\n\n/**\n * An object defining a single fieldset.\n * @typedef FormFieldSet\n * @property {string} key - Unique key value.\n * @property {string} legend - Legend label.\n * @property {object} fields - Fields within the fieldset. The keys of which\n * should represent the name of the field, with the values being one of\n * {@link FormField} each.\n * @example\n * var fieldset = [\n * \t{@link FormField}...\n * ]\n */\n\n/**\n * @typedef FormButton\n * @property {string} type - Either 'cancel', 'submit' or a custom type.\n * @property {string} label - Button label.\n * @property {object} data - Data sent as `data` to the form onSubmit prop.\n * @property {object} className - Extra class name(s) for the button.\n */\nimport React, { Component, PropTypes } from 'react';\n\nimport Fieldset from './Fieldset.jsx';\nimport Button from './Button.jsx';\n\n/**\n * @description\n * Takes a form specification and produces an HTML form.\n * See {@link Form.propTypes} for more information\n */\nclass Form extends Component {\n\tconstructor(props) {\n\t\tvar formValues = {};\n\n\t\tsuper(props);\n\n\t\tthis.ui = {\n\t\t\trefs: {\n\t\t\t\tbuttons: {},\n\t\t\t\tfields: {}\n\t\t\t}\n\t\t};\n\n\t\t// set default state for fields based on original values\n\t\tif (this.props.fieldSets) {\n\t\t\tthis.props.fieldSets.forEach((set) => {\n\t\t\t\tformValues[set.key] = {};\n\n\t\t\t\tset.fields.forEach((field) =>\n\t\t\t\t\t(formValues[set.key][field.name] = field.value)\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\n\t\t// set default form value state\n\t\tthis.state = {\n\t\t\tformValues\n\t\t};\n\n\t\t// bind functions for events\n\t\tthis.elementChange = this.elementChange.bind(this);\n\t}\n\n\tvalueSet(values, node) {\n\t\tvar nodes = [], key;\n\n\t\tif (Array.isArray(values)) {\n\t\t\tvalues.forEach(function(value) {\n\t\t\t\tnodes.push(\n\t\t\t\t\t<node value={value}>{value}</node>\n\t\t\t\t);\n\t\t\t});\n\t\t} else if (typeof values === 'object') {\n\t\t\tfor (key in values) {\n\t\t\t\tnodes.push(\n\t\t\t\t\t<node value={key}>{values[key]}</node>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\treturn nodes;\n\t}\n\n\tfieldSets() {\n\t\tvar output = [];\n\n\t\tif (this.props.fieldSets) {\n\t\t\tthis.props.fieldSets.forEach((set) => {\n\t\t\t\tconst key = 'fieldset-' + set.key;\n\n\t\t\t\toutput.push(\n\t\t\t\t\t<Fieldset\n\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\trefCollector={this.collectFieldRef.bind(this)}\n\t\t\t\t\t\tset={set.key}\n\t\t\t\t\t\tfields={set.fields}\n\t\t\t\t\t\tlegend={set.legend}\n\t\t\t\t\t\tonFieldUpdate={this.elementChange}\n\t\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t}\n\n\telementChange(set, name, value, values_state) {\n\t\tvar sets = Object.assign({}, this.state.formValues);\n\n\t\tsets[set] = values_state;\n\n\t\tthis.setState({\n\t\t\tformValues: sets\n\t\t});\n\t}\n\n\tcomponentOnSubmit(proxy_event) {\n\t\tthis.onSubmit(proxy_event, 'submit');\n\t}\n\n\tonSubmit(event, button, button_data) {\n\t\tif (event) {\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\tthis.props.onSubmit(this.state.formValues, button, button_data);\n\t}\n\n\t/**\n\t * Return a function to collect Button component DOM references.\n\t */\n\tcollectButtonRef(key) {\n\t\treturn function(ref) {\n\t\t\tthis.ui.refs.buttons[key] = ref;\n\t\t}.bind(this);\n\t}\n\n\t/**\n\t * @description\n\t * Collect a reference to a field. Each field component uses two arguments\n\t * for their refCollector prop (unlike the usual one):\n\t * 1. An identifying key\n\t * 2. The DOM reference\n\t */\n\tcollectFieldRef(key, ref) {\n\t\tthis.ui.refs.fields[key] = ref;\n\t}\n\n\tcomponentDidMount() {\n\t\tvar a, b, key;\n\n\t\tif ('ontouchstart' in window) {\n\t\t\t// if it's a touch device, it'll likely have an on-screen keyboard\n\t\t\t// which could get in the way of the dialog opening and cause UX issues.\n\t\t\treturn;\n\t\t}\n\n\t\t// handle focusing of the first field (or button) in the form\n\t\tif (this.props.fieldSets && this.props.fieldSets.length) {\n\t\t\t// highlight first collected field\n\t\t\tfor (a = 0; a < this.props.fieldSets.length; a += 1) {\n\t\t\t\tfor (b = 0; b < this.props.fieldSets[a].fields.length; b += 1) {\n\t\t\t\t\tkey = 'field-' + this.props.fieldSets[a].fields[b].name;\n\n\t\t\t\t\tif (this.props.fieldSets[a].fields[b].type !== 'hidden' &&\n\t\t\t\t\t\tthis.ui.refs.fields[key]) {\n\t\t\t\t\t\tthis.ui.refs.fields[key].focus();\n\t\t\t\t\t\ta = this.props.fieldSets.length;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\t// highlight first collected button\n\t\t\tthis.props.buttons.forEach((button, index) => {\n\t\t\t\tvar key = 'button-' + index;\n\n\t\t\t\tif (this.ui.refs.buttons[key] && button.type === 'submit') {\n\t\t\t\t\tthis.ui.refs.buttons[key].focus();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * @description\n\t * Iterate through the `buttons` object in `props` and produce a list of Button\n\t * components.\n\t */\n\tgetButtons() {\n\t\tvar buttons = [];\n\n\t\tif (this.props.buttons && this.props.buttons.length) {\n\t\t\tthis.props.buttons.forEach((button, index) => {\n\t\t\t\tvar key = 'button-' + index,\n\t\t\t\t\tclick_function;\n\n\t\t\t\tclick_function = ((component, key) => {\n\t\t\t\t\treturn function(event) {\n\t\t\t\t\t\tif (component.ui.refs.buttons && component.ui.refs.buttons[key]) {\n\t\t\t\t\t\t\tcomponent.ui.refs.buttons[key].blur();\n\t\t\t\t\t\t\tcomponent.props.onButtonClick(component.ui.refs.buttons[key], event);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (button.type === 'cancel') {\n\t\t\t\t\t\t\t// cancel button\n\t\t\t\t\t\t\tcomponent.props.onCancel();\n\t\t\t\t\t\t} else if (button.type !== 'submit') {\n\t\t\t\t\t\t\t// anything except submit\n\t\t\t\t\t\t\tcomponent.onSubmit(null, button.type, button.data);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t})(this, key, button.onClick);\n\n\t\t\t\tbuttons.push(\n\t\t\t\t\t<Button\n\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\trefCollector={this.collectButtonRef(key)}\n\t\t\t\t\t\ttype={button.type}\n\t\t\t\t\t\tlabel={button.label}\n\t\t\t\t\t\tclassName={button.className}\n\t\t\t\t\t\tonClick={click_function}/>\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\n\t\treturn buttons;\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<form action=\"\" onSubmit={this.componentOnSubmit.bind(this)}>\n\t\t\t\t<div className=\"fields\">\n\t\t\t\t\t{this.fieldSets()}\n\t\t\t\t</div>\n\t\t\t\t<fieldset className=\"buttons\">\n\t\t\t\t\t{this.getButtons()}\n\t\t\t\t</fieldset>\n\t\t\t</form>\n\t\t);\n\t}\n}\n\n/**\n * @property {function} onCancel - invoked when the form is cancelled\n * @property {FormOnSubmit} onSubmit - invoked when the form is submitted\n * @property {FormFieldSets} fieldSets - fieldsets for display\n */\nForm.propTypes = {\n\tonButtonClick: PropTypes.func.isRequired,\n\tonCancel: PropTypes.func,\n\tonSubmit: PropTypes.func,\n\tfieldSets: PropTypes.arrayOf(PropTypes.shape({\n\t\tkey: PropTypes.string,\n\t\tlegend: PropTypes.string,\n\t\tfields: PropTypes.array\n\t})),\n\tbuttons: PropTypes.array\n};\n\nForm.defaultProps = {\n\tonCancel: () => {},\n\tonSubmit: () => {}\n};\n\nexport default Form;\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/components/views/Form.jsx","import { checkStorage } from './utils';\n\nvar JSON = JSON || window.JSON;\nvar store = window.localStorage || window.sessionStorage;\n\nvar Storage = function(prefix) {\n\tthis.prefix = prefix + '_';\n\tthis.storageEnabled = checkStorage('localStorage');\n};\n\nStorage.prototype = {\n\tget: function(key, default_value) {\n\t\tvar value;\n\n\t\tif (this.storageEnabled &&\n\t\t\t(value = store.getItem(this.prefix + key)) !== null) {\n\t\t\ttry {\n\t\t\t\tvalue = JSON.parse(value);\n\t\t\t\treturn value;\n\t\t\t} catch(e) {\n\t\t\t\treturn default_value;\n\t\t\t}\n\t\t}\n\n\t\treturn default_value;\n\t},\n\n\tset: function(key, value) {\n\t\tif (this.storageEnabled) {\n\t\t\tstore.setItem(this.prefix + key, JSON.stringify(value));\n\t\t}\n\t}\n};\n\nexport default Storage;\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/lib/Storage.js","import promise from 'promise';\nimport superagent from 'superagent';\nimport superagent_promise from 'superagent-promise';\n\nexport default superagent_promise(superagent, promise);\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/lib/ajax.js","/**\n * The built in HTMLElement type. Used to define DOM compatible nodes of Element type.\n * @typedef HTMLElement\n */\n\n/**\n * React's internal simulated event type. Exposes further properties for ease of development.\n * @typedef ReactEvent\n */\n\n/**\n * @callback DialogPromise\n * @param {DialogData} dialog - Data from the dialog.\n */\n\n/**\n * @typedef DialogData\n * @property {object} data - Data from any form elements within the dialog.\n * @property {string} action - Action string. 'submit', 'cancel' or a custom action, if set.\n * @property {object} action_data - Data specific to the special action, if set.\n */\n\nimport { createStore } from 'redux';\n\nimport './lib/polyfills';\nimport './styles/main.scss';\n\nimport UI from './lib/UI.jsx';\nimport { GLYPHS } from './components/views/Icon.jsx';\n\nimport Droplet from './lib/Droplet';\nimport request from './lib/ajax';\nimport Template from './lib/Template';\nimport Storage from './lib/Storage';\nimport { structCompare } from './lib/utils';\n\nimport actions from './state/actions';\nimport reducers from './state/reducers';\n\nimport appDefaults from './assets/defaults';\nimport defaultState from './assets/default-state';\nimport createDialogs from './assets/dialogs';\nimport { dialogModes, uiStates, actionTypes, messageCommands } from './assets/constants';\n\n/**\n * Main application wraper.\n * @param {AppDefaults} settings - Settings object.\n * @class\n */\nvar App = function(settings = {}) {\n\tthis.settings = Object.deepAssign({}, App.defaults, settings);\n\tthis._init();\n\tthis.dialogs = createDialogs(this.settings);\n\tthis.storage = new Storage('tag_app');\n\n\t// set Template.onElementRender to settings, if defined\n\tif (settings.onElementRender) {\n\t\tTemplate.onElementRender = settings.onElementRender.bind(this);\n\t}\n\n\t// bind hideDialog to this context in case its used as a direct argument within a promise\n\tthis.hideDialog = this.hideDialog.bind(this);\n};\n\nApp.prototype = {\n\t_init: function() {\n\t\tthis._refs = {\n\t\t\tui: {\n\t\t\t\tapp: document.querySelector('.app')\n\t\t\t},\n\t\t\tmounted: {},\n\t\t\tcomponents: {}\n\t\t};\n\n\t\t// app data store (not stateful)\n\t\tthis._data = {\n\t\t\ttemplate: '',\n\t\t\tpallet: []\n\t\t};\n\n\t\t// templates module\n\t\tthis._template = new Template(this, this.settings);\n\t},\n\n\t/**\n\t * Load the template/pallet data and activate Tag.\n\t */\n\tload: function(url, pallet) {\n\t\treturn this._template.load(url)\n\t\t\t.then(() => {\n\t\t\t\t// load the HTML template and create it\n\t\t\t\tvar data = this._template.create();\n\n\t\t\t\tthis._data.drop_zones = data.drop_zones;\n\t\t\t\tthis._data.template = data.template;\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\t// load the JSON based pallet data\n\t\t\t\treturn this._loadPallet(pallet);\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\tvar stored_state = this.storage.get('state', undefined);\n\n\t\t\t\tif (stored_state !== undefined &&\n\t\t\t\t\ttypeof stored_state === 'object') {\n\t\t\t\t\t// stored state exists - reset UI (which is non-persistant)\n\t\t\t\t\tstored_state.UI = {};\n\t\t\t\t\tstored_state.UI = defaultState.UI;\n\n\t\t\t\t\tif (!this._validate_state(stored_state)) {\n\t\t\t\t\t\t// reset stored_state back to undefined if  it's not valid\n\t\t\t\t\t\tstored_state = undefined;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// reset back to undefined\n\t\t\t\t\tstored_state = undefined;\n\t\t\t\t}\n\n\t\t\t\t// app state store - default\n\t\t\t\tthis._store = createStore(\n\t\t\t\t\treducers,\n\t\t\t\t\tstored_state,\n\t\t\t\t\t(\n\t\t\t\t\t\ttypeof window !== 'undefined' &&\n\t\t\t\t\t\twindow.__REDUX_DEVTOOLS_EXTENSION__ &&\n\t\t\t\t\t\twindow.__REDUX_DEVTOOLS_EXTENSION__({\n\t\t\t\t\t\t\t// black list all session-based non persistant actions\n\t\t\t\t\t\t\t// (some of which contain unserialisable objects)\n\t\t\t\t\t\t\tactionsBlacklist: [\n\t\t\t\t\t\t\t\tactionTypes.SET_ACTIVE_DROPLET,\n\t\t\t\t\t\t\t\tactionTypes.SET_DIALOG_MODE,\n\t\t\t\t\t\t\t\tactionTypes.SET_TOUR_STAGE,\n\t\t\t\t\t\t\t\tactionTypes.SHOW_TOOLTIP,\n\t\t\t\t\t\t\t\tactionTypes.HIDE_TOOLTIP,\n\t\t\t\t\t\t\t\tactionTypes.SET_TOOLTIP_CONTENT\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t);\n\n\t\t\t\t// activate the UI\n\t\t\t\tthis._UI = new UI(\n\t\t\t\t\tthis,\n\t\t\t\t\tthis.settings,\n\t\t\t\t\tthis._refs,\n\t\t\t\t\tthis._data,\n\t\t\t\t\tthis._store,\n\t\t\t\t\tthis._template\n\t\t\t\t);\n\n\t\t\t\t// render\n\t\t\t\tthis._UI.render();\n\n\t\t\t\t// set active state\n\t\t\t\tthis._store.dispatch(actions.setUIState(uiStates.ACTIVE));\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tthrow error;\n\t\t\t});\n\t},\n\n\t/**\n\t * Load the pallet data\n\t * @private\n\t */\n\t_loadPallet: function(url) {\n\t\treturn request.get(url)\n\t\t\t.then((response) => {\n\t\t\t\tvar pallet, item;\n\n\t\t\t\ttry {\n\t\t\t\t\tpallet = JSON.parse(response.text);\n\t\t\t\t} catch(e) {\n\t\t\t\t\treturn Promise.reject(new Error(\n\t\t\t\t\t\t'Pallet data at file \"' + url + '\"\" could not be parsed.' +\n\t\t\t\t\t\t' is it valid JSON?'\n\t\t\t\t\t));\n\t\t\t\t}\n\n\t\t\t\tif (Array.isArray(pallet) && pallet.length) {\n\t\t\t\t\tfor (item in pallet) {\n\t\t\t\t\t\tthis._data.pallet.push(\n\t\t\t\t\t\t\tnew Droplet(pallet[item])\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t'Looks like the pallet at path ' + url +\n\t\t\t\t\t\t' isnt a valid array in JSON format.'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tthrow error;\n\t\t\t});\n\t},\n\n\t/**\n\t * Validates a state object by comparing it to the default state.\n\t * @private\n\t */\n\t_validate_state: function(state) {\n\t\treturn structCompare(state, defaultState);\n\t},\n\n\t/**\n\t * Displays a dialog message with optional confirmations\n\t * @param {string} title - Title of the dialog.\n\t * @param {array|HTMLElement} message - Message to display.\n\t * @param {array} [buttons] - Buttons to show. Defaults to a single \"OK\" button.\n\t * @returns {DialogPromise} a Promise, the resolve/reject methods of which will denote\n\t * completion or cancellation of the dialog. Custom button events will not complete\n\t * the promise.\n\t */\n\tdialog: function(title, message, buttons = []) {\n\t\tthis._requireUI();\n\n\t\tif (!Array.isArray(message)) {\n\t\t\tmessage = [message];\n\t\t}\n\n\t\treturn this._UI._showDialog(\n\t\t\tdialogModes.GENERAL, {\n\t\t\t\ttitle,\n\t\t\t\tmessage,\n\t\t\t\tbuttons\n\t\t\t}\n\t\t);\n\t},\n\n\t/**\n\t * Hides whichever active dialog is currently open.\n\t */\n\thideDialog: function() {\n\t\tthis._UI._hideDialog.apply(this._UI);\n\t},\n\n\t/**\n\t * Starts the standardised tour process, guiding the user through the interface.\n\t */\n\tstartTour: function() {\n\t\tthis._requireUI();\n\t\tthis._UI._tour.start();\n\t},\n\n\t/**\n\t * Resets the template and view frame. *note*, all placements will be lost.\n\t */\n\treset: function() {\n\t\tthis._requireUI();\n\n\t\tthis._UI._showDialog(dialogModes.GENERAL, this.dialogs.resetState)\n\t\t\t.then(() => {\n\t\t\t\t// clear all zones and reset the app\n\t\t\t\tthis._store.dispatch(actions.zoneClearAllAttachments());\n\t\t\t\tthis._store.dispatch(actions.resetApp());\n\n\t\t\t\t// clear view\n\t\t\t\tthis._UI._comms.send('view', {\n\t\t\t\t\tcmd: messageCommands.RESET\n\t\t\t\t});\n\n\t\t\t\tthis.hideDialog();\n\t\t\t});\n\t},\n\n\t/**\n\t * Updates the view frame with the latest template and its attachments.\n\t */\n\tupdateView: function() {\n\t\tthis._requireUI();\n\t\tthis._UI._updateView();\n\t},\n\n\t/**\n\t * Requires a _UI instance. Will throw if one doesn't exist.\n\t */\n\t_requireUI: function() {\n\t\tif (!this._UI) {\n\t\t\tthrow new Error('UI has not yet been initialised! Have you used #load() yet?');\n\t\t}\n\t}\n};\n\n/**\n * Default settings.\n */\nApp.defaults = appDefaults;\n\n/**\n * Icon glyphs\n */\nApp.GLYPHS = GLYPHS;\n\nexport default App;\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/Index.js","import { GLYPHS } from '../components/views/Icon.jsx';\nimport { dialogModes } from './constants';\n\n/**\n * The default settings applied to tag's App class on instantiation.\n * @typedef AppDefaults\n * @property {object} classes - Class definitions.\n * @property {object} selectors - CSS Selector definitions.\n * @property {object} template - Template options.\n * @property {number} template.initial_flex_basis=50 - The initial flex basis (width) of\n * the template container.\n * @property {object} view - View options.\n * @property {string} view.src='view.html' - Source filename for the view frame (relative to the App index).\n * @property {boolean} view.autoUpdate=false - Whether to automatically update the view when Droplet attachments change.\n * @property {object} dropZone - Drop Zone options.\n * @property {string} dropZone.label='...' - The label to use for Drop Zone targets.\n * @property {boolean} dropZone.warnOnBadPlacement=true - Produce a dialog when placing a Droplet into an invalid Drop Zone.\n * @property {boolean} dropZone.noticeOnFirstPlacement=true - Produce a dialog on the first valid placement of a Droplet\n * @property {boolean} dropZone.noticeOnLastPlacement=true - Produce a dialog when all of the Drop Zones have at least one attachment.\n * @property {ToolbarItem[]} toolbar - Toolbar items.\n */\n\nexport default {\n\tclasses: {\n\t\tcanvas: 'tag-canvas',\n\t\tcanvas_active: 'active',\n\t\tdroplet_active: 'droplet-active',\n\t\tis_dragging: 'dragging',\n\t\titem_dragging: 'item-dragging',\n\t\tdropzone_target: 'target',\n\t\tdropzone_is_active: 'is-active',\n\t\tdropzone_is_target: 'is-target',\n\t\tattached: 'attached',\n\t\ttext_element: 'text',\n\t\thidden: 'hidden',\n\t\tbutton: 'button',\n\t\tbutton_animate: 'animate',\n\t\tpopup: 'popup',\n\t\ttooltip: 'tooltip',\n\t\ttemplate: {\n\t\t\tnode: 'template',\n\t\t\tinner: 'template-inner'\n\t\t},\n\t\tdroplet: {\n\t\t\tnode: 'droplet',\n\t\t\tactive: 'active',\n\t\t},\n\t\tdropzone: {\n\t\t\tnode: 'drop-zone',\n\t\t\tpossible_target: 'possible-target',\n\t\t\twill_accept: 'will-accept',\n\t\t\twill_decline: 'will-decline'\n\t\t},\n\t\tdialog: {\n\t\t\tmain: 'dialog',\n\t\t\tvisible: 'visible',\n\t\t\tcontainer: 'dialog-container',\n\t\t\theading: 'dialog-heading',\n\t\t\tno_overlay: 'no-overlay'\n\t\t},\n\t\ttoolbar: {\n\t\t\tseparator: 'separator'\n\t\t}\n\t},\n\tselectors: {\n\t\tdrop_zone: '.drop-zone .target',\n\t\tdroplet: '.droplet',\n\t\tbutton_circle: '.circle'\n\t},\n\ttemplate: {\n\t\tinitial_flex_basis: 50\n\t},\n\tview: {\n\t\tsrc: 'view.html',\n\t\tautoUpdate: false\n\t},\n\tdropZone: {\n\t\tlabel: '...',\n\t\twarnOnBadPlacement: true,\n\t\tnoticeOnFirstPlacement: true,\n\t\tnoticeOnLastPlacement: true\n\t},\n\ttoolbar: [{\n\t\tlabel: (state) => {\n\t\t\tif (state.UI.tour_stage !== null && state.UI.dialog.mode === dialogModes.NONE) {\n\t\t\t\treturn 'Continue tour';\n\t\t\t} else {\n\t\t\t\treturn 'Tour';\n\t\t\t}\n\t\t},\n\t\ticon: GLYPHS.COMPASS,\n\t\tmethod: 'startTour'\n\t}, {\n\t\tlabel: 'Reset',\n\t\ticon: GLYPHS.LOOP_CIRCULAR,\n\t\tmethod: 'reset'\n\t}, {\n\t\tlabel: 'Run',\n\t\ticon: GLYPHS.MEDIA_PLAY,\n\t\tmethod: 'updateView',\n\t\tclassName: 'run',\n\t\tseparator: true\n\t}],\n\tonElementRender: null,\n\tshowIntro: PRODUCTION\n};\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/assets/defaults.js","import React from 'react';\n\nexport const optionValueSet = function(values) {\n\tvar nodes = [], key;\n\n\tif (Array.isArray(values)) {\n\t\tvalues.forEach(function(value, index) {\n\t\t\tvar key = 'item-' + index;\n\t\t\tnodes.push(\n\t\t\t\t<option key={key} value={value}>{value}</option>\n\t\t\t);\n\t\t});\n\t} else if (typeof values === 'object') {\n\t\tfor (key in values) {\n\t\t\tnodes.push(\n\t\t\t\t<option key={key} value={key}>{values[key]}</option>\n\t\t\t);\n\t\t}\n\t}\n\n\treturn nodes;\n};\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/components/component-utils.jsx","import React, { Component, PropTypes } from 'react';\nimport { collectRef } from '../../lib/utils';\n\nimport View from '../views/View.jsx';\nimport Tooltip from './TooltipContainer';\nimport Header from './HeaderContainer';\nimport Template from './TemplateContainer';\nimport Dialog from './DialogContainer';\nimport Pallet from './PalletContainer';\n\nclass Canvas extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\tcomponentDidMount() {\n\t\tif (typeof this.props.onMount === 'function') {\n\t\t\tthis.props.onMount('canvas');\n\t\t}\n\t}\n\n\trender() {\n\t\tvar classes = [\n\t\t\tthis.props.settings.classes.canvas,\n\t\t\tthis.props.state.ui_state\n\t\t];\n\n\t\tif (typeof this.props.active_droplet_id === 'string' &&\n\t\t\tthis.props.active_droplet_id !== '') {\n\t\t\tclasses.push(this.props.settings.classes.droplet_active);\n\t\t}\n\n\t\treturn (\n\t\t\t<div className={classes.join(' ')}\n\t\t\t\tref={collectRef(this.props, 'canvas')}\n\t\t\t\t>\n\t\t\t\t<Header\n\t\t\t\t\tsettings={this.props.settings}\n\t\t\t\t\tonButtonClick={this.props.onButtonClick}\n\t\t\t\t\tlib={this.props.lib}>\n\t\t\t\t\t<h1 className=\"logo\">&lt;<b>Tag</b>&gt;</h1>\n\t\t\t\t\t<p>The webpage learning tool.</p>\n\t\t\t\t</Header>\n\n\t\t\t\t<div className=\"main\">\n\t\t\t\t\t<Template\n\t\t\t\t\t\tdata={this.props.data}\n\t\t\t\t\t\tsettings={this.props.settings}\n\t\t\t\t\t\trefCollector={this.props.refCollector}\n\t\t\t\t\t\tonMount={this.props.onMount}\n\t\t\t\t\t\tonAttachmentClick={this.props.onAttachmentClick}\n\t\t\t\t\t\tonDropZoneEvent={this.props.onDropZoneEvent}\n\t\t\t\t\t\ttemplate={this.props.data.template}\n\t\t\t\t\t\tlib={this.props.lib}\n\t\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"drag-handle\"\n\t\t\t\t\t\tonMouseEnter={this.props.onDragHandleEvent}\n\t\t\t\t\t\tonMouseLeave={this.props.onDragHandleEvent}\n\t\t\t\t\t\tonMouseDown={this.props.onDragHandleEvent}\n\t\t\t\t\t\tonMouseUp={this.props.onDragHandleEvent}\n\t\t\t\t\t\tonTouchStart={this.props.onDragHandleEvent}\n\t\t\t\t\t\tonTouchEnd={this.props.onDragHandleEvent}\n\t\t\t\t\t\tref={collectRef(this.props, 'drag_handle')}></div>\n\t\t\t\t\t<View\n\t\t\t\t\t\tsettings={this.props.settings}\n\t\t\t\t\t\tonMount={this.props.onMount}\n\t\t\t\t\t\trefCollector={this.props.refCollector}/>\n\t\t\t\t</div>\n\n\t\t\t\t<Pallet\n\t\t\t\t\tdata={this.props.data}\n\t\t\t\t\tsettings={this.props.settings}\n\t\t\t\t\tlib={this.props.lib}\n\t\t\t\t\tonMount={this.props.onMount}\n\t\t\t\t\tonDropletEvent={this.props.onDropletEvent}\n\t\t\t\t\trefCollector={this.props.refCollector}/>\n\n\t\t\t\t<div className=\"overlay\"></div>\n\t\t\t\t<Dialog\n\t\t\t\t\tsettings={this.props.settings}\n\t\t\t\t\tlib={this.props.lib}\n\t\t\t\t\tonButtonClick={this.props.onButtonClick}/>\n\t\t\t\t<Tooltip\n\t\t\t\t\tsettings={this.props.settings}\n\t\t\t\t\tattacher={this.props.lib.setUIPopperAttachment}/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nCanvas.propTypes = {\n\t// from CanvasContainer\n\tstate: PropTypes.object.isRequired,\n\tactive_droplet_id: PropTypes.any,\n\tstate_tooltip: PropTypes.object,\n\n\t// from UI#render\n\tdata: PropTypes.object.isRequired,\n\tonMount: PropTypes.func.isRequired,\n\tonAttachmentClick: PropTypes.func.isRequired,\n\tonDropletEvent: PropTypes.func.isRequired,\n\tonDropZoneEvent: PropTypes.func.isRequired,\n\tonDragHandleEvent: PropTypes.func.isRequired,\n\tonButtonClick: PropTypes.func.isRequired,\n\trefCollector: PropTypes.func.isRequired,\n\tsettings: PropTypes.object.isRequired,\n\tlib: PropTypes.object.isRequired\n};\n\nexport default Canvas;\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/components/containers/Canvas.jsx","import { connect } from 'react-redux';\n\nimport Canvas from './Canvas.jsx';\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tstate: state.app,\n\t\tactive_droplet_id: state.UI.active_droplet_id\n\t};\n};\n\nconst CanvasContainer = connect(\n  mapStateToProps\n)(Canvas);\n\nexport default CanvasContainer;\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/components/containers/CanvasContainer.js","import { connect } from 'react-redux';\n\nimport Dialog from '../dialogs/Dialog.jsx';\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tid: state.UI.dialog.id,\n\t\tmode: state.UI.dialog.mode,\n\t\tdata: state.UI.dialog.data,\n\t\tonDialogComplete: state.UI.dialog.onDialogComplete,\n\t\tonDialogCancel: state.UI.dialog.onDialogCancel\n\t};\n};\n\nconst DialogContainer = connect(\n  mapStateToProps\n)(Dialog);\n\nexport default DialogContainer;\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/components/containers/DialogContainer.js","import { connect } from 'react-redux';\n\nimport Header from '../views/Header.jsx';\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\ttour_stage: state.UI.tour_stage,\n\t\tdialog_mode: state.UI.dialog.mode\n\t};\n};\n\nconst HeaderContainer = connect(\n  mapStateToProps\n)(Header);\n\nexport default HeaderContainer;\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/components/containers/HeaderContainer.js","import { connect } from 'react-redux';\n\nimport actions from '../../state/actions';\nimport Pallet from '../views/Pallet.jsx';\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tactiveDropletId: state.UI.active_droplet_id\n\t};\n};\n\nconst mapDispatchToProps = (dispatch, props) => {\n\treturn {\n\t\tonDropletEvent: (event, droplet, data) => {\n\t\t\tswitch (event.type) {\n\t\t\tcase 'mouseenter':\n\t\t\tcase 'touchstart':\n\t\t\t\tdispatch(actions.setTooltipContent(data.title, data.content, data.iconGlyph));\n\t\t\t\tdispatch(actions.showTooltip(data.ref));\n\t\t\t\tbreak;\n\n\t\t\tcase 'mouseleave':\n\t\t\tcase 'touchend':\n\t\t\tcase 'click':\n\t\t\t\tdispatch(actions.hideTooltip());\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tprops.onDropletEvent(event, droplet, data);\n\t\t}\n\t};\n};\n\nconst PalletContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Pallet);\n\nexport default PalletContainer;\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/components/containers/PalletContainer.js","import { connect } from 'react-redux';\n\nimport Template from '../views/Template.jsx';\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tzones: state.zones,\n\t\tactiveDropletID: state.UI.active_droplet_id\n\t};\n};\n\nconst TemplateContainer = connect(\n  mapStateToProps\n)(Template);\n\nexport default TemplateContainer;\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/components/containers/TemplateContainer.js","import { connect } from 'react-redux';\n\nimport Tooltip from '../views/Tooltip.jsx';\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tstate: state.UI.tooltip\n\t};\n};\n\nconst TooltipContainer = connect(\n  mapStateToProps\n)(Tooltip);\n\nexport default TooltipContainer;\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/components/containers/TooltipContainer.js","import React, { Component, PropTypes } from 'react';\n\nimport { dialogModes } from '../../assets/constants';\n\n// import the dialogs used, then put into a global for referencing\nimport DialogGeneral from '../dialogs/DialogGeneral.jsx';\nimport DialogEditDroplet from '../dialogs/DialogEditDroplet.jsx';\n\nvar DialogComponents = {};\nDialogComponents[dialogModes.EDIT_DROPLET] = DialogEditDroplet;\nDialogComponents[dialogModes.GENERAL] = DialogGeneral;\nDialogComponents[dialogModes.TOUR] = DialogGeneral;\n\nclass Dialog extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\t/**\n\t * `ref` and `popper` reference is refreshed here instead of componentDidMount\n\t * because this component doesn't really \"unmount\" as such - it just changes the\n\t * inner `Component` value for dialog contents.\n\t */\n\tcollectRef(ref) {\n\t\tif (ref !== null) {\n\t\t\tthis.dialogRef = ref;\n\n\t\t\tif (this.popper) {\n\t\t\t\t// popper already exists - remove and set null\n\t\t\t\tthis.popper.destroy();\n\t\t\t\tthis.popper = null;\n\t\t\t}\n\n\t\t\tif (this.props.data && this.props.data.attachment) {\n\t\t\t\t// attachment data exists - apply with popper\n\t\t\t\tthis.popper = this.props.lib.setUIPopperAttachment(\n\t\t\t\t\tthis.props.data.attachment,\n\t\t\t\t\tthis.dialogRef\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\trender() {\n\t\tvar Component,\n\t\t\tclasses = [\n\t\t\t\tthis.props.settings.classes.dialog.main\n\t\t\t];\n\n\t\tif (this.props.mode !== dialogModes.NONE) {\n\t\t\tclasses.push(this.props.settings.classes.dialog.visible);\n\t\t}\n\n\t\t// get appropriate component for dialog mode\n\t\tComponent = DialogComponents[this.props.mode];\n\n\t\tif (Component) {\n\t\t\t// a dialog is being requested - render the appropriate component\n\t\t\tif (this.props.data.overlay === false) {\n\t\t\t\tclasses.push(this.props.settings.classes.dialog.no_overlay);\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<div className={classes.join(' ')}>\n\t\t\t\t\t<Component\n\t\t\t\t\t\tkey={this.props.id}\n\t\t\t\t\t\tdata={this.props.data}\n\t\t\t\t\t\tsettings={this.props.settings}\n\t\t\t\t\t\trefCollector={this.collectRef.bind(this)}\n\t\t\t\t\t\tonDialogComplete={this.props.onDialogComplete}\n\t\t\t\t\t\tonDialogCancel={this.props.onDialogCancel}\n\t\t\t\t\t\tonButtonClick={this.props.onButtonClick}\n\t\t\t\t\t\tlib={this.props.lib}/>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<div className={classes.join(' ')}></div>\n\t\t\t);\n\t\t}\n\t}\n}\n\nDialog.propTypes = {\n\t// from DialogContainer\n\tmode: PropTypes.string,\n\tdata: PropTypes.object,\n\tonDialogCancel: PropTypes.func,\n\tonButtonClick: PropTypes.func,\n\tid: PropTypes.string.isRequired,\n\n\t// from Canvas\n\tsettings: PropTypes.object,\n\tonDialogComplete: PropTypes.func,\n\tlib: PropTypes.object\n};\n\nDialog.defaultProps = {\n\tonDialogCancel: null,\n\tonDialogComplete: null\n};\n\nexport default Dialog;\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/components/dialogs/Dialog.jsx","import React, { Component } from 'react';\n\nimport FormField from '../../lib/FormField';\nimport { setLabels } from '../../assets/constants';\nimport { dialog } from '../../assets/common-prop-types';\n\nimport { GLYPHS } from '../views/Icon.jsx';\nimport DialogHeading from './DialogHeading.jsx';\nimport Form from '../views/Form.jsx';\n\nconst headingsByType = {\n\t'element': {\n\t\ttext: 'Element',\n\t\ticon: GLYPHS.TAG\n\t},\n\t'text': {\n\t\ttext: 'Text item',\n\t\ticon: GLYPHS.TEXT\n\t},\n\t'attribute': {\n\t\ttext: 'Attribute',\n\t\ticon: GLYPHS.PUZZLE_PIECE\n\t}\n};\n\nclass DialogEditDroplet extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tif (this.props.data && this.props.data.droplet_id) {\n\t\t\tthis.droplet = this.props.lib.getDropletById(this.props.data.droplet_id);\n\t\t}\n\n\t\tthis.onDialogComplete = this.onDialogComplete.bind(this);\n\t\tthis.detachAttachment = this.detachAttachment.bind(this);\n\t}\n\n\t/**\n\t * Instead of passing completion straight to the prop, handles conversion of raw form\n\t * data back into a format matching the original droplet data.\n\t */\n\tonDialogComplete(values, action, action_data) {\n\t\tvar droplet_values = {},\n\t\t\tkey;\n\n\t\tif (typeof this.props.onDialogComplete === 'function') {\n\t\t\t// convert data back into format replicating Droplet.data format\n\t\t\tfor (key in values) {\n\t\t\t\tif (values.hasOwnProperty(key)) {\n\t\t\t\t\tif (key === 'attrs') {\n\t\t\t\t\t\tdroplet_values[key] = values[key];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdroplet_values[key] = values[key][key];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdroplet_values = Object.deepAssign({}, this.droplet.data, droplet_values);\n\n\t\t\t// finally, fire the original prop with the converted data\n\t\t\tthis.props.onDialogComplete(droplet_values, action, action_data);\n\t\t}\n\t}\n\n\tdetachAttachment() {\n\t\tif (this.props.data.attachment_index !== null) {\n\t\t\tthis.props.lib.zoneDetachAttachment(\n\t\t\t\tthis.props.data.zone_id,\n\t\t\t\tthis.props.data.attachment_index\n\t\t\t);\n\t\t} else {\n\t\t\tthrow new Error('attachment_index is null or not defined. Cannot detach');\n\t\t}\n\n\t\tthis.props.onDialogCancel();\n\t}\n\n\tgetFieldsets() {\n\t\tvar fieldsets = [],\n\t\t\tattachment = null,\n\t\t\tfieldset, field, attribute, item;\n\n\t\tif (this.props.data.attachment_index !== null) {\n\t\t\tattachment = this.props.lib.zoneGetAttachment(\n\t\t\t\tthis.props.data.zone_id,\n\t\t\t\tthis.props.data.attachment_index\n\t\t\t);\n\t\t}\n\n\t\tfor (attribute in this.droplet.editable) {\n\t\t\tfieldset = {\n\t\t\t\tkey: attribute,\n\t\t\t\tlegend: setLabels[attribute],\n\t\t\t\tfields: []\n\t\t\t};\n\n\t\t\t// add indidual fields, depending on editable attribute type\n\t\t\tif (attribute === 'attrs') {\n\t\t\t\t// the 'attrs' attribute, which contains key/value pairs\n\t\t\t\tfor (item in this.droplet.editable[attribute]) {\n\t\t\t\t\tfield = Object.deepAssign({}, this.droplet.editable[attribute][item]);\n\n\t\t\t\t\t// preset value from attachment\n\t\t\t\t\tif (attachment !== null &&\n\t\t\t\t\t\tattachment.data.attrs &&\n\t\t\t\t\t\tattachment.data.attrs[item]) {\n\t\t\t\t\t\tfield.value = attachment.data.attrs[item];\n\t\t\t\t\t}\n\n\t\t\t\t\tfieldset.fields.push(new FormField(\n\t\t\t\t\t\titem,\n\t\t\t\t\t\tthis.droplet.editable[attribute][item].type,\n\t\t\t\t\t\tfield\n\t\t\t\t\t));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// string based attributes\n\t\t\t\tfield = Object.deepAssign({}, this.droplet.editable[attribute]);\n\n\t\t\t\t// preset value from attachment\n\t\t\t\tif (attachment !== null && attachment.data[attribute]) {\n\t\t\t\t\tfield.value = attachment.data[attribute];\n\t\t\t\t}\n\n\t\t\t\tfieldset.fields.push(new FormField(\n\t\t\t\t\tattribute,\n\t\t\t\t\tthis.droplet.editable[attribute].type,\n\t\t\t\t\tfield\n\t\t\t\t));\n\t\t\t}\n\n\t\t\t// add fieldset to form\n\t\t\tfieldsets.push(fieldset);\n\t\t}\n\n\t\treturn fieldsets;\n\t}\n\n\trender() {\n\t\tvar fieldsets = this.getFieldsets(),\n\t\t\tbuttons = [],\n\t\t\tclasses = [\n\t\t\t\tthis.props.settings.classes.dialog.container,\n\t\t\t\tthis.props.settings.classes.popup\n\t\t\t],\n\t\t\ttitle, notes;\n\n\t\tclasses.push('droplet-' + this.droplet.dropletType);\n\n\t\t// add cancel button (for every dialog type)\n\t\tbuttons.push({\n\t\t\ttype: 'cancel',\n\t\t\tlabel: 'Cancel'\n\t\t});\n\n\t\tif (this.props.data.attachment_index !== null) {\n\t\t\t// editing an existing droplet\n\t\t\ttitle = 'Edit ' + headingsByType[this.droplet.dropletType].text;\n\n\t\t\tif (fieldsets.length) {\n\t\t\t\tnotes = [\n\t\t\t\t\t'You can edit the Droplet using the fields below. ' +\n\t\t\t\t\t\t'Change the bits you want to customise and use Add Droplet when youre done.'\n\t\t\t\t];\n\n\t\t\t\tbuttons.push({\n\t\t\t\t\ttype: 'submit',\n\t\t\t\t\tlabel: 'Edit Droplet'\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tnotes = [\n\t\t\t\t\t'There is nothing to edit on this Droplet, but you can remove it ' +\n\t\t\t\t\t\t'With the Remove Droplet button.'\n\t\t\t\t];\n\t\t\t}\n\n\t\t\tbuttons.push({\n\t\t\t\ttype: 'remove_droplet',\n\t\t\t\tlabel: 'Remove Droplet',\n\t\t\t\tclassName: 'danger pull-left',\n\t\t\t\tdata: {\n\t\t\t\t\tattachment_index: this.props.data.attachment_index,\n\t\t\t\t\tzone_id: this.props.data.zone_id\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\t// adding\n\t\t\ttitle = 'Add ' + headingsByType[this.droplet.dropletType].text;\n\t\t\tnotes = [\n\t\t\t\t'Youve found the right drop place to put this Droplet! ',\n\t\t\t\t'Edit anything you would like to change and then use Edit Droplet.'\n\t\t\t];\n\t\t\tbuttons = buttons.concat({\n\t\t\t\ttype: 'submit',\n\t\t\t\tlabel: 'Add Droplet'\n\t\t\t});\n\t\t}\n\n\t\treturn (\n\t\t\t<div className={classes.join(' ')}\n\t\t\t\tref={this.props.refCollector}>\n\t\t\t\t<DialogHeading\n\t\t\t\t\ttitle={title}\n\t\t\t\t\tnotes={notes}\n\t\t\t\t\ticonGlyph={headingsByType[this.droplet.dropletType].icon}\n\t\t\t\t\tclassName={this.props.settings.classes.dialog.heading}/>\n\n\t\t\t\t<Form\n\t\t\t\t\tfieldSets={fieldsets}\n\t\t\t\t\tbuttons={buttons}\n\t\t\t\t\tonButtonClick={this.props.onButtonClick}\n\t\t\t\t\tonSubmit={this.onDialogComplete}\n\t\t\t\t\tonCancel={this.props.onDialogCancel}/>\n\t\t\t\t<span className=\"arrow\"/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nDialogEditDroplet.propTypes = dialog;\n\nexport default DialogEditDroplet;\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/components/dialogs/DialogEditDroplet.jsx","import React, { Component } from 'react';\n\nimport DialogHeading from './DialogHeading.jsx';\nimport Form from '../views/Form.jsx';\n\nimport { dialog } from '../../assets/common-prop-types';\n\nclass DialogGeneral extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\trender() {\n\t\tvar buttons = this.props.data.buttons,\n\t\t\tclasses = [\n\t\t\t\tthis.props.settings.classes.dialog.container,\n\t\t\t\tthis.props.settings.classes.popup\n\t\t\t];\n\n\t\tif (!buttons || !buttons.length) {\n\t\t\tbuttons = [{\n\t\t\t\ttype: 'submit',\n\t\t\t\tlabel: 'OK'\n\t\t\t}];\n\t\t}\n\n\t\treturn (\n\t\t\t<div className={classes.join(' ')}\n\t\t\t\tref={this.props.refCollector}>\n\t\t\t\t<DialogHeading\n\t\t\t\t\ttitle={this.props.data.title}\n\t\t\t\t\tnotes={this.props.data.message}\n\t\t\t\t\tclassName={this.props.settings.classes.dialog.heading}/>\n\n\t\t\t\t<Form\n\t\t\t\t\tbuttons={buttons}\n\t\t\t\t\tonButtonClick={this.props.onButtonClick}\n\t\t\t\t\tonSubmit={this.props.onDialogComplete}\n\t\t\t\t\tonCancel={this.props.onDialogCancel}/>\n\t\t\t\t<span className=\"arrow\"/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nDialogGeneral.propTypes = dialog;\n\nexport default DialogGeneral;\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/components/dialogs/DialogGeneral.jsx","import React, { PropTypes } from 'react';\n\nvar Button = function(props) {\n\tvar type = (props.type === 'submit') ? 'submit' : 'button',\n\t\tclasses = ['button', props.className],\n\t\tonClick = props.onClick;\n\n\tif (props.type === 'cancel') {\n\t\tclasses.push('cancel');\n\t} else if (props.type === 'submit') {\n\t\tclasses.push('primary');\n\t}\n\n\treturn (\n\t\t<button\n\t\t\tref={props.refCollector}\n\t\t\tclassName={classes.join(' ')}\n\t\t\tonClick={onClick}\n\t\t\ttype={type}>\n\t\t\t<span>\n\t\t\t\t{props.label}\n\t\t\t\t<span className=\"circle\"></span>\n\t\t\t</span>\n\t\t</button>\n\t);\n};\n\nButton.propTypes = {\n\ttype: PropTypes.string.isRequired,\n\tlabel: PropTypes.string.isRequired,\n\tclassName: PropTypes.string,\n\tonClick: PropTypes.func,\n\trefCollector: PropTypes.func,\n};\n\nexport default Button;\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/components/views/Button.jsx","import React, { Component, PropTypes } from 'react';\n\nimport { collectRef } from '../../lib/utils';\nimport DropZone from '../../lib/DropZone';\nimport DropZoneAttachmentList from './DropZoneAttachmentList.jsx';\nimport DropZoneTarget from './DropZoneTarget.jsx';\n\nclass DropZoneComponent extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.myrefs = {};\n\t\tthis.onEvent = this.onEvent.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tif (typeof this.props.onMount === 'function') {\n\t\t\tthis.props.onMount('dropzone', this.props.zone.id);\n\t\t}\n\t}\n\n\tonEvent(event) {\n\t\tif (event.type === 'click') {\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\tthis.props.onEvent(event, this.props.zone);\n\t}\n\n\trender() {\n\t\tvar key = this.props.zone.id + '-zone',\n\t\t\tclassNames = [this.props.settings.classes.dropzone.node];\n\n\t\tif (this.props.className !== '') {\n\t\t\tclassNames.push(this.props.className);\n\t\t}\n\n\t\treturn (\n\t\t\t<span\n\t\t\t\tkey={key}\n\t\t\t\tclassName={classNames.join(' ')}\n\t\t\t\tref={collectRef(this.props, ['dropzone'], this.props.zone.id)}\n\t\t\t\tdata-id={this.props.zone.id}\n\t\t\t\tdata-attachment={this.props.zone.attachmentId}>\n\t\t\t\t<DropZoneAttachmentList\n\t\t\t\t\tzone={this.props.zone}\n\t\t\t\t\tactiveAttachments={this.props.activeAttachments}\n\t\t\t\t\tonAttachmentClick={this.props.onAttachmentClick}\n\t\t\t\t\tlib={this.props.lib}/>\n\t\t\t\t<DropZoneTarget\n\t\t\t\t\tzone={this.props.zone}\n\t\t\t\t\tsettings={this.props.settings}\n\t\t\t\t\tactiveAttachments={this.props.activeAttachments}\n\t\t\t\t\trefCollector={this.props.refCollector}\n\t\t\t\t\tonEvent={this.onEvent}/>\n\t\t\t</span>\n\t\t);\n\t}\n}\n\nDropZoneComponent.propTypes = {\n\tzone: PropTypes.instanceOf(DropZone).isRequired,\n\tclassName: PropTypes.string,\n\tsettings: PropTypes.object.isRequired,\n\tactiveAttachments: PropTypes.array.isRequired,\n\tonMount: PropTypes.func.isRequired,\n\tonAttachmentClick: PropTypes.func.isRequired,\n\tonEvent: PropTypes.func.isRequired,\n\trefCollector: PropTypes.func.isRequired,\n\tlib: PropTypes.object.isRequired\n};\n\nexport default DropZoneComponent;\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/components/views/DropZone.jsx","import React, { Component, PropTypes } from 'react';\n\nimport Template from '../../lib/Template';\nimport Droplet from '../../lib/Droplet';\nimport DropZone from '../../lib/DropZone';\n\nclass DropZoneAttachment extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.onClick = this.onClick.bind(this);\n\t}\n\n\tonClick(event) {\n\t\tevent.preventDefault();\n\n\t\tthis.props.onClick(\n\t\t\tevent,\n\t\t\tthis.props.droplet,\n\t\t\tthis.props.attachmentIndex\n\t\t);\n\t}\n\n\trender() {\n\t\tvar className = 'dropzone-attachment',\n\t\t\tdata;\n\n\t\t// merge edited data with droplet data\n\t\tdata = Object.deepAssign({}, this.props.droplet.data, this.props.data);\n\n\t\t// set classname\n\t\tclassName += ' ' + this.props.droplet.dropletType;\n\n\t\treturn (\n\t\t\t<span\n\t\t\t\tclassName={className}\n\t\t\t\tonClick={this.onClick}>\n\t\t\t\t{Template.renderDroplet(this.props.droplet, data, this.props.zone, false)}\n\t\t\t</span>\n\t\t);\n\t}\n}\n\nDropZoneAttachment.propTypes = {\n\tdroplet: PropTypes.instanceOf(Droplet).isRequired,\n\tzone: PropTypes.instanceOf(DropZone).isRequired,\n\tattachmentIndex: PropTypes.number.isRequired,\n\tonClick: PropTypes.func.isRequired,\n\tdata: PropTypes.object.isRequired,\n};\n\nexport default DropZoneAttachment;\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/components/views/DropZoneAttachment.jsx","import React, { Component, PropTypes } from 'react';\n\nimport DropZone from '../../lib/DropZone';\nimport DropZoneAttachment from './DropZoneAttachment.jsx';\n\nclass DropZoneAttachmentList extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.attachmentClick = this.attachmentClick.bind(this);\n\t}\n\n\tattachmentClick(event, droplet, attachmentIndex) {\n\t\tif (typeof this.props.onAttachmentClick === 'function') {\n\t\t\tthis.props.onAttachmentClick(droplet, this.props.zone, attachmentIndex);\n\t\t}\n\t}\n\n\trenderActiveAttachments() {\n\t\tvar children = [];\n\n\t\tthis.props.activeAttachments.forEach((attachment, index) => {\n\t\t\tchildren.push(\n\t\t\t\t<DropZoneAttachment\n\t\t\t\t\tkey={attachment.droplet_id + '-attachment-' + index}\n\t\t\t\t\tattachmentIndex={index}\n\t\t\t\t\tonClick={this.attachmentClick}\n\t\t\t\t\tdroplet={this.props.lib.getDropletById(attachment.droplet_id)}\n\t\t\t\t\tzone={this.props.zone}\n\t\t\t\t\tdata={attachment.data}/>\n\t\t\t);\n\t\t});\n\n\t\treturn children;\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<span\n\t\t\t\tclassName=\"attachments\">\n\t\t\t\t{this.renderActiveAttachments()}\n\t\t\t</span>\n\t\t);\n\t}\n}\n\nDropZoneAttachmentList.propTypes = {\n\tzone: PropTypes.instanceOf(DropZone).isRequired,\n\tactiveAttachments: PropTypes.array.isRequired,\n\tonAttachmentClick: PropTypes.func.isRequired,\n\tlib: PropTypes.object.isRequired\n};\n\nexport default DropZoneAttachmentList;\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/components/views/DropZoneAttachmentList.jsx","import React, { Component, PropTypes } from 'react';\n\nimport { collectRef } from '../../lib/utils';\nimport DropZone from '../../lib/DropZone';\n\nclass DropZoneTarget extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.onEvent = this.onEvent.bind(this);\n\t}\n\n\tonEvent(event) {\n\t\tif (event.type === 'click') {\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\tthis.props.onEvent(event, this.props.zone);\n\t}\n\n\trender() {\n\t\tvar key = this.props.zone.id + '-target',\n\t\t\tclassNames = [this.props.settings.classes.dropzone_target];\n\n\t\tif (this.props.activeAttachments.length >= this.props.zone.maxAttachments) {\n\t\t\tclassNames.push(this.props.settings.classes.hidden);\n\t\t}\n\n\t\treturn (\n\t\t\t<span className=\"target-outer\">\n\t\t\t\t<span key={key}\n\t\t\t\t\tonClick={this.onEvent}\n\t\t\t\t\tref={collectRef(this.props, ['dropzone_target'], this.props.zone.id)}\n\t\t\t\t\tclassName={classNames.join(' ')}>\n\t\t\t\t\t\t<b>{this.props.settings.dropZone.label}</b>\n\t\t\t\t\t</span>\n\t\t\t</span>\n\t\t);\n\t}\n}\n\nDropZoneTarget.propTypes = {\n\tzone: PropTypes.instanceOf(DropZone).isRequired,\n\tsettings: PropTypes.object.isRequired,\n\tactiveAttachments: PropTypes.array.isRequired,\n\tonEvent: PropTypes.func.isRequired,\n\trefCollector: PropTypes.func\n};\n\nexport default DropZoneTarget;\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/components/views/DropZoneTarget.jsx","import React, { Component, PropTypes } from 'react';\n\nimport { collectRef } from '../../lib/utils';\nimport Droplet from '../../lib/Droplet';\nimport Template from '../../lib/Template';\nimport { GLYPHS, Icon } from './Icon.jsx';\n\nconst dropletTypeToGlyphs = {\n\t'text': GLYPHS.TEXT,\n\t'element': GLYPHS.TAG,\n\t'attribute': GLYPHS.PUZZLE_PIECE\n};\n\nclass DropletComponent extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.tooltip_cache = '';\n\t\tthis.ui = {\n\t\t\tdroplet: null\n\t\t};\n\n\t\tthis.onEvent = this.onEvent.bind(this);\n\t}\n\n\trefCollector(ref) {\n\t\tvar collector = collectRef(this.props, ['droplet'], this.props.droplet.id);\n\t\tthis.ui.droplet = ref;\n\t\tcollector(ref);\n\t}\n\n\tcomponentDidMount() {\n\t\tif (typeof this.props.onMount === 'function') {\n\t\t\tthis.props.onMount('droplet', this.props.droplet.id);\n\t\t}\n\t}\n\n\tonEvent(event) {\n\t\tif (event.type === 'click') {\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\tif (event.type === 'mouseenter' || event.type === 'touchstart') {\n\t\t\tif (this.tooltip_cache === '') {\n\t\t\t\tthis.tooltip_cache +=\n\t\t\t\t\t'<code>' +\n\t\t\t\t\tTemplate.entities(\n\t\t\t\t\t\tTemplate.renderDroplet(\n\t\t\t\t\t\t\tthis.props.droplet,\n\t\t\t\t\t\t\tthis.props.droplet.data,\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t)\n\t\t\t\t\t) +\n\t\t\t\t\t'</code>';\n\n\t\t\t\tif (this.props.droplet.guidance) {\n\t\t\t\t\tthis.tooltip_cache += this.props.droplet.guidance;\n\t\t\t\t}\n\n\t\t\t\tthis.tooltip_cache += '<p>' +\n\t\t\t\t\t('ontouchstart' in window ? 'Tap' : 'Click') +\n\t\t\t\t\t' on the Droplet to place it in the template.</p>';\n\t\t\t}\n\t\t}\n\n\t\tthis.props.onEvent(event, this.props.droplet, {\n\t\t\tref: this.ui.droplet,\n\t\t\ttitle: this.props.droplet.name,\n\t\t\tcontent: this.tooltip_cache,\n\t\t\ticonGlyph: GLYPHS.LIGHTBULB\n\t\t});\n\t}\n\n\tshowDescription(show=true) {\n\t\tconsole.log('showDescription', this.props.droplet.id, show);\n\t}\n\n\trender() {\n\t\tvar classes = [\n\t\t\tthis.props.settings.classes.droplet.node,\n\t\t\t'type-' + this.props.droplet.dropletType\n\t\t];\n\n\t\tif (this.props.active) {\n\t\t\tclasses.push(this.props.settings.classes.droplet.active);\n\t\t}\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\tid={this.props.droplet.id}\n\t\t\t\tclassName={classes.join(' ')}\n\t\t\t\tonClick={this.onEvent}\n\t\t\t\tonMouseEnter={this.onEvent}\n\t\t\t\tonMouseLeave={this.onEvent}\n\t\t\t\tonTouchStart={this.onEvent}\n\t\t\t\tonTouchEnd={this.onEvent}\n\t\t\t\tref={this.refCollector.bind(this)}>\n\t\t\t\t<span className=\"label\">\n\t\t\t\t\t<Icon glyph={dropletTypeToGlyphs[this.props.droplet.dropletType]}/>\n\t\t\t\t\t{this.props.droplet.name}\n\t\t\t\t</span>\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nDropletComponent.propTypes = {\n\tactive: PropTypes.bool,\n\tsettings: PropTypes.object.isRequired,\n\tlib: PropTypes.object.isRequired,\n\trefCollector: PropTypes.func.isRequired,\n\tdroplet: PropTypes.instanceOf(Droplet).isRequired,\n\tonMount: PropTypes.func,\n\tonEvent: PropTypes.func\n};\n\nexport default DropletComponent;\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/components/views/Droplet.jsx","import React, { Component, PropTypes } from 'react';\n\nimport FormField from '../../lib/FormField';\nimport TextField from './fields/TextField.jsx';\nimport DropDown from './fields/DropDown.jsx';\n\nconst FieldComponents = {\n\t'text': TextField,\n\t'dropdown': DropDown\n};\n\nclass Fieldset extends Component {\n\tconstructor(props) {\n\t\tvar formValues = {};\n\n\t\tsuper(props);\n\n\t\t// set default state for fields based on original values\n\t\tthis.props.fields.forEach((field) =>\n\t\t\t(formValues[field.name] = field.value || '')\n\t\t);\n\n\t\t// set default form value state\n\t\tthis.state = {\n\t\t\tformValues\n\t\t};\n\n\t\t// bind functions for events\n\t\tthis.elementChange = this.elementChange.bind(this);\n\t}\n\n\tcollectRef(key) {\n\t\treturn function(ref) {\n\t\t\tif (typeof this.props.refCollector === 'function') {\n\t\t\t\tthis.props.refCollector(key, ref);\n\t\t\t}\n\t\t}.bind(this);\n\t}\n\n\tfields() {\n\t\tvar Component,\n\t\t\toutput = [];\n\n\t\tthis.props.fields.forEach((field) => {\n\t\t\tvar key = 'field-' + field.name;\n\n\t\t\tComponent = FieldComponents[field.type];\n\n\t\t\tswitch (field.type) {\n\t\t\tcase 'text':\n\t\t\t\toutput.push(\n\t\t\t\t\t<Component key={key}\n\t\t\t\t\t\trefCollector={this.collectRef(key)}\n\t\t\t\t\t\tfield={field}\n\t\t\t\t\t\tonChange={this.elementChange}\n\t\t\t\t\t\tvalue={this.state.formValues[field.name]}/>\n\t\t\t\t);\n\t\t\t\tbreak;\n\n\t\t\tcase 'dropdown':\n\t\t\t\toutput.push(\n\t\t\t\t\t<Component key={key}\n\t\t\t\t\t\trefCollector={this.collectRef(key)}\n\t\t\t\t\t\tfield={field}\n\t\t\t\t\t\tonChange={this.elementChange}\n\t\t\t\t\t\tvalue={this.state.formValues[field.name]}/>\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\n\t\treturn output;\n\t}\n\n\telementChange(event) {\n\t\tvar target = event.target,\n\t\t\tformValues = Object.deepAssign({}, this.state.formValues);\n\n\t\tformValues[target.name] = target.value;\n\n\t\tthis.setState({\n\t\t\tformValues: formValues\n\t\t});\n\n\t\tthis.props.onFieldUpdate(this.props.set, target.name, target.value, formValues);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<fieldset>\n\t\t\t\t<legend>{this.props.legend}</legend>\n\t\t\t\t{this.fields()}\n\t\t\t</fieldset>\n\t\t);\n\t}\n}\n\nFieldset.propTypes = {\n\trefCollector: PropTypes.func,\n\tset: PropTypes.string.isRequired,\n\tonFieldUpdate: PropTypes.func.isRequired,\n\tlegend: PropTypes.string,\n\tfields: PropTypes.arrayOf(React.PropTypes.instanceOf(FormField))\n};\n\nFieldset.defaultProps = {\n\tonFieldUpdate: () => {},\n\tfields: {}\n};\n\nexport default Fieldset;\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/components/views/Fieldset.jsx","import React, { Component, PropTypes } from 'react';\n\nimport Toolbar from './Toolbar.jsx';\n\nclass Header extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<header>\n\t\t\t\t{this.props.children}\n\n\t\t\t\t<Toolbar\n\t\t\t\t\tbuttons={this.props.settings.toolbar}\n\t\t\t\t\ttour_stage={this.props.tour_stage}\n\t\t\t\t\tdialog_mode={this.props.dialog_mode}\n\t\t\t\t\tsettings={this.props.settings}\n\t\t\t\t\tonButtonClick={this.props.onButtonClick}\n\t\t\t\t\tlib={this.props.lib}/>\n\t\t\t</header>\n\t\t);\n\t}\n}\n\nHeader.propTypes = {\n\t// from HeaderContainer\n\ttour_stage: PropTypes.any,\n\tdialog_mode: PropTypes.string,\n\n\t// from Canvas\n\tchildren: PropTypes.node,\n\tsettings: PropTypes.object.isRequired,\n\tonButtonClick: PropTypes.func,\n\tlib: PropTypes.object.isRequired\n};\n\nexport default Header;\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/components/views/Header.jsx","import React, { Component, PropTypes } from 'react';\nimport Droplet from './Droplet.jsx';\n\nclass Pallet extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\tgetItems() {\n\t\tvar items = [];\n\n\t\tif (this.props.data.pallet) {\n\t\t\tthis.props.data.pallet.forEach((droplet) => {\n\t\t\t\titems.push(\n\t\t\t\t\t<Droplet droplet={droplet}\n\t\t\t\t\t\tactive={this.props.activeDropletId === droplet.id}\n\t\t\t\t\t\tsettings={this.props.settings}\n\t\t\t\t\t\tlib={this.props.lib}\n\t\t\t\t\t\tonMount={this.props.onMount}\n\t\t\t\t\t\tonEvent={this.props.onDropletEvent}\n\t\t\t\t\t\trefCollector={this.props.refCollector}\n\t\t\t\t\t\tkey={droplet.id}/>\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\n\t\treturn items;\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<section className=\"pallet\">\n\t\t\t\t<form>\n\t\t\t\t\t{this.getItems.apply(this)}\n\t\t\t\t</form>\n\t\t\t</section>\n\t\t);\n\t}\n}\n\nPallet.propTypes = {\n\t// from PalletContainer\n\tactiveDropletId: PropTypes.string.isRequired,\n\n\t// from Canvas\n\tdata: PropTypes.object.isRequired,\n\tsettings: PropTypes.object.isRequired,\n\tlib: PropTypes.object.isRequired,\n\tonMount: PropTypes.func,\n\tonDropletEvent: PropTypes.func.isRequired,\n\trefCollector: PropTypes.func\n};\n\nPallet.defaultProps = {\n\tdata: {\n\t\tpallet: []\n\t}\n};\n\nexport default Pallet;\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/components/views/Pallet.jsx","import React, { Component, PropTypes } from 'react';\n\nimport { collectRef } from '../../lib/utils';\nimport DropZone from './DropZone.jsx';\n\nclass Template extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\tcomponentDidMount() {\n\t\tif (typeof this.props.onMount === 'function') {\n\t\t\tthis.props.onMount('template');\n\t\t}\n\t}\n\n\t/**\n\t * Uses state (from props.zones) to ascertain the attachments\n\t */\n\tgetZoneAttachments(dropzone_id) {\n\t\tif (this.props.zones && this.props.zones[dropzone_id]) {\n\t\t\treturn this.props.zones[dropzone_id].attachments;\n\t\t} else {\n\t\t\treturn [];\n\t\t}\n\t}\n\n\t/**\n\t * @description\n\t * Computes the correct potential className for the drop zone based on:\n\t * - The active Droplet ID\n\t * - Whether or not this drop zone will accept the droplet\n\t */\n\tgetDropZoneClassNames(dropzone) {\n\t\tvar classes = [],\n\t\t\tdroplet;\n\n\t\tif (this.props.activeDropletID !== '' &&\n\t\t\t(droplet = this.props.lib.getDropletById(this.props.activeDropletID))) {\n\t\t\tclasses.push(this.props.settings.classes.dropzone.possible_target);\n\t\t\tclasses.push(\n\t\t\t\tthis.props.settings.classes.dropzone[\n\t\t\t\t\t(\n\t\t\t\t\t\tthis.props.lib.isValidDrop(droplet, dropzone) ?\n\t\t\t\t\t\t'will_accept' : 'will_decline'\n\t\t\t\t\t)\n\t\t\t\t]\n\t\t\t);\n\n\t\t\treturn classes;\n\t\t} else {\n\t\t\treturn [];\n\t\t}\n\t}\n\n\tgetTemplate() {\n\t\tvar children = [];\n\n\t\tthis.props.template.forEach((node, index) => {\n\t\t\tvar key;\n\n\t\t\tswitch (node.type) {\n\t\t\tcase 'text':\n\t\t\t\tkey = 'fragment-' + index;\n\n\t\t\t\tchildren.push(\n\t\t\t\t\t<span\n\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\tclassName={this.props.settings.classes.component}>{node.content}</span>\n\t\t\t\t);\n\t\t\t\tbreak;\n\n\t\t\tcase 'dropzone':\n\t\t\t\tchildren.push(\n\t\t\t\t\t<DropZone\n\t\t\t\t\t\tkey={node.zone.id}\n\t\t\t\t\t\tzone={node.zone}\n\t\t\t\t\t\tclassName={this.getDropZoneClassNames(node.zone).join(' ')}\n\t\t\t\t\t\tsettings={this.props.settings}\n\t\t\t\t\t\tactiveAttachments={this.getZoneAttachments(node.zone.id)}\n\t\t\t\t\t\trefCollector={this.props.refCollector}\n\t\t\t\t\t\tonMount={this.props.onMount}\n\t\t\t\t\t\tonEvent={this.props.onDropZoneEvent}\n\t\t\t\t\t\tonAttachmentClick={this.props.onAttachmentClick}\n\t\t\t\t\t\tlib={this.props.lib}/>\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\n\t\treturn children;\n\t}\n\n\tgetInstruction() {\n\t\tif (this.props.activeDropletID != '') {\n\t\t\treturn (\n\t\t\t\t<p className=\"instruction\">Choose a target for the droplet...</p>\n\t\t\t);\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<section className={this.props.settings.classes.template.node}\n\t\t\t\tref={collectRef(this.props, 'template')}>\n\t\t\t\t{this.getInstruction()}\n\t\t\t\t<div className={this.props.settings.classes.template.inner}>\n\t\t\t\t\t<pre>\n\t\t\t\t\t\t<code className=\"html\"\n\t\t\t\t\t\t\tref={collectRef(this.props, 'template_inner')}>\n\t\t\t\t\t\t\t{this.getTemplate()}\n\t\t\t\t\t\t</code>\n\t\t\t\t\t</pre>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t);\n\t}\n}\n\nTemplate.propTypes = {\n\t// from TemplateContainer\n\tzones: PropTypes.object.isRequired,\n\tactiveDropletID: PropTypes.string,\n\n\t// from Canvas\n\tsettings: PropTypes.object.isRequired,\n\ttemplate: PropTypes.array.isRequired,\n\tonMount: PropTypes.func.isRequired,\n\tonAttachmentClick: PropTypes.func.isRequired,\n\tonDropZoneEvent: PropTypes.func.isRequired,\n\trefCollector: PropTypes.func.isRequired,\n\tlib: PropTypes.object.isRequired\n};\n\nTemplate.defaultProps = {\n\ttemplate: ''\n};\n\nexport default Template;\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/components/views/Template.jsx","/**\n * @typedef ToolbarStateSegment\n * @description\n * A small segment of the App's internal state which includes values relevant to toolbar\n * button production.\n * @property {object} UI\n * @property {object} UI.dialog\n * @property {module:assets/constants.dialogModes} UI.dialog.mode - The current mode of the active dialog.\n * @property {number|null} tour_stage - The current tour stage index. (Or `null`).\n */\n\n/**\n * A toolbar label function will be invoked with the following arguments:\n * @typedef {function} ToolbarItemLabel\n * @param {ToolbarStateSegment} state - A segment of the current application state.\n */\n\n/**\n * @typedef ToolbarItem\n * @property {ToolbarItemLabel|string} label - The toolbar label. Either a function or a literal string.\n * @property {module:components/views/Icon.GLYPHS} glyph - The icon glyph to use.\n * @property {string} method - The App method to invoke when the buttons is pressed.\n * @property {string} className - Extra class name(s) to apply to the button.\n * @property {boolean} separator=false - Produce a separator to the left of the button.\n */\nimport React, { Component, PropTypes } from 'react';\n\nimport { Icon } from './Icon.jsx';\n\nclass Toolbar extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.buttonRefs = {};\n\t}\n\n\tregisterButtonClick(button, key) {\n\t\treturn function(event) {\n\t\t\tvar args = button.arguments || [];\n\n\t\t\tevent.preventDefault();\n\n\t\t\tif (this.buttonRefs && this.buttonRefs[key]) {\n\t\t\t\tthis.buttonRefs[key].blur();\n\t\t\t\tthis.props.onButtonClick(this.buttonRefs[key], event);\n\t\t\t}\n\n\t\t\tif (typeof button.method === 'string' &&\n\t\t\t\tthis.props.lib.tools[button.method]) {\n\t\t\t\t// method is a defined App method (as a string)\n\t\t\t\tthis.props.lib.tools[button.method].apply(null, args);\n\t\t\t} else {\n\t\t\t\t// method is a custom function. call with app context (unless bound elsewhere)\n\t\t\t\tbutton.method.apply(null, args);\n\t\t\t}\n\t\t}.bind(this);\n\t}\n\n\tregisterButtonRef(key) {\n\t\treturn function(ref) {\n\t\t\tif (ref !== null) {\n\t\t\t\tthis.buttonRefs[key] = ref;\n\t\t\t}\n\t\t}.bind(this);\n\t}\n\n\tgetToolbarButtons() {\n\t\tvar buttons = [];\n\n\t\tif (this.props.buttons && this.props.buttons.length) {\n\t\t\tthis.props.buttons.forEach((button, index) => {\n\t\t\t\tvar key = 'button-' + index,\n\t\t\t\t\tclasses = [],\n\t\t\t\t\ticon, label;\n\n\t\t\t\tif (button.icon) {\n\t\t\t\t\ticon = (\n\t\t\t\t\t\t<Icon glyph={button.icon}\n\t\t\t\t\t\t\twidth={14}\n\t\t\t\t\t\t\theight={14}/>\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif (button.className) {\n\t\t\t\t\tclasses.push(button.className);\n\t\t\t\t}\n\n\t\t\t\tif (button.separator) {\n\t\t\t\t\tclasses.push(this.props.settings.classes.toolbar.separator);\n\t\t\t\t}\n\n\t\t\t\tif (typeof button.label === 'function') {\n\t\t\t\t\tlabel = button.label({\n\t\t\t\t\t\tUI: {\n\t\t\t\t\t\t\tdialog: {\n\t\t\t\t\t\t\t\tmode: this.props.dialog_mode\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ttour_stage: this.props.tour_stage,\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tlabel = button.label;\n\t\t\t\t}\n\n\t\t\t\tbuttons.push(\n\t\t\t\t\t<li key={key}\n\t\t\t\t\t\tclassName={classes.join(' ')}>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName={this.props.settings.classes.button}\n\t\t\t\t\t\t\tref={this.registerButtonRef(key)}\n\t\t\t\t\t\t\tonClick={this.registerButtonClick(button, key)}>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{icon}\n\t\t\t\t\t\t\t\t{label}\n\t\t\t\t\t\t\t\t<span className=\"circle\"></span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t});\n\n\t\t\treturn buttons;\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<menu className=\"toolbar\">\n\t\t\t\t<form>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t{this.getToolbarButtons()}\n\t\t\t\t\t</ul>\n\t\t\t\t</form>\n\t\t\t</menu>\n\t\t);\n\t}\n}\n\nToolbar.propTypes = {\n\tbuttons: PropTypes.arrayOf(PropTypes.object),\n\ttour_stage: PropTypes.any,\n\tdialog_mode: PropTypes.string,\n\tsettings: PropTypes.object.isRequired,\n\tonButtonClick: PropTypes.func,\n\tlib: PropTypes.object.isRequired\n};\n\nexport default Toolbar;\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/components/views/Toolbar.jsx","import React, { Component, PropTypes } from 'react';\n\nimport { Icon } from '../views/Icon.jsx';\nimport { rawMarkup } from '../../lib/utils';\n\nclass Tooltip extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.popper = null;\n\t\tthis.ui = {\n\t\t\ttooltip: null\n\t\t};\n\t}\n\n\trefCollector(ref) {\n\t\tthis.ui.tooltip = ref;\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.updateAttachment();\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.updateAttachment();\n\t}\n\n\tupdateAttachment() {\n\t\tvar options;\n\n\t\tif (this.props.state.show) {\n\t\t\t// merge default options with those assigned via the state change\n\t\t\toptions = Object.deepAssign({}, {\n\t\t\t\tplacement: 'top',\n\t\t\t\tmodifiers: {\n\t\t\t\t\tflip: ['top', 'bottom'],\n\t\t\t\t\tarrow: {\n\t\t\t\t\t\telement: '.arrow'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, this.props.state.options);\n\n\t\t\tthis.popper = this.props.attacher(this.props.state.attachment, this.ui.tooltip, options);\n\t\t} else {\n\t\t\tif (this.popper) {\n\t\t\t\tthis.popper.destroy();\n\t\t\t\tthis.popper = null;\n\t\t\t}\n\t\t}\n\t}\n\n\trender() {\n\t\tvar classes, icon;\n\n\t\tclasses = [\n\t\t\tthis.props.settings.classes.popup,\n\t\t\tthis.props.settings.classes.tooltip\n\t\t];\n\n\t\tif (!this.props.state.show) {\n\t\t\tclasses.push(this.props.settings.classes.hidden);\n\t\t} else {\n\t\t\tif (this.props.state.iconGlyph) {\n\t\t\t\ticon = <Icon glyph={this.props.state.iconGlyph}/>;\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tref={this.refCollector.bind(this)}\n\t\t\t\tclassName={classes.join(' ')}>\n\t\t\t\t<div className=\"content\">\n\t\t\t\t\t<h2>\n\t\t\t\t\t\t{icon}\n\t\t\t\t\t\t<span>{this.props.state.title}</span>\n\t\t\t\t\t</h2>\n\t\t\t\t\t<div dangerouslySetInnerHTML={rawMarkup(this.props.state.content)}/>\n\t\t\t\t</div>\n\t\t\t\t<span className=\"arrow\"/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nTooltip.propTypes = {\n\tsettings: PropTypes.object.isRequired,\n\tattacher: PropTypes.func.isRequired,\n\tstate: PropTypes.object.isRequired\n};\n\nexport default Tooltip;\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/components/views/Tooltip.jsx","import React, { Component, PropTypes } from 'react';\nimport { collectRef } from '../../lib/utils';\n\nclass View extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\tcomponentDidMount() {\n\t\tif (typeof this.props.onMount === 'function') {\n\t\t\tthis.props.onMount('view_frame');\n\t\t}\n\t}\n\n\tshouldComponentUpdate() {\n\t\t// no. reloads/updates are handled by the view class\n\t\treturn false;\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<section className=\"view\"\n\t\t\t\tref={collectRef(this.props, 'view')}>\n\t\t\t\t<div className=\"drag-mask\"></div>\n\t\t\t\t<iframe ref={collectRef(this.props, 'view_frame')}\n\t\t\t\t\tsrc={this.props.settings.view.src}></iframe>\n\t\t\t</section>\n\t\t);\n\t}\n}\n\nView.propTypes = {\n\tsettings: PropTypes.object,\n\tonMount: PropTypes.func,\n\trefCollector: PropTypes.func,\n};\n\nexport default View;\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/components/views/View.jsx","import React from 'react';\n\nimport { field } from '../../../assets/common-prop-types';\nimport { optionValueSet } from '../../component-utils.jsx';\n\nfunction DropDown(props) {\n\tvar label = props.field.label || props.field.name;\n\n\treturn (\n\t\t<div className=\"field\">\n\t\t\t<label>{label}</label>\n\t\t\t<select\n\t\t\t\ttype=\"text\"\n\t\t\t\tname={props.field.name}\n\t\t\t\tonChange={props.onChange}\n\t\t\t\tvalue={props.value}\n\t\t\t\tref={props.refCollector}>\n\t\t\t\t{optionValueSet(props.field.options)}\n\t\t\t</select>\n\t\t</div>\n\t);\n}\n\nDropDown.propTypes = field;\n\nexport default DropDown;\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/components/views/fields/DropDown.jsx","import React from 'react';\n\nimport { field } from '../../../assets/common-prop-types';\n\nfunction TextField(props) {\n\tvar label = props.field.label || props.field.name;\n\n\treturn (\n\t\t<div className=\"field\">\n\t\t\t<label>{label}</label>\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tname={props.field.name}\n\t\t\t\tplaceholder={props.field.placeholder}\n\t\t\t\tonChange={props.onChange}\n\t\t\t\tmaxLength={props.field.data.maxlength}\n\t\t\t\tvalue={props.value}\n\t\t\t\tref={props.refCollector}/>\n\t\t</div>\n\t);\n}\n\nTextField.propTypes = field;\n\nexport default TextField;\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/components/views/fields/TextField.jsx","import interact from 'interact.js';\n\nwindow.interact = interact;\n\n/**\n * Handles draggable/droppable items.\n * @class\n */\nvar DragDrop = function(canvas, settings, callbacks = {}) {\n\tthis._canvas = canvas;\n\tthis.settings = settings;\n\tthis._callbacks = callbacks;\n\n\tthis.ui = {\n\t\tdrag: [],\n\t\tdrop: []\n\t};\n};\n\nDragDrop.prototype = {\n\taddDragable: function(element, settings = {}, data = {}) {\n\t\tvar dragable = new Dragable(element);\n\n\t\t// duplicate settings\n\t\tsettings = Object.assign({}, settings);\n\n\t\t// make the element draggable\n\t\tdragable.setDragable(settings)\n\t\t\t.on('dragstart', () => {\n\t\t\t\tthis._canvas.classList.add(this.settings.classes.is_dragging);\n\t\t\t\telement.classList.add(this.settings.classes.item_dragging);\n\t\t\t})\n\t\t\t.on('dragend', () => {\n\t\t\t\tthis._canvas.classList.remove(this.settings.classes.is_dragging);\n\t\t\t\telement.classList.remove(this.settings.classes.item_dragging);\n\n\t\t\t\tif (typeof this._callbacks.dragEnd === 'function') {\n\t\t\t\t\tthis._callbacks.dragEnd(element, data);\n\t\t\t\t}\n\t\t\t});\n\n\t\tthis.ui.drag.push(this._createInstance(element, dragable));\n\t},\n\n\taddDropable: function(element, settings = {}, data = {}) {\n\t\tvar dropable = new Dropable(element);\n\n\t\tdropable.setDropable(settings)\n\t\t\t.on('dropactivate', (event) => {\n\t\t\t\t// add active dropzone feedback\n\t\t\t\tevent.target.classList.add(this.settings.classes.dropzone_is_active);\n\t\t\t})\n\t\t\t.on('dragenter', (event) => {\n\t\t\t\t// feedback the possibility of a drop\n\t\t\t\tevent.target.classList.add(this.settings.classes.dropzone_is_target);\n\t\t\t\t// event.relatedTarget.classList.add('can-drop');\n\t\t\t\t// event.relatedTarget.textContent = 'Dragged in';\n\t\t\t})\n\t\t\t.on('dragleave', (event) => {\n\t\t\t\t// remove the drop feedback style\n\t\t\t\tevent.target.classList.remove(this.settings.classes.dropzone_is_target);\n\t\t\t\t// event.relatedTarget.classList.remove('can-drop');\n\t\t\t\t// event.relatedTarget.textContent = 'Dragged out';\n\t\t\t})\n\t\t\t.on('drop', (event) => {\n\t\t\t\tif (typeof this._callbacks.drop === 'function') {\n\t\t\t\t\tthis._callbacks.drop(event.relatedTarget, event.target, data);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.on('dropdeactivate', (event) => {\n\t\t\t\t// remove active dropzone feedback\n\t\t\t\tevent.target.classList.remove(this.settings.classes.dropzone_is_active);\n\t\t\t\tevent.target.classList.remove(this.settings.classes.dropzone_is_target);\n\t\t\t});\n\n\t\tthis.ui.drop.push(this._createInstance(element, dropable));\n\t},\n\n\tresetDragPosition: function(element) {\n\t\tif ((element = this.getDragInstance(element))) {\n\t\t\telement.instance.resetPosition();\n\t\t}\n\t},\n\n\tgetDragInstance: function(element) {\n\t\treturn this.ui.drag.find((item) => {\n\t\t\treturn item.element === element;\n\t\t});\n\t},\n\n\t_createInstance: function(element, instance) {\n\t\treturn {\n\t\t\telement,\n\t\t\tinstance\n\t\t};\n\t}\n};\n\n/*\n * Generically handles the dragging and dropping of individual DOM nodes.\n * Uses interact.js (http://interactjs.io)\n */\nvar Dragable = function(element) {\n\tthis._element = element;\n\n\tthis._x = 0;\n\tthis._y = 0;\n};\n\nDragable.prototype = {\n\t/**\n\t * Set up a draggable item.\n\t */\n\tsetDragable: function(settings) {\n\t\treturn interact(this._element)\n\t\t\t.draggable(settings)\n\t\t\t.on('dragmove', settings.onDragMove || ((event) => {\n\t\t\t\tthis._x += event.dx;\n\t\t\t\tthis._y += event.dy;\n\n\t\t\t\tthis._element.style.webkitTransform =\n\t\t\t\tthis._element.style.transform =\n\t\t\t\t\t'translate(' + this._x + 'px, ' + this._y + 'px)';\n\t\t\t}));\n\t},\n\n\tresetPosition: function() {\n\t\tthis._x = 0;\n\t\tthis._y = 0;\n\n\t\tthis._element.style.webkitTransform =\n\t\tthis._element.style.transform =\n\t\t\t'translate(0, 0)';\n\t},\n};\n\n\n/*\n * Generically handles drop zones in the DOM.\n * Uses interact.js (http://interactjs.io)\n */\nvar Dropable = function(element) {\n\tthis._element = element;\n};\n\nDropable.prototype = {\n\t/**\n\t * Set up a draggable item.\n\t */\n\tsetDropable: function(settings) {\n\t\treturn interact(this._element)\n\t\t\t.dropzone(settings);\n\t}\n};\n\nexport default DragDrop;\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/lib/DragDrop.js","/**\n * Takes multiple functions and returns a function which invokes them consecutively\n * with the same argument signature: (prop) `value`, `propname`, `droplet_name`, `droplet_type`.\n */\nfunction chain() {\n\tvar args = Array.prototype.slice.call(arguments);\n\n\treturn function(value, propname, droplet_name, droplet_type) {\n\t\tvar test = true;\n\n\t\t// run each function in the chain\n\t\targs.forEach((fn) => {\n\t\t\tif (!fn.apply(this, [value, propname, droplet_name, droplet_type])) {\n\t\t\t\ttest = false;\n\t\t\t}\n\t\t});\n\n\t\treturn test;\n\t};\n}\n\n/**\n * Asserts the `test` value is truthy. In the case that it fails, an Error is thrown.\n * @param {boolean} test - Test expression result\n * @param {string} propname - The name of the property being tested\n * @param {string} message - The message, in case of failure. Will be appended to a general\n * error message.\n * @param {string} [droplet_name] - The name of the Droplet being tested\n * @param {string} [toplet_type] - The dropletType attribute of the Droplet being tested\n */\nfunction assert(test, propname, message, droplet_name, droplet_type) {\n\tvar error, prop_id;\n\n\tif (!test) {\n\t\tif (droplet_name) {\n\t\t\tprop_id = '\"' + droplet_name + '\"' + (droplet_type ? ' (' + droplet_type + ')' : '');\n\t\t}\n\n\t\terror =  'Error in Droplet' +\n\t\t\t(prop_id ? ' ' + prop_id + ' ' : ' ') +\n\t\t\t'prop \"' + propname + '\". ' + message;\n\t\tthrow new Error(error);\n\t} else {\n\t\treturn true;\n\t}\n}\n\nfunction isRequired(value, prop, droplet_name, droplet_type) {\n\treturn assert(\n\t\t(typeof value !== 'undefined'), prop, 'Value is required.', droplet_name, droplet_type\n\t);\n}\n\nfunction stringNotEmpty(value, prop, droplet_name, droplet_type) {\n\treturn assert(\n\t\t(typeof value !== 'undefined' && value !== ''), prop, 'Value cannot be empty.', droplet_name, droplet_type\n\t);\n}\n\nfunction string(value, prop, droplet_name, droplet_type) {\n\treturn assert(\n\t\t(typeof value === 'undefined' || typeof value === 'string'),\n\t\tprop,\n\t\t'Value must be a string.',\n\t\tdroplet_name,\n\t\tdroplet_type\n\t);\n}\n\nstring.isRequired = chain(string, isRequired);\nstring.notEmpty = chain(string, stringNotEmpty);\nstring.notEmpty.isRequired = chain(string, stringNotEmpty, isRequired);\n\nfunction object(value, prop, droplet_name, droplet_type) {\n\treturn assert(\n\t\t(typeof value === 'undefined' || typeof value === 'object'),\n\t\tprop,\n\t\t'Value must be an object.',\n\t\tdroplet_name,\n\t\tdroplet_type\n\t);\n}\n\nobject.isRequired = chain(object, isRequired);\n\nfunction array(value, prop, droplet_name, droplet_type) {\n\treturn assert(\n\t\tArray.isArray(value), prop, 'Value must be an array.', droplet_name, droplet_type\n\t);\n}\n\narray.isRequired = chain(array, isRequired);\n\nfunction arrayOf() {}\n\narrayOf.string = chain(\n\t// test for an array\n\tarray,\n\t// test array values are all strings\n\t(value, prop, droplet_name, droplet_type) => {\n\t\tvar test = true,\n\t\t\ta;\n\n\t\tfor (a = 0; a < value.length; a += 1) {\n\t\t\ttest = (test ? (typeof value[a] === 'string') : test);\n\t\t}\n\n\t\treturn assert(\n\t\t\ttest,\n\t\t\tprop,\n\t\t\t'Value must be an array containing only strings',\n\t\t\tdroplet_name,\n\t\t\tdroplet_type\n\t\t);\n\t}\n);\n\narrayOf.string.isRequired = chain(arrayOf.string, isRequired);\n\nexport default {\n\t_chain: chain,\n\t_assert: assert,\n\tstring,\n\tobject,\n\tarray,\n\tarrayOf,\n\tisRequired,\n\tstringNotEmpty\n};\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/lib/PropTypes.js","import { dialogModes } from '../assets/constants';\nimport actions from '../state/actions';\n\n/**\n * Handle production of tour dialogs.\n * @param {UI} parent - Parent UI class instance.\n * @class\n */\nvar Tour = function(parent) {\n\tthis._parent = parent;\n};\n\nTour.prototype = {\n\t/**\n\t * Produce the tour introduction.\n\t */\n\tintro: function() {\n\t\treturn this._parent._showDialog(dialogModes.GENERAL, this._parent.dialogs.intro)\n\t\t\t.then(this._parent._hideDialog.bind(this._parent));\n\t},\n\n\t/**\n\t * Starts the tour (but will continue if paused).\n\t */\n\tstart: function() {\n\t\treturn this._progressTour();\n\t},\n\n\t/**\n\t * Starts or progreses the tour (by one dialog).\n\t * @private\n\t */\n\t_progressTour: function(index = null) {\n\t\tvar state;\n\n\t\t// get next tour item from state or default\n\t\tif (index === null) {\n\t\t\tstate = (this._parent._store.getState()).UI;\n\t\t\tindex = (state.tour_stage !== null) ? (state.tour_stage + 1) : 0;\n\t\t}\n\n\t\tif ((this._parent.dialogs.tour.length - 1) >= index) {\n\t\t\tthis._setTourStage(index);\n\t\t\treturn this._showTourElement(index)\n\t\t\t\t.then((dialog) => {\n\t\t\t\t\tthis._parent._hideDialog();\n\n\t\t\t\t\t// if action is pause, will pause the tour by doing nothing\n\t\t\t\t\tif (dialog.action === 'cancel') {\n\t\t\t\t\t\t// end the tour\n\t\t\t\t\t\tthis._setTourStage(null);\n\t\t\t\t\t} else if (dialog.action !== 'pause') {\n\t\t\t\t\t\t// progress the tour\n\t\t\t\t\t\tthis._progressTour((index + 1));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t} else {\n\t\t\t// end of tour - set stage to null and hide dialog\n\t\t\tthis._setTourStage(null);\n\t\t\treturn this._parent._hideDialog();\n\t\t}\n\t},\n\n\t/**\n\t * Show a specific indexed element of the tour.\n\t * @private\n\t */\n\t_showTourElement(index) {\n\t\treturn this._parent._showDialog(\n\t\t\tdialogModes.TOUR,\n\t\t\tthis._parent.dialogs.tour[index]\n\t\t);\n\t},\n\n\t/**\n\t * Set the tour stage index (using Redux).\n\t * @private\n\t */\n\t_setTourStage: function(stage) {\n\t\tthis._parent._store.dispatch(\n\t\t\tactions.setTourStage(stage)\n\t\t);\n\t}\n};\n\nexport default Tour;\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/lib/Tour.js","/**\n * @typedef DialogData\n * @property {string} title - The title of the dialog.\n * @property {array|string} message - Either a single string or an array of strings, defining\n * each paragraph of the dialog message. Basic HTML is allowed.\n * @property {FormButton[]|undefined} buttons - An array of FormButton buttons, or leave undefined\n * to use the default \"OK\" button.\n */\nimport React from 'react';\nimport { render } from 'react-dom';\nimport { Provider } from 'react-redux';\nimport Popper from 'popper.js';\n\nimport DragDrop from './DragDrop';\nimport Communicator from './Communicator';\nimport Tour from './Tour';\nimport Template from '../lib/Template';\nimport { GLYPHS } from '../components/views/Icon.jsx';\n\nimport CanvasContainer from '../components/containers/CanvasContainer';\n\nimport actions from '../state/actions';\nimport createDialogs from '../assets/dialogs';\n\nimport { dialogModes, uiStates, messageCommands } from '../assets/constants';\n\n/**\n * Handles User Interface components and acts as the main controller.\n * @class\n */\nvar UI = function(parent, settings, refs, data, store, template) {\n\t/**\n\t * @private\n\t */\n\tthis._parent = parent;\n\n\t/**\n\t * Settings as defined when instantiating. Inherits from {@link App.defaults}\n\t */\n\tthis.settings = settings;\n\n\t/**\n\t * @private\n\t */\n\tthis._refs = refs;\n\n\t/**\n\t * @private\n\t */\n\tthis._data = data;\n\n\t/**\n\t * @private\n\t */\n\tthis._store = store;\n\n\t/**\n\t * @private\n\t */\n\tthis._template = template;\n\n\t/**\n\t * Dialog objects for use with {@link App#dialog}\n\t */\n\tthis.dialogs = createDialogs(settings);\n\n\t// UI class specific data entries\n\tthis._data.UI = {\n\t\tdragdrop: {\n\t\t\t// droplets dragdrop class instance\n\t\t\tdroplets: {}\n\t\t},\n\n\t\t// the current viewport width\n\t\tvp_width: 0,\n\n\t\t// the drag handle position\n\t\tdragHandlePosition: 0,\n\n\t\t// has the drag handle been moved?\n\t\tdragHandleMoved: false\n\t};\n\n\tthis._comms = new Communicator('app', window.location.origin, {\n\t\tmessage: this._handleAppMessage.bind(this)\n\t});\n\n\tthis._tour = new Tour(this);\n\n\t// set up library methods for passing to React components\n\tthis.libraryMethods = {\n\t\tgetDropletById: this.getDropletById.bind(this),\n\t\tsetUIPopperAttachment: this._setUIPopperAttachment.bind(this),\n\t\tzoneDetachAttachment: this.zoneDetachAttachment.bind(this),\n\t\tzoneGetAttachment: this.zoneGetAttachment.bind(this),\n\t\tisValidDrop: this._isValidDrop.bind(this),\n\t\ttools: {\n\t\t\tdialog: this._parent.dialog.bind(this._parent),\n\t\t\thideDialog: this._hideDialog.bind(this),\n\t\t\tstartTour: this._tour.start.bind(this._tour),\n\t\t\treset: this._parent.reset.bind(this._parent),\n\t\t\tupdateView: this._updateView.bind(this)\n\t\t}\n\t};\n\n\t// perform bindings for methods commonly used within promises\n\tthis._hideDialog = this._hideDialog.bind(this);\n\tthis._showDialog = this._showDialog.bind(this);\n\n\t// show introduction (or not)\n\tif (this.settings.showIntro) {\n\t\tthis._tour.intro();\n\t}\n\n\t// general queues\n\tthis.queues = {\n\t\tdragdropBindings: []\n\t};\n\n\twindow.addEventListener('resize', this._handleWindowResize.bind(this));\n};\n\nUI.prototype = {\n\t/**\n\t * Sends render() call to the React canvas.\n\t * @private\n\t */\n\trender: function() {\n\t\tthis._canvas = render(\n\t\t\t<Provider store={this._store}>\n\t\t\t\t<CanvasContainer\n\t\t\t\t\tdata={this._data}\n\t\t\t\t\tsettings={this.settings}\n\t\t\t\t\trefCollector={this._refCollector.bind(this)}\n\t\t\t\t\tonMount={this._mountEvent.bind(this)}\n\t\t\t\t\tonAttachmentClick={this._handleAttachmentClick.bind(this)}\n\t\t\t\t\tonDropletEvent={this._handleDropletEvent.bind(this)}\n\t\t\t\t\tonDropZoneEvent={this._handleDropZoneEvent.bind(this)}\n\t\t\t\t\tonDragHandleEvent={this._handleDragHandleEvent.bind(this)}\n\t\t\t\t\tonButtonClick={this._handleButtonClick.bind(this)}\n\t\t\t\t\tlib={this.libraryMethods}/>\n\t\t\t</Provider>,\n\t\t\tthis._refs.ui.app\n\t\t);\n\t},\n\n\t/**\n\t * Handles messages sent via the Communicator class (mainly from the View class).\n\t * @param {object} message - Data, as sent by the originator\n\t * @param {string} id - Message ID.\n\t * @private\n\t */\n\t_handleAppMessage: function(message, id) {\n\t\tswitch (message.cmd) {\n\t\tcase 'dialog':\n\t\t\t// a dialog is being requested\n\t\t\tthis._showCommunicatorDialog(\n\t\t\t\tmessage.data.title,\n\t\t\t\tmessage.data.message,\n\t\t\t\tmessage.data.buttons,\n\t\t\t\tid\n\t\t\t);\n\t\t\tbreak;\n\t\t}\n\t},\n\n\t/**\n\t * @param {string} mode - One of the dialogModes modes.\n\t * @param {DialogData} data - Relevant data to store for the dialog to use.\n\t * @returns {DialogPromise} a Promise which will resolve with the dialog results.\n\t * @description\n\t *\tDisplays a dialog element. In this case that no callbacks (`onDialogComplete` or\n\t * `onDialogCancel` are defined, a Promise is returned, the resolve/reject methods\n\t * of which denote completion or cancellation of the dialog.\n\t * @private\n\t */\n\t_showDialog: function(mode, data) {\n\t\treturn new Promise((resolve) => {\n\t\t\tthis._store.dispatch(actions.setDialogMode(\n\t\t\t\tmode,\n\t\t\t\tdata,\n\t\t\t\t(data, action, action_data) => {\n\t\t\t\t\tresolve({ data, action, action_data });\n\t\t\t\t},\n\t\t\t\t() => {\n\t\t\t\t\tresolve({ action: 'cancel' });\n\t\t\t\t}\n\t\t\t));\n\t\t});\n\t},\n\n\t/**\n\t * @description\n\t * Hides the dialog (after a short timeout) - uses state comparison to ensure\n\t * the dialog being hidden isn't a new one.\n\t * @private\n\t */\n\t_hideDialog: function() {\n\t\tvar state = (this._store.getState()).UI.dialog;\n\n\t\twindow.setTimeout(function() {\n\t\t\tvar inner_state = (this._store.getState()).UI.dialog;\n\n\t\t\tif (state.id === inner_state.id) {\n\t\t\t\t// still the same dialog - close it\n\t\t\t\tthis._store.dispatch(actions.setDialogMode(dialogModes.NONE));\n\t\t\t}\n\t\t}.bind(this), 300);\n\t},\n\n\t_showCommunicatorDialog(title, message, buttons, comms_id) {\n\t\tthis._showDialog(\n\t\t\tdialogModes.GENERAL,\n\t\t\t{\n\t\t\t\ttitle,\n\t\t\t\tmessage,\n\t\t\t\tbuttons\n\t\t\t}\n\t\t)\n\t\t\t.then((dialog) => {\n\t\t\t\tthis._hideDialog();\n\n\t\t\t\tif (dialog) {\n\t\t\t\t\t// submit/custom callback\n\t\t\t\t\tthis._comms.send('view', {\n\t\t\t\t\t\tcmd: messageCommands.DIALOG_CALLBACK,\n\t\t\t\t\t\tdata: dialog.data,\n\t\t\t\t\t\taction: dialog.action,\n\t\t\t\t\t\taction_data: dialog.action_data\n\t\t\t\t\t}, comms_id);\n\t\t\t\t} else {\n\t\t\t\t\t// cancel callback\n\t\t\t\t\tthis._comms.send('view', {\n\t\t\t\t\t\tcmd: messageCommands.DIALOG_CALLBACK\n\t\t\t\t\t}, comms_id);\n\t\t\t\t}\n\t\t\t});\n\t},\n\n\t/**\n\t * @param {string} collection - The element's collection name.\n\t * @param {HTMLElement} element - The element being collected.\n\t * @param {string} key - The collection's key name.\n\t * Element reference collector. Collects DOM elements from React components.\n\t * Bind an element reference using the ref attribute and collectRef from utils.js\n\t * @private\n\t */\n\t_refCollector: function(collection, element, key) {\n\t\tif (element !== null) {\n\t\t\tif (typeof key === 'string') {\n\t\t\t\tif (typeof this._refs.components[collection] === 'undefined') {\n\t\t\t\t\tthis._refs.components[collection] = {};\n\t\t\t\t}\n\n\t\t\t\tthis._refs.components[collection][key] = element;\n\t\t\t} else {\n\t\t\t\tthis._refs.components[collection] = element;\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * @param {string} collection - The element's collection name.\n\t * @param {string} key - The collection's key name.\n\t * @description\n\t * Captures mount events from React components by collection/key identifiers.\n\t * Identifiers are the same as the ones stored with App#_refCollector\n\t * @private\n\t */\n\t_mountEvent: function(collection, key) {\n\t\tif (this._getReferencedElement(collection, key)) {\n\t\t\t// valid component mounted\n\t\t\tswitch (collection) {\n\t\t\tcase 'canvas':\n\t\t\t\t// add drag binding for the drag handle\n\t\t\t\tthis._queueDragDropBinding('drag', 'drag_handle', null, {\n\t\t\t\t\tonDragMove: this._handleDragHandleEvent.bind(this)\n\t\t\t\t});\n\n\t\t\t\t// process all drag/drop bindings\n\t\t\t\tthis._setDragDropBindings();\n\t\t\t\tthis._refs.mounted.canvas = true;\n\t\t\t\tbreak;\n\n\t\t\tcase 'template':\n\t\t\t\t// this._queueDragDropBinding('drop', collection, key);\n\t\t\t\tthis._refs.mounted.template = true;\n\t\t\t\tbreak;\n\n\t\t\tcase 'droplet':\n\t\t\t\t// this._queueDragDropBinding('drag', collection, key);\n\t\t\t\tbreak;\n\n\t\t\tcase 'dropzone':\n\t\t\t\t// this._queueDragDropBinding('drop', 'dropzone_target', key);\n\t\t\t\tbreak;\n\n\t\t\tcase 'view_frame':\n\t\t\t\tthis._comms.registerGuestAddress(\n\t\t\t\t\t'view',\n\t\t\t\t\tthis._refs.components[collection].contentWindow\n\t\t\t\t);\n\n\t\t\t\tthis._refs.mounted.view_frame = true;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tthis._refs.mounted.canvas &&\n\t\t\t\tthis._refs.mounted.template &&\n\t\t\t\tthis._refs.mounted.view_frame\n\t\t\t\t) {\n\t\t\t\t// all required refs mounted - set active\n\t\t\t\tthis._store.dispatch(actions.setUIState(uiStates.ACTIVE));\n\n\t\t\t\t// run initial size calculations\n\t\t\t\tthis._handleWindowResize();\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new Error(\n\t\t\t\t'Component mount event called but ref was not collected. ' +\n\t\t\t\t'component: ' + collection + (key ? '/' + key : '')\n\t\t\t);\n\t\t}\n\t},\n\n\t/**\n\t * @param {string} type - Either 'drag' or 'drop'.\n\t * @param {string} collection - The ref collection.\n\t * @param {string} key - The ref key, within the collection.\n\t * @param {ojbect} settings - The settings for the interaction.\n\t * @description\n\t * Queues a drag/drop DOM binding till the mount event for the Canvas component.\n\t * This is done because the canvas is relied upon as the container for dragging.\n\t * @private\n\t */\n\t_queueDragDropBinding: function(type, collection, key, settings) {\n\t\tif (this._refs.components.canvas) {\n\t\t\t// canvas already exists - immediately bind\n\t\t\tthis._setDragDropBindings([{ type, collection, key, settings }]);\n\t\t} else {\n\t\t\t// push to queue\n\t\t\tthis.queues.dragdropBindings.push({ type, collection, key, settings });\n\t\t}\n\t},\n\n\t/**\n\t * Processes queued up drag/drop bindings created by UI#_queueDragDropBindings.\n\t * @param {array} [queue] - The bindings queue.\n\t * @private\n\t */\n\t_setDragDropBindings: function(queue = this.queues.dragdropBindings) {\n\t\t// bind dragDrop handlers to the elements in the queue\n\t\tthis._data.UI.dragdrop.droplets = new DragDrop(\n\t\t\tthis._refs.components.canvas,\n\t\t\tthis.settings, {\n\t\t\t\tdrop: this._handleDropletDrop.bind(this),\n\t\t\t\tdragEnd: (element) => {\n\t\t\t\t\tthis._data.UI.dragdrop.droplets.resetDragPosition(element);\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\tqueue.forEach((item) => {\n\t\t\tvar ref = this._getReferencedElement(item.collection, item.key),\n\t\t\t\tdata;\n\n\t\t\tif (item.collection === 'dropzone_target') {\n\t\t\t\tdata = {\n\t\t\t\t\tzone_id: item.key\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// create a DragDrop instance and assign to the pallet item data\n\t\t\tif (item.type === 'drag') {\n\t\t\t\tthis._data.UI.dragdrop.droplets.addDragable(ref, item.settings, data);\n\t\t\t} else if (item.type === 'drop') {\n\t\t\t\tthis._data.UI.dragdrop.droplets.addDropable(ref, Object.deepAssign({}, {\n\t\t\t\t\taccept: this.settings.selectors.droplet\n\t\t\t\t}, item.settings), data);\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n\t * Handles drops of droplets into drop zones. Will attach to the zone\n\t * if the drop is valid.\n\t * @param {HTMLElement} element - The element being dragged.\n\t * @param {HTMLElement} target - The target being dropped onto.\n\t * @param {object} data - data object, as set with addDragable/addDropable.\n\t * @private\n\t */\n\t_handleDropletDrop: function(element, target, data) {\n\t\tvar drop_zone = this.getDropZoneById(data.zone_id),\n\t\t\tdroplet = this.getDropletById(element.id);\n\n\t\treturn this.attachDropletToDropZone(droplet, drop_zone);\n\t},\n\n\t/**\n\t * Handle a click on a Drop Zone attachment item. May produce an editor window.\n\t * @param {Droplet} droplet - The Droplet.\n\t * @param {DropZone} drop_zone - The Drop Zone.\n\t * @param {number} attachment_index - The Drop Zone's attachment index, if it applies.\n\t * @private\n\t */\n\t_handleAttachmentClick: function(droplet, drop_zone, attachment_index) {\n\t\tvar state = this._store.getState();\n\n\t\tif (state.UI.active_droplet_id === '') {\n\t\t\t// only allow editing if there is no droplet placement occuring\n\t\t\tthis._showDialog(dialogModes.EDIT_DROPLET, {\n\t\t\t\tdroplet_id: droplet.id,\n\t\t\t\tzone_id: drop_zone.id,\n\t\t\t\tattachment_index\n\t\t\t})\n\t\t\t\t.then(((dialog) => {\n\t\t\t\t\tthis._hideDialog();\n\n\t\t\t\t\tif (dialog.action === 'remove_droplet') {\n\t\t\t\t\t\tthis.zoneDetachAttachment(\n\t\t\t\t\t\t\tdialog.action_data.zone_id,\n\t\t\t\t\t\t\tdialog.action_data.attachment_index\n\t\t\t\t\t\t);\n\t\t\t\t\t} else if (dialog.action !== 'cancel') {\n\t\t\t\t\t\tthis._commitDropletIntoDropZone.apply(this, [dialog.data]);\n\t\t\t\t\t}\n\t\t\t\t}).bind(this));\n\t\t}\n\t},\n\n\t/**\n\t * Handles events being fired from a Droplet\n\t * @param {ReactEvent} event - The event object.\n\t * @param {Droplet} droplet - The Droplet.\n\t * @private\n\t */\n\t_handleDropletEvent: function(event, droplet) {\n\t\tvar state;\n\n\t\tif (event.type === 'click') {\n\t\t\tstate = this._store.getState();\n\n\t\t\tif (state.UI.active_droplet_id !== droplet.id) {\n\t\t\t\tthis._store.dispatch(actions.setActiveDroplet(droplet.id));\n\t\t\t} else {\n\t\t\t\tthis._store.dispatch(actions.setActiveDroplet(''));\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Handles events being fired from a Drop Zone.\n\t * @param {ReactEvent} event - The event object.\n\t * @param {DropZone} drop_zone - The Drop Zone.\n\t * @private\n\t */\n\t_handleDropZoneEvent: function(event, drop_zone) {\n\t\tvar state = this._store.getState(),\n\t\t\tdroplet;\n\n\t\tif (event.type === 'click' &&\n\t\t\tstate.UI.active_droplet_id !== '' &&\n\t\t\t(droplet = this.getDropletById(state.UI.active_droplet_id))) {\n\t\t\tthis.attachDropletToDropZone(droplet, drop_zone);\n\t\t}\n\t},\n\n\t/**\n\t * Handles events from the drag handle (between template and view containers).\n\t * @param {ReactEvent} event - The event object.\n\t * @private\n\t */\n\t_handleDragHandleEvent: function(event) {\n\t\tvar width;\n\n\t\tswitch (event.type) {\n\t\tcase 'mouseenter':\n\t\tcase 'mouseleave':\n\t\t\tif (!this._data.UI.dragHandleMoved) {\n\t\t\t\tif (event.type === 'mouseenter') {\n\t\t\t\t\tthis._store.dispatch(actions.setTooltipContent(\n\t\t\t\t\t\t'Drag handle',\n\t\t\t\t\t\t'<b>Drag</b> this handle to resize the template and the view.' +\n\t\t\t\t\t\t\t' <b>Press</b> to toggle the full page view.',\n\t\t\t\t\t\tGLYPHS.RESIZE_WIDTH\n\t\t\t\t\t));\n\t\t\t\t\tthis._store.dispatch(actions.showTooltip(\n\t\t\t\t\t\tthis._getReferencedElement('drag_handle'),\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tplacement: 'left',\n\t\t\t\t\t\t\tmodifiers: {\n\t\t\t\t\t\t\t\tflip: ['left', 'right']\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t));\n\t\t\t\t} else {\n\t\t\t\t\tthis._store.dispatch(actions.hideTooltip());\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase 'dragmove':\n\t\t\t// incrememt dragHandlePosition based on x delta from interact instance\n\t\t\tthis._data.UI.dragHandlePosition += event.dx;\n\n\t\t\tif (!this._data.UI.dragHandleMoved) {\n\t\t\t\t// remove the tooltip, in case it's still around\n\t\t\t\tthis._data.UI.dragHandleMoved = true;\n\t\t\t\tthis._store.dispatch(actions.hideTooltip());\n\t\t\t}\n\n\t\t\t// figure out handle position in % of the screen and convert it to percent,\n\t\t\t// then send straight to _setTemplateViewRatio function\n\t\t\tthis._setTemplateViewRatio(\n\t\t\t\t((this._data.UI.drag_handle_x + this._data.UI.dragHandlePosition) /\n\t\t\t\t\tthis._data.UI.vp_width) * 100\n\t\t\t);\n\n\t\t\tbreak;\n\n\t\tcase 'mouseup':\n\t\tcase 'touchend':\n\t\t\tif (this._data.UI.dragHandlePosition < 5 && this._data.UI.dragHandlePosition > -5) {\n\t\t\t\t// little movement - assume a click/tap occured\n\t\t\t\twidth = (this._getReferencedElement('drag_handle')).offsetWidth;\n\n\t\t\t\tif (this._data.UI.drag_handle_x < width) {\n\t\t\t\t\t// set to 50/50\n\t\t\t\t\tthis._setTemplateViewRatio(50);\n\t\t\t\t} else {\n\t\t\t\t\t// set to 0/100\n\t\t\t\t\tthis._setTemplateViewRatio(0);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// update metrics whenever we're stopping\n\t\t\tthis._handleWindowResize();\n\n\t\t\tbreak;\n\t\t}\n\t},\n\n\t/**\n\t * Updates various metrics when the window has been resized\n\t * @private\n\t */\n\t_handleWindowResize: function() {\n\t\tthis._data.UI.drag_handle_x = (this._getReferencedElement('drag_handle')).offsetLeft;\n\t\tthis._data.UI.vp_width =\n\t\t\tMath.max(document.documentElement.clientWidth, window.innerWidth || 0);\n\n\t\t// reset dragHandlePosition because the metrics have changed\n\t\tthis._data.UI.dragHandlePosition = 0;\n\t},\n\n\t/**\n\t * Generically handles the click of any button within the UI.\n\t * @param {HTMLElement} button - The button being clicked.\n\t * @param {ReactEvent} event - The event object.\n\t */\n\t_handleButtonClick: function(button, event) {\n\t\tvar offset = {},\n\t\t\trect, circle;\n\n\t\tif (button && event && event.pageX && event.pageY &&\n\t\t\t(circle = button.querySelector(this.settings.selectors.button_circle))) {\n\t\t\t// get metrics and offset by scroll\n\t\t\trect = button.getBoundingClientRect();\n\t\t\trect.leftScrolled = rect.left + window.pageXOffset;\n\t\t\trect.topScrolled = rect.top + window.pageYOffset;\n\n\t\t\t// calculate cursor offset on the button\n\t\t\toffset.left = event.pageX - (rect.left + window.pageXOffset);\n\t\t\toffset.top = event.pageY - (rect.top + window.pageYOffset);\n\n\t\t\t// position the circle based on the pointer position on the button\n\t\t\tcircle.classList.remove(this.settings.classes.button_animate);\n\t\t\tcircle.style.left = offset.left - (circle.offsetWidth / 2) + 'px';\n\t\t\tcircle.style.top = offset.top - (circle.offsetHeight / 2) + 'px';\n\t\t\tcircle.classList.add(this.settings.classes.button_animate);\n\t\t}\n\t},\n\n\t/**\n\t * @param {number} ratio - % ratio for the template\n\t * @description\n\t * Sets the template/view ratio by giving the template container a % width and\n\t * adjusting the view container accordingly.\n\t * @private\n\t */\n\t_setTemplateViewRatio: function(ratio) {\n\t\tthis._refs.components.template.style.flexBasis = ratio + '%';\n\t\tthis._refs.components.view.style.flexBasis = Math.abs(ratio - 100) + '%';\n\t},\n\n\t/**\n\t * Checks to see if a Droplet drop on a Drop Zone is valid. I.e. it can be dropped.\n\t * @param {Droplet} droplet - The Droplet being dropped.\n\t * @param {DropZone} drop_zone - The Drop Zone being dropped into.\n\t * @private\n\t */\n\t_isValidDrop: function(droplet, drop_zone) {\n\t\treturn drop_zone.willAccept(droplet, this._store);\n\t},\n\n\t/**\n\t * Optionally displays an editing dialog and then attaches the Droplet to a Drop Zone.\n\t * @param {Droplet} droplet - The Droplet to attach\n\t * @param {DropZone} drop_zone - The Drop Zone to attach it to.\n\t */\n\tattachDropletToDropZone: function(droplet, drop_zone) {\n\t\t// clear active droplet\n\t\tthis._store.dispatch(actions.setActiveDroplet(''));\n\n\t\t// check if valid drop\n\t\tif (this._isValidDrop(droplet, drop_zone)) {\n\t\t\tif (droplet.editable) {\n\t\t\t\t// show edit dialog before adding the attachment\n\t\t\t\tthis._showDialog(dialogModes.EDIT_DROPLET, {\n\t\t\t\t\tdroplet_id: droplet.id,\n\t\t\t\t\tzone_id: drop_zone.id,\n\t\t\t\t\tattachment_index: null\n\t\t\t\t})\n\t\t\t\t\t.then((dialog) => {\n\t\t\t\t\t\tthis._hideDialog();\n\n\t\t\t\t\t\tif (dialog.action === 'submit') {\n\t\t\t\t\t\t\tthis._commitDropletIntoDropZone.apply(this, [dialog.data]);\n\t\t\t\t\t\t\tthis._postDropletAttachment(droplet, dialog.data);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// add attachment without dialog\n\t\t\t\tthis.zoneAddAttachment(\n\t\t\t\t\tdrop_zone.id,\n\t\t\t\t\tdroplet.id,\n\t\t\t\t\tdroplet.data\n\t\t\t\t);\n\n\t\t\t\tthis._postDropletAttachment(droplet, droplet.data);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t} else {\n\t\t\tif (this.settings.dropZone.warnOnBadPlacement) {\n\t\t\t\tthis._showDialog(dialogModes.GENERAL, this.dialogs.dropletBadPlacement)\n\t\t\t\t\t.then(this._hideDialog);\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\t},\n\n\t/**\n\t * Perform actions after Droplet attachment.\n\t * @param {Droplet} droplet - The Droplet instance.\n\t * @param {object} data - The Droplet data to be set into the Drop Zone.\n\t * @private\n\t */\n\t_postDropletAttachment: function(droplet, data) {\n\t\tvar state = this._store.getState(),\n\t\t\tkeys = Object.keys(state.zones),\n\t\t\tnotice = false,\n\t\t\tkey, droplet_output;\n\n\t\t// should we display a \"first droplet\" notice?\n\t\tif (this.settings.dropZone.noticeOnFirstPlacement &&\n\t\t\t(!state.app.first_valid_drop && keys.length > 0)) {\n\t\t\t// set first droplet state\n\t\t\tthis._store.dispatch(actions.completeFirstDrop());\n\n\t\t\t// format the droplet for display\n\t\t\tdroplet_output = Template.entities(\n\t\t\t\tTemplate.renderDroplet(\n\t\t\t\t\tdroplet,\n\t\t\t\t\tObject.deepAssign({}, droplet.data, data),\n\t\t\t\t\tnull,\n\t\t\t\t\tfalse\n\t\t\t\t)\n\t\t\t);\n\n\t\t\t// show dialog\n\t\t\tthis._showDialog(\n\t\t\t\tdialogModes.GENERAL,\n\t\t\t\tthis.dialogs.firstDropletDrop(droplet_output)\n\t\t\t)\n\t\t\t\t.then(this._hideDialog);\n\t\t}\n\n\t\t// should we display a \"last droplet\" notice?\n\t\tif (this.settings.dropZone.noticeOnLastPlacement &&\n\t\t\t(!state.app.last_valid_drop && keys.length === this._data.pallet.length)) {\n\t\t\tnotice = true;\n\n\t\t\t// check zones all have placements\n\t\t\tfor (key in state.zones) {\n\t\t\t\tif (state.zones[key].attachments.length === 0) {\n\t\t\t\t\tnotice = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (notice) {\n\t\t\t\t// show set last drop state\n\t\t\t\tthis._store.dispatch(actions.completeLastDrop());\n\n\t\t\t\t// show dialog\n\t\t\t\tthis._showDialog(\n\t\t\t\t\tdialogModes.GENERAL,\n\t\t\t\t\tthis.dialogs.lastDropletDrop\n\t\t\t\t)\n\t\t\t\t\t.then(this._hideDialog);\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * @param {object} data - The Droplet data to be set into the Drop Zone.\n\t * @description\n\t * Called after editing dialog has been completed, either adds a new\n\t * Drop Zone attachment or edits an existing one.\n\t * @private\n\t */\n\t_commitDropletIntoDropZone: function(data) {\n\t\tvar dialog = (this._store.getState()).UI.dialog;\n\n\t\t// reset dialog state to nothing\n\t\tthis._hideDialog();\n\n\t\t// droplet being edited prior to or during attatchment\n\t\tif (dialog.data.attachment_index === null) {\n\t\t\t// no attachment index - this is a new drop\n\t\t\tthis.zoneAddAttachment(\n\t\t\t\tdialog.data.zone_id,\n\t\t\t\tdialog.data.droplet_id,\n\t\t\t\tdata\n\t\t\t);\n\t\t} else{\n\t\t\tthis.zoneEditAttachment(\n\t\t\t\tdialog.data.zone_id,\n\t\t\t\tdialog.data.attachment_index,\n\t\t\t\tdata\n\t\t\t);\n\t\t}\n\t},\n\n\t/**\n\t * Adds a Drop Zone attachment.\n\t * @param {string} zone_id - The Drop Zone ID.\n\t * @param {string} droplet_id - The Droplet ID.\n\t * @param {object} data - The droplet data to be set into the Drop Zone.\n\t */\n\tzoneAddAttachment: function(zone_id, droplet_id, data) {\n\t\tthis._store.dispatch(actions.zoneAddAttachment(\n\t\t\tzone_id,\n\t\t\tdroplet_id,\n\t\t\ttrue,\n\t\t\tdata\n\t\t));\n\n\t\tif (this.settings.view.autoUpdate) {\n\t\t\tthis._updateView();\n\t\t}\n\t},\n\n\t/**\n\t * Edits an existing Drop Zone attachment at `attachment_index` index.\n\t * @param {string} zone_id - The Drop Zone ID.\n\t * @param {number} attachment_index - The existing attachment index.\n\t * @param {object} data - The new droplet data to be replaced into the Drop Zone.\n\t */\n\tzoneEditAttachment: function(zone_id, attachment_index, data) {\n\t\tthis._store.dispatch(actions.zoneEditAttachment(\n\t\t\tzone_id,\n\t\t\tattachment_index,\n\t\t\tdata\n\t\t));\n\n\t\tif (this.settings.view.autoUpdate) {\n\t\t\tthis._updateView();\n\t\t}\n\t},\n\n\t/**\n\t * Detaches a Droplet attachment from a Drop Zone by its `attachment_index` index.\n\t * @param {string} zone_id - Drop Zone ID.\n\t * @param {number} attachment_index - The existing attachment index.\n\t */\n\tzoneDetachAttachment: function(zone_id, attachment_index) {\n\t\tthis._store.dispatch(actions.zoneDetachAttachment(\n\t\t\tzone_id,\n\t\t\tattachment_index\n\t\t));\n\t},\n\n\t/**\n\t * Retrieve a zone's attachment by its `attachment_index` index.\n\t * @param {string} zone_id - Drop Zone ID.\n\t * @param {number} attachment_index - The existing attachment index.\n\t */\n\tzoneGetAttachment: function(zone_id, attachment_index) {\n\t\tvar zone,\n\t\t\tstate = this._store.getState();\n\n\t\tif (state.zones &&\n\t\t\t(zone = state.zones[zone_id]) &&\n\t\t\tzone.attachments &&\n\t\t\tzone.attachments.length > attachment_index\n\t\t) {\n\t\t\treturn zone.attachments[attachment_index];\n\t\t}\n\n\t\treturn null;\n\t},\n\n\t/**\n\t * Sends a key the View frame for updating.\n\t */\n\t_updateView: function() {\n\t\tvar state = this._store.getState();\n\n\t\tthis._comms.send('view', {\n\t\t\tcmd: messageCommands.RELOAD,\n\t\t\tdata: {\n\t\t\t\tmarkup: this._template.renderAsHTML(\n\t\t\t\t\tstate.zones\n\t\t\t\t)\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n\t * Obtains an element stored in the internal refs collection\n\t */\n\t_getReferencedElement: function(collection, key) {\n\t\tvar ref;\n\n\t\tif (\n\t\t\t((typeof key === 'undefined' || !key) && (ref = this._refs.components[collection])) ||\n\t\t\t(ref = this._refs.components[collection][key])\n\t\t) {\n\t\t\treturn ref;\n\t\t} else {\n\t\t\tthrow new Error('Referenced element at ' + collection + '(' + key +\n\t\t\t\t') could not be found.');\n\t\t}\n\t},\n\n\t/**\n\t * Retrieves a Droplet instance by its ID.\n\t * @param {string} id - ID of the Droplet to retrieve.\n\t */\n\tgetDropletById: function(id) {\n\t\treturn this._data.pallet.find((element) => {\n\t\t\treturn element.id === id;\n\t\t});\n\t},\n\n\t/**\n\t * Retrieves a Drop Zone instance by its ID.\n\t * @param {string} id - ID of the Drop Zone to retrieve.\n\t */\n\tgetDropZoneById: function(id) {\n\t\treturn this._data.drop_zones[id] || null;\n\t},\n\n\t/**\n\t * @param {HTMLElement} attachment - The element to attach to.\n\t * @param {HTMLElement} element - The element being attached.\n\t * @param {object} options - The popper `options` object (see link).\n\t * @description\n\t * Using 'popper', sets the an attachment from the `attachment` node to an `element`\n\t * defining the \"popup\" to be displayed.\n\t * @see https://popper.js.org/popper-documentation.html#new_Popper_new\n\t * @private\n\t */\n\t_setUIPopperAttachment: function(attachment, element, options) {\n\t\tvar attached;\n\n\t\tif (attachment instanceof window.HTMLElement) {\n\t\t\tattached = attachment;\n\t\t} else if (attachment && attachment.selector) {\n\t\t\tattached = document.querySelector(attachment.selector);\n\t\t}\n\n\t\tif (attached) {\n\t\t\treturn new Popper(\n\t\t\t\tattached,\n\t\t\t\telement,\n\t\t\t\tattachment.options || options\n\t\t\t);\n\t\t} else {\n\t\t\tthrow new Error('_setUIPopperAttachment: Attachment or selector could not be found.');\n\t\t}\n\t}\n};\n\nexport default UI;\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/lib/UI.jsx","// JS Polyfills - doesn't export anything, just modifies existing Object specs\nObject.deepAssign = function(target, varArgs) {\n\t'use strict';\n\n\tvar to, from, index, key;\n\n\tif (target == null) { // TypeError if undefined or null\n\t\tthrow new TypeError('Cannot convert undefined or null to object');\n\t}\n\n\tto = (typeof varArgs !== 'undefined' &&\n\t\t(Array.isArray(varArgs) && arguments.length === 2)) ?\n\t\tArray(target) : // arrays to retain their identity\n\t\tObject(target); // otherwise use an object\n\n\tfor (index = 1; index < arguments.length; index++) {\n\t\tfrom = arguments[index];\n\n\t\tif (from != null || typeof from === 'undefined') {\n\t\t\tfor (key in from) {\n\t\t\t\tif (from.hasOwnProperty(key)) {\n\t\t\t\t\tif (typeof from[key] === 'object' && from[key] != null) {\n\t\t\t\t\t\tto[key] = Object.deepAssign(\n\t\t\t\t\t\t\t(Array.isArray(from[key]) ? [] : {}),\n\t\t\t\t\t\t\tto[key],\n\t\t\t\t\t\t\tfrom[key]\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tto[key] = from[key];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n/**\n * Curry implementation for functions\n */\nFunction.prototype.curry = function() {\n\tvar args = Array.prototype.slice.call(arguments),\n\t\tfn = this;\n\n\treturn function() {\n\t\t// return result of original function with curried arguments before invocation arguments\n\t\treturn fn.apply(null, args.concat(Array.prototype.slice.call(arguments)));\n\t};\n};\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/lib/polyfills.js","import { combineReducers } from 'redux';\n\nimport defaultState from '../assets/default-state';\nimport { actionTypes, uiStates, tourModes } from '../assets/constants';\nimport Storage from '../lib/Storage';\n\nvar dialog_id = 0,\n\tstorage = new Storage('tag_app');\n\n/**\n * Sets application state values.\n * @private\n */\nfunction app(state = defaultState.app, action) {\n\tvar active, newstate, key;\n\n\tswitch (action.type) {\n\t// set ui state\n\tcase actionTypes.UI_STATE:\n\t\t// set 'active' flag based on the ui_state value\n\t\tswitch (action.ui_state) {\n\t\tcase uiStates.ACTIVE:\n\t\t\tactive = true;\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tactive = false;\n\t\t}\n\n\t\tnewstate = Object.assign({}, state, {\n\t\t\tui_state: action.ui_state,\n\t\t\tactive\n\t\t});\n\n\t\treturn storeState(newstate, 'app');\n\n\tcase actionTypes.RESET_APP:\n\t\tnewstate = Object.assign({}, state, {\n\t\t\tfirst_valid_drop: false,\n\t\t\tlast_valid_drop: false\n\t\t});\n\n\t\treturn storeState(newstate, 'app');\n\n\tcase actionTypes.COMPLETE_FIRST_DROP:\n\tcase actionTypes.COMPLETE_LAST_DROP:\n\t\tif (action.type === actionTypes.COMPLETE_FIRST_DROP) {\n\t\t\tnewstate = Object.assign({}, state, {\n\t\t\t\tfirst_valid_drop: true\n\t\t\t});\n\t\t} else {\n\t\t\tnewstate = Object.assign({}, state, {\n\t\t\t\tlast_valid_drop: true\n\t\t\t});\n\t\t}\n\n\t\treturn storeState(newstate, 'app');\n\n\tdefault:\n\t\treturn state;\n\t}\n}\n\n/**\n * Sets drop zone state values\n * @private\n */\nfunction zones(state = defaultState.zones, action) {\n\tvar zones = Object.assign({}, state);\n\n\tswitch (action.type) {\n\tcase actionTypes.ZONE_ADD_ATTACHMENT:\n\t\tif (!zones[action.id]) {\n\t\t\tzones[action.id] = {\n\t\t\t\tattachments: []\n\t\t\t};\n\t\t}\n\n\t\t// attach the droplet\n\t\tzones[action.id].attachments.push({\n\t\t\tdroplet_id: action.droplet_id,\n\t\t\tdata: action.data\n\t\t});\n\n\t\tbreak;\n\n\tcase actionTypes.ZONE_EDIT_ATTACHMENT:\n\t\tif (zones[action.id].attachments[action.attachment_index]) {\n\t\t\tzones[action.id].attachments[action.attachment_index].data = action.data;\n\t\t}\n\n\t\tbreak;\n\n\tcase actionTypes.ZONE_DETACH_ATTACHMENT:\n\t\t// detach the attachment by index\n\t\tif (action.attachment_index !== null &&\n\t\t\taction.attachment_index < zones[action.id].attachments.length) {\n\t\t\tzones[action.id].attachments.splice(action.attachment_index, 1);\n\t\t}\n\n\t\tbreak;\n\n\tcase actionTypes.ZONE_CLEAR_ALL_ATTACHMENTS:\n\t\tzones = {};\n\t\tbreak;\n\n\tdefault:\n\t\treturn state;\n\t}\n\n\treturn storeState(zones, 'zones');\n}\n\n/**\n * Sets UI state values. This state collection is non persistant and will not be stored\n * within local/session storage. Due to that fact, it is safe to place circular references,\n * functions and large quantities of data in here.\n * @private\n */\nfunction UI(state = defaultState.UI, action) {\n\tswitch (action.type) {\n\tcase actionTypes.SET_DIALOG_MODE:\n\t\treturn Object.assign({}, state, {\n\t\t\tdialog: {\n\t\t\t\tmode: action.mode,\n\t\t\t\tdata: action.data,\n\t\t\t\tonDialogComplete: action.onDialogComplete,\n\t\t\t\tonDialogCancel: action.onDialogCancel,\n\t\t\t\toverlay: (typeof action.overlay !== 'undefined' ? action.overlay : true),\n\t\t\t\tattachment: action.attachment,\n\t\t\t\tid: 'dialog-' + (++dialog_id)\n\t\t\t}\n\t\t});\n\n\tcase actionTypes.SET_TOUR_STAGE:\n\t\treturn Object.assign({}, state, {\n\t\t\ttour_stage: action.stage\n\t\t});\n\n\tcase actionTypes.SET_ACTIVE_DROPLET:\n\t\t// set the active droplet (i.e. the one that will be \"dropped\" when a\n\t\t// drop zone is next clicked\n\t\treturn Object.assign({}, state, {\n\t\t\tactive_droplet_id: action.droplet_id\n\t\t});\n\n\tcase actionTypes.SHOW_TOOLTIP:\n\tcase actionTypes.HIDE_TOOLTIP:\n\t\tif (action.type === actionTypes.SHOW_TOOLTIP) {\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\ttooltip: {\n\t\t\t\t\tshow: true,\n\t\t\t\t\tattachment: action.attachment,\n\t\t\t\t\toptions: action.options,\n\t\t\t\t\tcontent: state.tooltip.content,\n\t\t\t\t\ttitle: state.tooltip.title,\n\t\t\t\t\ticonGlyph: state.tooltip.iconGlyph\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\treturn Object.assign({}, state, {\n\t\t\t\ttooltip: {\n\t\t\t\t\tshow: false,\n\t\t\t\t\tattachment: null,\n\t\t\t\t\toptions: null,\n\t\t\t\t\tcontent: '',\n\t\t\t\t\ttitle: '',\n\t\t\t\t\ticonGlyph: ''\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\tcase actionTypes.SET_TOOLTIP_CONTENT:\n\t\treturn Object.assign({}, state, {\n\t\t\ttooltip: {\n\t\t\t\tshow: state.tooltip.show,\n\t\t\t\tcontent: action.content,\n\t\t\t\ttitle: action.title,\n\t\t\t\ticonGlyph: action.iconGlyph\n\t\t\t}\n\t\t});\n\n\tdefault:\n\t\treturn state;\n\t}\n}\n\n/**\n * Stores state into local/session storage for recall on reloading the app.\n * @private\n */\nfunction storeState(state, key) {\n\tvar current_state = storage.get('state'),\n\t\tnew_state;\n\n\tnew_state = Object.assign({}, defaultState, current_state);\n\tnew_state[key] = Object.assign({}, state);\n\tnew_state.UI = null;\n\n\tstorage.set('state', new_state);\n\n\treturn state;\n}\n\n\nexport default combineReducers({\n\tapp,\n\tzones,\n\tUI\n});\n\n\n// WEBPACK FOOTER //\n// ./~/njp-tag/src/state/reducers.js","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction placeHoldersCount (b64) {\n  var len = b64.length\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // the number of equal signs (place holders)\n  // if there are two placeholders, than the two characters before it\n  // represent one byte\n  // if there is only one, then the three characters before it represent 2 bytes\n  // this is just a cheap hack to not do indexOf twice\n  return b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0\n}\n\nfunction byteLength (b64) {\n  // base64 is 4/3 + up to two characters of the original data\n  return b64.length * 3 / 4 - placeHoldersCount(b64)\n}\n\nfunction toByteArray (b64) {\n  var i, j, l, tmp, placeHolders, arr\n  var len = b64.length\n  placeHolders = placeHoldersCount(b64)\n\n  arr = new Arr(len * 3 / 4 - placeHolders)\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  l = placeHolders > 0 ? len - 4 : len\n\n  var L = 0\n\n  for (i = 0, j = 0; i < l; i += 4, j += 3) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 18) | (revLookup[b64.charCodeAt(i + 1)] << 12) | (revLookup[b64.charCodeAt(i + 2)] << 6) | revLookup[b64.charCodeAt(i + 3)]\n    arr[L++] = (tmp >> 16) & 0xFF\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  if (placeHolders === 2) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[L++] = tmp & 0xFF\n  } else if (placeHolders === 1) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 10) | (revLookup[b64.charCodeAt(i + 1)] << 4) | (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var output = ''\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    output += lookup[tmp >> 2]\n    output += lookup[(tmp << 4) & 0x3F]\n    output += '=='\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + (uint8[len - 1])\n    output += lookup[tmp >> 10]\n    output += lookup[(tmp >> 4) & 0x3F]\n    output += lookup[(tmp << 2) & 0x3F]\n    output += '='\n  }\n\n  parts.push(output)\n\n  return parts.join('')\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/base64-js/index.js\n// module id = 152\n// module chunks = 0","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/buffer/index.js\n// module id = 153\n// module chunks = 0","exports = module.exports = require(\"../../../css-loader/lib/css-base.js\")(undefined);\n// imports\nexports.push([module.id, \"@import url(//fonts.googleapis.com/css?family=Fira+Mono|Muli:400,700);\", \"\"]);\n\n// module\nexports.push([module.id, \"/* reset */\\n* {\\n  box-sizing: border-box; }\\n\\nhtml, body, div, span, object, iframe,\\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\\nabbr, address, cite, code,\\ndel, dfn, em, img, ins, kbd, q, samp,\\nsmall, strong, sub, sup, var,\\nb, i,\\ndl, dt, dd, ol, ul, li,\\nfieldset, form, label, legend,\\ntable, caption, tbody, tfoot, thead, tr, th, td,\\narticle, aside, canvas, details, figcaption, figure,\\nfooter, header, hgroup, menu, nav, section, summary,\\ntime, mark, audio, video {\\n  margin: 0;\\n  padding: 0;\\n  border: 0;\\n  outline: 0;\\n  font-size: 100%;\\n  vertical-align: baseline;\\n  background: transparent;\\n  min-height: 0;\\n  min-width: 0; }\\n\\nbody {\\n  line-height: 1; }\\n\\narticle, aside, details, figcaption, figure,\\nfooter, header, hgroup, menu, nav, section {\\n  display: block; }\\n\\nnav ul {\\n  list-style: none; }\\n\\nblockquote, q {\\n  quotes: none; }\\n\\nblockquote:before, blockquote:after,\\nq:before, q:after {\\n  content: '';\\n  content: none; }\\n\\na {\\n  margin: 0;\\n  padding: 0;\\n  font-size: 100%;\\n  vertical-align: baseline;\\n  background: transparent; }\\n\\n/* change colours to suit your needs */\\nins {\\n  background-color: #ff9;\\n  color: #000;\\n  text-decoration: none; }\\n\\n/* change colours to suit your needs */\\nmark {\\n  background-color: #ff9;\\n  color: #000;\\n  font-style: italic;\\n  font-weight: bold; }\\n\\ndel {\\n  text-decoration: line-through; }\\n\\nabbr[title], dfn[title] {\\n  border-bottom: 1px dotted;\\n  cursor: help; }\\n\\ntable {\\n  border-collapse: collapse;\\n  border-spacing: 0; }\\n\\n/* change border colour to suit your needs */\\nhr {\\n  display: block;\\n  height: 1px;\\n  border: 0;\\n  border-top: 1px solid #cccccc;\\n  margin: 1em 0;\\n  padding: 0; }\\n\\ninput, select {\\n  vertical-align: middle; }\\n\\nbody {\\n  font-family: \\\"Muli\\\", sans-serif;\\n  line-height: 140%;\\n  color: #333; }\\n\\nh1 {\\n  font-size: 24px;\\n  font-size: 1.5rem; }\\n\\nh2 {\\n  font-size: 22px;\\n  font-size: 1.375rem; }\\n\\nh3 {\\n  font-size: 20px;\\n  font-size: 1.25rem; }\\n\\np {\\n  margin: .75em 0;\\n  font-size: 16px;\\n  font-size: 1rem; }\\n\\np:first-child {\\n  margin-top: 0; }\\n\\np:last-child {\\n  margin-bottom: 0; }\\n\\ncode {\\n  font: 16px/120% \\\"Fira Mono\\\", monospace; }\\n  code span {\\n    font-size: 12px;\\n    font-size: 0.75rem; }\\n\\n.view iframe {\\n  z-index: 1; }\\n\\n.overlay,\\n.view .drag-mask {\\n  z-index: 2; }\\n\\n.droplet,\\n.drag-handle {\\n  z-index: 3; }\\n\\n.dialog {\\n  z-index: 4; }\\n  .dialog .dialog-container[x-placement] .arrow:before {\\n    z-index: 6; }\\n  .dialog .dialog-container[x-placement] .arrow:after {\\n    z-index: 5; }\\n\\n.tooltip {\\n  z-index: 10; }\\n  .tooltip .arrow:before {\\n    z-index: 12; }\\n  .tooltip .arrow:after {\\n    z-index: 11; }\\n\\n.button:after {\\n  z-index: 1; }\\n\\n.button span {\\n  z-index: 2; }\\n\\n.logo {\\n  letter-spacing: 1px; }\\n  .logo b {\\n    color: #192fce; }\\n\\n* {\\n  user-select: none; }\\n\\n:not(svg) {\\n  cursor: default; }\\n\\n:focus {\\n  outline: none; }\\n\\n::-moz-focus-inner {\\n  border: 0; }\\n\\n.hidden {\\n  display: none; }\\n\\n/* main layout */\\nbody {\\n  background-color: #fff; }\\n\\n.app,\\n.tag-canvas {\\n  position: absolute;\\n  overflow: auto;\\n  left: 0;\\n  top: 0;\\n  bottom: 0;\\n  right: 0; }\\n\\n.tag-canvas {\\n  display: flex;\\n  flex-direction: column; }\\n  .tag-canvas header {\\n    flex-shrink: 0; }\\n  .tag-canvas .main {\\n    display: flex;\\n    flex-grow: 1; }\\n    .tag-canvas .main > *:not(.drag-handle) {\\n      flex-basis: 50%; }\\n    .tag-canvas .main .drag-handle {\\n      flex-basis: 20px; }\\n  .tag-canvas .pallet {\\n    flex-shrink: 0; }\\n\\nheader {\\n  display: flex;\\n  align-items: center;\\n  border-bottom: 1px solid #ccc;\\n  padding: 5px 10px;\\n  background: linear-gradient(to bottom, #f3f3f3 0%, #f1f1f1 100%); }\\n  header .logo {\\n    margin-right: 1em; }\\n  header p {\\n    margin: 0; }\\n  header .toolbar {\\n    margin-left: auto; }\\n\\n.toolbar ul {\\n  list-style: none;\\n  display: flex;\\n  padding: 0; }\\n  .toolbar ul li {\\n    margin-left: 5px;\\n    padding-left: 5px; }\\n    .toolbar ul li.separator {\\n      margin-left: 7.5px;\\n      padding-left: 9.5px;\\n      border-left: 2px solid #ccc; }\\n    .toolbar ul li.run .button {\\n      border-color: #319f2e;\\n      color: #319f2e; }\\n      .toolbar ul li.run .button .circle {\\n        background-color: #319f2e; }\\n      .toolbar ul li.run .button:hover > span {\\n        color: #fff;\\n        background-color: #51cc4d; }\\n\\n.toolbar .button {\\n  font-weight: bolder;\\n  font-size: 14px;\\n  font-size: 0.875rem; }\\n  .toolbar .button span {\\n    background-color: #fff; }\\n\\n.template {\\n  display: flex;\\n  flex-direction: column;\\n  overflow: hidden;\\n  border-right: 1px solid #ccc;\\n  background-color: #fcfdcc; }\\n  .template .template-inner {\\n    overflow: auto;\\n    flex-grow: 1; }\\n  .template pre {\\n    margin: 10px;\\n    line-height: 130%;\\n    -moz-tab-size: 3;\\n    tab-size: 3; }\\n    .template pre * {\\n      user-select: text;\\n      cursor: text; }\\n  .template .hljs {\\n    font-size: 1.125em;\\n    line-height: 130%; }\\n    .template .hljs .drop-zone .hljs-string {\\n      color: white; }\\n  .template .instruction {\\n    display: block;\\n    flex-shrink: 0;\\n    margin: 0;\\n    padding: 5px;\\n    color: #fff;\\n    background-color: #6172ec; }\\n\\n.view {\\n  position: relative;\\n  border-left: 1px solid #ccc; }\\n  .view iframe,\\n  .view .drag-mask {\\n    position: absolute;\\n    left: 0;\\n    top: 0;\\n    width: 100%;\\n    height: 100%; }\\n  .view .drag-mask {\\n    visibility: hidden;\\n    background-color: #fff; }\\n\\n.dragging .view .drag-mask {\\n  visibility: visible;\\n  opacity: .7; }\\n\\n.pallet {\\n  display: flex;\\n  flex-wrap: wrap;\\n  border-top: 1px solid #ccc;\\n  padding: 5px 10px;\\n  background-color: #eee; }\\n  .pallet .droplet {\\n    margin: 5px 10px 5px 0; }\\n\\nbutton::-moz-focus-inner {\\n  padding: 0;\\n  border: 0; }\\n\\n.button {\\n  -webkit-appearance: none;\\n  display: block;\\n  border: 0;\\n  padding: 0;\\n  text-decoration: none;\\n  font-size: 14px;\\n  font-size: 0.875rem;\\n  color: #333;\\n  background-color: transparent;\\n  cursor: pointer; }\\n  .button > span {\\n    display: block;\\n    overflow: hidden;\\n    position: relative;\\n    border-radius: 3px;\\n    border: 1px solid #ccc;\\n    padding: 5px 10px; }\\n  .button:hover > span,\\n  .button:focus > span {\\n    transform: translate(-2px, -2px);\\n    box-shadow: 2px 2px rgba(0, 0, 0, 0.2);\\n    cursor: pointer;\\n    background-color: #eee; }\\n  .button span.circle {\\n    position: absolute;\\n    transform: scale(0);\\n    opacity: .7;\\n    left: 0;\\n    top: 0;\\n    width: 100%;\\n    padding-top: 100%;\\n    border-radius: 50%;\\n    background-color: #a0a0a0;\\n    pointer-events: none; }\\n    .button span.circle.animate {\\n      animation: button-circle-out 0.6s cubic-bezier(0.77, 0, 0.175, 1); }\\n  .button .icon {\\n    margin: 0 5px 1px 0;\\n    vertical-align: middle; }\\n\\n.pseudo-button {\\n  display: inline-block;\\n  border: 1px solid #ccc;\\n  border-radius: 3px;\\n  padding: 1px 5px;\\n  color: #4d4d4d; }\\n  .pseudo-button > * {\\n    vertical-align: middle; }\\n  .pseudo-button svg {\\n    margin-bottom: .15em; }\\n  .pseudo-button.run {\\n    color: #51cc4d;\\n    fill: #51cc4d; }\\n\\n@keyframes button-circle-out {\\n  100% {\\n    transform: scale(6);\\n    opacity: 0; } }\\n\\n.drop-zone {\\n  display: inline-block;\\n  font-family: \\\"Fira Mono\\\", monospace; }\\n  .drop-zone .target-outer {\\n    display: inline-block;\\n    position: relative; }\\n  .drop-zone .target b {\\n    border-radius: 3px;\\n    padding: 2px 5px;\\n    background-color: #6172ec;\\n    line-height: 120%;\\n    color: white; }\\n  .drop-zone .target.hidden {\\n    display: none; }\\n  .drop-zone .attachments > * {\\n    display: inline-block;\\n    margin: 1px;\\n    border-radius: 3px;\\n    padding: 1px;\\n    background-color: #51cc4d; }\\n  .drop-zone .attachments .element {\\n    display: block; }\\n\\n.drop-zone.accept .target b,\\n.droplet-active .drop-zone.will-accept .target:hover b {\\n  background-color: #51cc4d; }\\n\\n.drop-zone.decline .target b,\\n.droplet-active .drop-zone.will-decline .target:hover b {\\n  background-color: #ff515c; }\\n\\n.drop-zone:not(.possible-target) .dropzone-attachment:hover {\\n  color: #fff;\\n  background-color: #319f2e;\\n  cursor: pointer; }\\n\\n.droplet-active .drop-zone .target b {\\n  cursor: pointer;\\n  background-color: #192fce; }\\n\\n.droplet-active .drop-zone .target:hover b {\\n  box-shadow: 2px 2px rgba(0, 0, 0, 0.2); }\\n\\n.droplet {\\n  -webkit-appearance: none;\\n  border: 0;\\n  height: 35px;\\n  padding: 0;\\n  text-decoration: none;\\n  cursor: pointer; }\\n  .droplet .label {\\n    transition: background-color 0.15s cubic-bezier(0.77, 0, 0.175, 1), color 0.15s cubic-bezier(0.77, 0, 0.175, 1), border-color 0.15s cubic-bezier(0.77, 0, 0.175, 1), opacity 0.5s cubic-bezier(0.77, 0, 0.175, 1);\\n    display: flex;\\n    align-items: center;\\n    opacity: 1;\\n    border-radius: 3px;\\n    border: 1px solid #a0a0a0;\\n    border-left-width: 5px;\\n    height: 35px;\\n    padding: 5px 10px;\\n    line-height: 120%;\\n    font-size: 14px;\\n    font-size: 0.875rem;\\n    background-color: #fff;\\n    color: #333;\\n    cursor: pointer; }\\n    .droplet .label .icon {\\n      transition: fill 0.15s cubic-bezier(0.77, 0, 0.175, 1);\\n      margin-right: .5em; }\\n  .droplet.active .label {\\n    color: #fff;\\n    background-color: #a0a0a0; }\\n    .droplet.active .label .icon {\\n      fill: #fff; }\\n  .droplet.item-dragging .label {\\n    opacity: 0.5;\\n    box-shadow: 2px 2px rgba(0, 0, 0, 0.2); }\\n  .droplet.type-text .label {\\n    border-color: #2f9ed8; }\\n  .droplet.type-text:hover .label {\\n    color: #2f9ed8; }\\n  .droplet.type-text.active .label {\\n    color: #fff;\\n    border-color: #1d719d;\\n    background-color: #1d719d; }\\n  .droplet.type-attribute .label {\\n    border-color: #51cc4d; }\\n  .droplet.type-attribute:hover .label {\\n    color: #51cc4d; }\\n  .droplet.type-attribute.active .label {\\n    color: #fff;\\n    border-color: #319f2e;\\n    background-color: #319f2e; }\\n  .droplet.type-element .label {\\n    border-color: #c044f1; }\\n  .droplet.type-element:hover .label {\\n    color: #c044f1; }\\n  .droplet.type-element.active .label {\\n    color: #fff;\\n    border-color: #a010d8;\\n    background-color: #a010d8; }\\n\\n.dialog {\\n  position: fixed;\\n  display: none;\\n  justify-content: center;\\n  align-items: center;\\n  left: 0;\\n  right: 0;\\n  top: 0;\\n  bottom: 0;\\n  background: #ccc;\\n  /* The Fallback */\\n  background: rgba(204, 204, 204, 0.7); }\\n  .dialog.visible {\\n    display: flex; }\\n  .dialog.no-overlay.visible {\\n    pointer-events: none;\\n    background: none; }\\n  .dialog .dialog-container {\\n    pointer-events: auto;\\n    box-shadow: 4px 4px rgba(0, 0, 0, 0.1);\\n    border: 1px solid #a0a0a0;\\n    max-width: 500px;\\n    background-color: #fbfbfb; }\\n  .dialog .dialog-heading {\\n    padding: 20px;\\n    border-bottom: 1px solid #ccc; }\\n    .dialog .dialog-heading .icon {\\n      margin-right: .5em; }\\n    .dialog .dialog-heading p:nth-of-type(n+2) {\\n      font-size: 14px;\\n      font-size: 0.875rem; }\\n  .dialog .button {\\n    font-size: 16px;\\n    font-size: 1rem; }\\n    .dialog .button > span {\\n      padding: 7.5px 15px; }\\n\\n.popup[x-placement^=\\\"top\\\"] {\\n  margin-bottom: 20px; }\\n\\n.popup[x-placement^=\\\"bottom\\\"] {\\n  margin-top: 20px; }\\n\\n.popup[x-placement^=\\\"right\\\"] {\\n  margin-left: 20px; }\\n\\n.popup[x-placement^=\\\"left\\\"] {\\n  margin-right: 20px; }\\n\\n.popup[x-placement] .arrow {\\n  position: absolute;\\n  overflow: hidden;\\n  width: 40px;\\n  height: 40px; }\\n  .popup[x-placement] .arrow:before, .popup[x-placement] .arrow:after {\\n    content: '';\\n    position: absolute;\\n    left: 0;\\n    top: 0;\\n    width: 0;\\n    border: 20px solid #fbfbfb; }\\n  .popup[x-placement] .arrow:after {\\n    border: 22px solid #a0a0a0; }\\n\\n.popup[x-placement^=\\\"top\\\"] .arrow,\\n.popup[x-placement^=\\\"bottom\\\"] .arrow {\\n  height: 20px; }\\n\\n.popup[x-placement^=\\\"left\\\"] .arrow,\\n.popup[x-placement^=\\\"right\\\"] .arrow {\\n  width: 20px; }\\n\\n.popup[x-placement^=\\\"top\\\"] .arrow {\\n  bottom: -20px;\\n  margin-left: -10px; }\\n  .popup[x-placement^=\\\"top\\\"] .arrow:before {\\n    border-color: #fbfbfb transparent transparent transparent; }\\n  .popup[x-placement^=\\\"top\\\"] .arrow:after {\\n    left: -2px;\\n    top: -1px;\\n    border-color: #a0a0a0 transparent transparent transparent; }\\n\\n.popup[x-placement^=\\\"bottom\\\"] .arrow {\\n  top: -20px;\\n  margin-left: -10px; }\\n  .popup[x-placement^=\\\"bottom\\\"] .arrow:before {\\n    top: -20px;\\n    border-color: transparent transparent #fbfbfb transparent; }\\n  .popup[x-placement^=\\\"bottom\\\"] .arrow:after {\\n    left: -2px;\\n    top: -21px;\\n    border-color: transparent transparent #a0a0a0 transparent; }\\n\\n.popup[x-placement^=\\\"left\\\"] .arrow {\\n  right: -20px; }\\n  .popup[x-placement^=\\\"left\\\"] .arrow:before {\\n    border-color: transparent transparent transparent #fbfbfb; }\\n  .popup[x-placement^=\\\"left\\\"] .arrow:after {\\n    left: -1px;\\n    top: -2px;\\n    border-color: transparent transparent transparent #a0a0a0; }\\n\\n.popup[x-placement^=\\\"right\\\"] .arrow {\\n  left: -20px; }\\n  .popup[x-placement^=\\\"right\\\"] .arrow:before {\\n    left: auto;\\n    right: 0;\\n    border-color: transparent #fbfbfb transparent transparent; }\\n  .popup[x-placement^=\\\"right\\\"] .arrow:after {\\n    left: auto;\\n    right: -1px;\\n    top: -2px;\\n    border-color: transparent #a0a0a0 transparent transparent; }\\n\\n.popup code {\\n  display: block;\\n  box-shadow: 2px 2px rgba(0, 0, 0, 0.2);\\n  margin: 1em 0;\\n  width: 100%;\\n  padding: 5px;\\n  word-wrap: break-word;\\n  font-size: 12px;\\n  font-size: 0.75rem;\\n  background-color: #fcfdcc; }\\n\\nform fieldset:not(.buttons) {\\n  padding: 0 20px;\\n  margin: 10px 0; }\\n\\nform fieldset.buttons {\\n  text-align: right;\\n  border-top: 1px solid #ccc;\\n  padding: 20px; }\\n  form fieldset.buttons button {\\n    display: inline-block;\\n    margin: 0 .25em; }\\n    form fieldset.buttons button.pull-left {\\n      float: left; }\\n\\nform legend {\\n  font-weight: bolder; }\\n\\nform .field {\\n  display: flex;\\n  align-items: center;\\n  margin: 10px 0; }\\n  form .field label {\\n    width: 40%; }\\n\\ninput,\\nselect,\\nbutton {\\n  font-family: \\\"Muli\\\", sans-serif; }\\n\\ninput,\\nselect {\\n  user-select: all;\\n  font-size: 14px;\\n  font-size: 0.875rem;\\n  padding: 5px; }\\n\\nbutton {\\n  position: relative; }\\n  button.primary, button.danger {\\n    font-weight: bolder; }\\n  button.primary > span {\\n    border-color: #6172ec;\\n    color: #6172ec; }\\n  button.primary .circle {\\n    background-color: #1d35e4; }\\n  button.primary:hover > span,\\n  button.primary:focus > span {\\n    color: #fff;\\n    background-color: #7886ef; }\\n  button.danger > span {\\n    border-color: #ff515c;\\n    color: #ff515c; }\\n  button.danger .circle {\\n    background-color: #ff0514; }\\n  button.danger:hover > span,\\n  button.danger:focus > span {\\n    color: #fff;\\n    background-color: #ff6b74; }\\n\\n.icon {\\n  pointer-events: none; }\\n  .icon use {\\n    fill: currentColor; }\\n\\n.drag-handle {\\n  position: relative;\\n  background-color: #eee;\\n  cursor: col-resize; }\\n  .drag-handle:after {\\n    content: '';\\n    transition: all 0.15s cubic-bezier(0.77, 0, 0.175, 1);\\n    position: absolute;\\n    box-sizing: border-box;\\n    left: 50%;\\n    top: 50%;\\n    margin-top: -25px;\\n    margin-left: -4px;\\n    width: 8px;\\n    height: 50px;\\n    border-left: 2px solid #ccc;\\n    border-right: 2px solid #ccc; }\\n  .drag-handle:hover, .drag-handle.item-dragging {\\n    background-color: #f4f4f4; }\\n  .drag-handle:hover:after, .drag-handle.item-dragging:after {\\n    height: 100px;\\n    margin-top: -50px; }\\n\\n.tooltip {\\n  position: absolute;\\n  max-width: 400px; }\\n  .tooltip .content {\\n    box-shadow: 4px 4px rgba(0, 0, 0, 0.1);\\n    padding: 10px;\\n    background-color: #fbfbfb; }\\n    .tooltip .content h2 {\\n      font-size: 18px;\\n      font-size: 1.125rem; }\\n      .tooltip .content h2 .icon {\\n        margin-right: .5em;\\n        vertical-align: middle;\\n        fill: #192fce; }\\n  .tooltip .arrow:after {\\n    display: none; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/sass-loader/lib/loader.js!./~/njp-tag/src/styles/main.scss\n// module id = 155\n// module chunks = 0","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap) {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n  var base64 = new Buffer(JSON.stringify(sourceMap)).toString('base64');\n  var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n  return '/*# ' + data + ' */';\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader/lib/css-base.js\n// module id = 156\n// module chunks = 0","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ieee754/index.js\n// module id = 170\n// module chunks = 0","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/isarray/index.js\n// module id = 172\n// module chunks = 0","(function(host) {\n\n  var properties = {\n    browser: [\n      [/msie ([\\.\\_\\d]+)/, \"ie\"],\n      [/trident\\/.*?rv:([\\.\\_\\d]+)/, \"ie\"],\n      [/firefox\\/([\\.\\_\\d]+)/, \"firefox\"],\n      [/chrome\\/([\\.\\_\\d]+)/, \"chrome\"],\n      [/version\\/([\\.\\_\\d]+).*?safari/, \"safari\"],\n      [/mobile safari ([\\.\\_\\d]+)/, \"safari\"],\n      [/android.*?version\\/([\\.\\_\\d]+).*?safari/, \"com.android.browser\"],\n      [/crios\\/([\\.\\_\\d]+).*?safari/, \"chrome\"],\n      [/opera/, \"opera\"],\n      [/opera\\/([\\.\\_\\d]+)/, \"opera\"],\n      [/opera ([\\.\\_\\d]+)/, \"opera\"],\n      [/opera mini.*?version\\/([\\.\\_\\d]+)/, \"opera.mini\"],\n      [/opios\\/([a-z\\.\\_\\d]+)/, \"opera\"],\n      [/blackberry/, \"blackberry\"],\n      [/blackberry.*?version\\/([\\.\\_\\d]+)/, \"blackberry\"],\n      [/bb\\d+.*?version\\/([\\.\\_\\d]+)/, \"blackberry\"],\n      [/rim.*?version\\/([\\.\\_\\d]+)/, \"blackberry\"],\n      [/iceweasel\\/([\\.\\_\\d]+)/, \"iceweasel\"],\n      [/edge\\/([\\.\\d]+)/, \"edge\"]\n    ],\n    os: [\n      [/linux ()([a-z\\.\\_\\d]+)/, \"linux\"],\n      [/mac os x/, \"macos\"],\n      [/mac os x.*?([\\.\\_\\d]+)/, \"macos\"],\n      [/os ([\\.\\_\\d]+) like mac os/, \"ios\"],\n      [/openbsd ()([a-z\\.\\_\\d]+)/, \"openbsd\"],\n      [/android/, \"android\"],\n      [/android ([a-z\\.\\_\\d]+);/, \"android\"],\n      [/mozilla\\/[a-z\\.\\_\\d]+ \\((?:mobile)|(?:tablet)/, \"firefoxos\"],\n      [/windows\\s*(?:nt)?\\s*([\\.\\_\\d]+)/, \"windows\"],\n      [/windows phone.*?([\\.\\_\\d]+)/, \"windows.phone\"],\n      [/windows mobile/, \"windows.mobile\"],\n      [/blackberry/, \"blackberryos\"],\n      [/bb\\d+/, \"blackberryos\"],\n      [/rim.*?os\\s*([\\.\\_\\d]+)/, \"blackberryos\"]\n    ],\n    device: [\n      [/ipad/, \"ipad\"],\n      [/iphone/, \"iphone\"],\n      [/lumia/, \"lumia\"],\n      [/htc/, \"htc\"],\n      [/nexus/, \"nexus\"],\n      [/galaxy nexus/, \"galaxy.nexus\"],\n      [/nokia/, \"nokia\"],\n      [/ gt\\-/, \"galaxy\"],\n      [/ sm\\-/, \"galaxy\"],\n      [/xbox/, \"xbox\"],\n      [/(?:bb\\d+)|(?:blackberry)|(?: rim )/, \"blackberry\"]\n    ]\n  };\n\n  var UNKNOWN = \"Unknown\";\n\n  var propertyNames = Object.keys(properties);\n\n  function Sniffr() {\n    var self = this;\n\n    propertyNames.forEach(function(propertyName) {\n      self[propertyName] = {\n        name: UNKNOWN,\n        version: [],\n        versionString: UNKNOWN\n      };\n    });\n  }\n\n  function determineProperty(self, propertyName, userAgent) {\n    properties[propertyName].forEach(function(propertyMatcher) {\n      var propertyRegex = propertyMatcher[0];\n      var propertyValue = propertyMatcher[1];\n\n      var match = userAgent.match(propertyRegex);\n\n      if (match) {\n        self[propertyName].name = propertyValue;\n\n        if (match[2]) {\n          self[propertyName].versionString = match[2];\n          self[propertyName].version = [];\n        } else if (match[1]) {\n          self[propertyName].versionString = match[1].replace(/_/g, \".\");\n          self[propertyName].version = parseVersion(match[1]);\n        } else {\n          self[propertyName].versionString = UNKNOWN;\n          self[propertyName].version = [];\n        }\n      }\n    });\n  }\n\n  function parseVersion(versionString) {\n    return versionString.split(/[\\._]/).map(function(versionPart) {\n      return parseInt(versionPart);\n    });\n  }\n\n  Sniffr.prototype.sniff = function(userAgentString) {\n    var self = this;\n    var userAgent = (userAgentString || navigator.userAgent || \"\").toLowerCase();\n\n    propertyNames.forEach(function(propertyName) {\n      determineProperty(self, propertyName, userAgent);\n    });\n  };\n\n\n  if (typeof module !== 'undefined' && module.exports) {\n    module.exports = Sniffr;\n  } else {\n    host.Sniffr = new Sniffr();\n    host.Sniffr.sniff(navigator.userAgent);\n  }\n})(this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/sniffr/src/sniffr.js\n// module id = 279\n// module chunks = 0","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\nvar stylesInDom = {},\n\tmemoize = function(fn) {\n\t\tvar memo;\n\t\treturn function () {\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\t\treturn memo;\n\t\t};\n\t},\n\tisOldIE = memoize(function() {\n\t\treturn /msie [6-9]\\b/.test(self.navigator.userAgent.toLowerCase());\n\t}),\n\tgetHeadElement = memoize(function () {\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\n\t}),\n\tsingletonElement = null,\n\tsingletonCounter = 0,\n\tstyleElementsInsertedAtTop = [],\n\tfixUrls = require(\"./fixUrls\");\n\nmodule.exports = function(list, options) {\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the bottom of <head>.\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list);\n\taddStylesToDom(styles, options);\n\n\treturn function update(newList) {\n\t\tvar mayRemove = [];\n\t\tfor(var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\n\t\t\t\t\tdomStyle.parts[j]();\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom(styles, options) {\n\tfor(var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles(list) {\n\tvar styles = [];\n\tvar newStyles = {};\n\tfor(var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\t\tif(!newStyles[id])\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse\n\t\t\tnewStyles[id].parts.push(part);\n\t}\n\treturn styles;\n}\n\nfunction insertStyleElement(options, styleElement) {\n\tvar head = getHeadElement();\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\n\tif (options.insertAt === \"top\") {\n\t\tif(!lastStyleElementInsertedAtTop) {\n\t\t\thead.insertBefore(styleElement, head.firstChild);\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\thead.appendChild(styleElement);\n\t\t}\n\t\tstyleElementsInsertedAtTop.push(styleElement);\n\t} else if (options.insertAt === \"bottom\") {\n\t\thead.appendChild(styleElement);\n\t} else {\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\n\t}\n}\n\nfunction removeStyleElement(styleElement) {\n\tstyleElement.parentNode.removeChild(styleElement);\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\n\tif(idx >= 0) {\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement(options) {\n\tvar styleElement = document.createElement(\"style\");\n\toptions.attrs.type = \"text/css\";\n\n\tattachTagAttrs(styleElement, options.attrs);\n\tinsertStyleElement(options, styleElement);\n\treturn styleElement;\n}\n\nfunction createLinkElement(options) {\n\tvar linkElement = document.createElement(\"link\");\n\toptions.attrs.type = \"text/css\";\n\toptions.attrs.rel = \"stylesheet\";\n\n\tattachTagAttrs(linkElement, options.attrs);\n\tinsertStyleElement(options, linkElement);\n\treturn linkElement;\n}\n\nfunction attachTagAttrs(element, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\telement.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle(obj, options) {\n\tvar styleElement, update, remove;\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\n\t} else if(obj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\") {\n\t\tstyleElement = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, styleElement, options);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t\tif(styleElement.href)\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\n\t\t};\n\t} else {\n\t\tstyleElement = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle(newObj) {\n\t\tif(newObj) {\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\n\t\t\t\treturn;\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = styleElement.childNodes;\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\n\t\tif (childNodes.length) {\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyleElement.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag(styleElement, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyleElement.setAttribute(\"media\", media)\n\t}\n\n\tif(styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = css;\n\t} else {\n\t\twhile(styleElement.firstChild) {\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\n\t\t}\n\t\tstyleElement.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink(linkElement, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/* If convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls){\n\t\tcss = fixUrls(css);\n\t}\n\n\tif(sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = linkElement.href;\n\n\tlinkElement.href = URL.createObjectURL(blob);\n\n\tif(oldSrc)\n\t\tURL.revokeObjectURL(oldSrc);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/style-loader/addStyles.js\n// module id = 280\n// module chunks = 0","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\tvar fixedCss = css.replace(/url *\\( *(.+?) *\\)/g, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/style-loader/fixUrls.js\n// module id = 281\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../css-loader/index.js!../../../sass-loader/lib/loader.js!./main.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../css-loader/index.js!../../../sass-loader/lib/loader.js!./main.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../css-loader/index.js!../../../sass-loader/lib/loader.js!./main.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/njp-tag/src/styles/main.scss\n// module id = 282\n// module chunks = 0","\nvar sprite = require(\"/Users/neilanderson/Sites/tag-lightshow/node_modules/svg-sprite-loader/lib/web/global-sprite\");\nvar image = \"<symbol viewBox=\\\"0 0 8 8\\\" id=\\\"icon-compass\\\" > <path d=\\\"M4 0c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4zm0 1c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm2 1l-3 1-1 3 3-1 1-3zm-2 1.5c.28 0 .5.22.5.5s-.22.5-.5.5-.5-.22-.5-.5.22-.5.5-.5z\\\"/> </symbol>\";\nmodule.exports = sprite.add(image, \"icon-compass\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/njp-tag/src/img/svg/compass.svg\n// module id = 288\n// module chunks = 0","\nvar sprite = require(\"/Users/neilanderson/Sites/tag-lightshow/node_modules/svg-sprite-loader/lib/web/global-sprite\");\nvar image = \"<symbol viewBox=\\\"0 0 8 8\\\" id=\\\"icon-lightbulb\\\" > <path d=\\\"M3.41 0a.5.5 0 0 0-.13.06l-3 1.5a.5.5 0 1 0 .44.88l3-1.5a.5.5 0 0 0-.31-.94zm1 1.5a.5.5 0 0 0-.13.06l-4 2a.5.5 0 1 0 .44.88l4-2a.5.5 0 0 0-.31-.94zm0 2a.5.5 0 0 0-.13.06l-3 1.5a.5.5 0 0 0 .22.94h2a.5.5 0 0 0 .16-1l1.06-.56a.5.5 0 0 0-.31-.94zm-2.56 3.5a.5.5 0 0 0 .16 1h1a.5.5 0 1 0 0-1h-1a.5.5 0 0 0-.09 0 .5.5 0 0 0-.06 0z\\\" transform=\\\"translate(1)\\\"/> </symbol>\";\nmodule.exports = sprite.add(image, \"icon-lightbulb\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/njp-tag/src/img/svg/lightbulb.svg\n// module id = 289\n// module chunks = 0","\nvar sprite = require(\"/Users/neilanderson/Sites/tag-lightshow/node_modules/svg-sprite-loader/lib/web/global-sprite\");\nvar image = \"<symbol viewBox=\\\"0 0 8 8\\\" id=\\\"icon-loop-circular\\\" > <path d=\\\"M4 0c-1.65 0-3 1.35-3 3h-1l1.5 2 1.5-2h-1c0-1.11.89-2 2-2v-1zm2.5 1l-1.5 2h1c0 1.11-.89 2-2 2v1c1.65 0 3-1.35 3-3h1l-1.5-2z\\\" transform=\\\"translate(0 1)\\\"/> </symbol>\";\nmodule.exports = sprite.add(image, \"icon-loop-circular\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/njp-tag/src/img/svg/loop-circular.svg\n// module id = 290\n// module chunks = 0","\nvar sprite = require(\"/Users/neilanderson/Sites/tag-lightshow/node_modules/svg-sprite-loader/lib/web/global-sprite\");\nvar image = \"<symbol viewBox=\\\"0 0 8 8\\\" id=\\\"icon-media-play\\\" > <path d=\\\"M0 0v6l6-3-6-3z\\\" transform=\\\"translate(1 1)\\\"/> </symbol>\";\nmodule.exports = sprite.add(image, \"icon-media-play\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/njp-tag/src/img/svg/media-play.svg\n// module id = 291\n// module chunks = 0","\nvar sprite = require(\"/Users/neilanderson/Sites/tag-lightshow/node_modules/svg-sprite-loader/lib/web/global-sprite\");\nvar image = \"<symbol viewBox=\\\"0 0 8 8\\\" id=\\\"icon-puzzle-piece\\\" > <path d=\\\"M3 0c-.28 0-.54.1-.72.28-.18.18-.28.44-.28.72 0 .28.18.48.28.72.03.06.03.16.03.28h-2.31v6h2.31c0-.12-.01-.22-.03-.28-.1-.24-.28-.44-.28-.72 0-.28.1-.54.28-.72.18-.18.44-.28.72-.28.28 0 .54.1.72.28.18.18.28.44.28.72 0 .28-.18.48-.28.72-.03.06-.03.16-.03.28h2.31v-2.31c.12 0 .22.01.28.03.24.1.44.28.72.28.28 0 .54-.1.72-.28.18-.18.28-.44.28-.72 0-.28-.1-.54-.28-.72-.18-.18-.44-.28-.72-.28-.28 0-.48.18-.72.28-.06.03-.16.03-.28.03v-2.31h-2.31c0-.12.01-.22.03-.28.1-.24.28-.44.28-.72 0-.28-.1-.54-.28-.72-.18-.18-.44-.28-.72-.28z\\\"/> </symbol>\";\nmodule.exports = sprite.add(image, \"icon-puzzle-piece\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/njp-tag/src/img/svg/puzzle-piece.svg\n// module id = 292\n// module chunks = 0","\nvar sprite = require(\"/Users/neilanderson/Sites/tag-lightshow/node_modules/svg-sprite-loader/lib/web/global-sprite\");\nvar image = \"<symbol viewBox=\\\"0 0 8 8\\\" id=\\\"icon-resize-width\\\" > <path d=\\\"M3 0l-3 2.5 3 2.5v-2h2v2l3-2.5-3-2.5v2h-2v-2z\\\" transform=\\\"translate(0 1)\\\"/> </symbol>\";\nmodule.exports = sprite.add(image, \"icon-resize-width\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/njp-tag/src/img/svg/resize-width.svg\n// module id = 293\n// module chunks = 0","\nvar sprite = require(\"/Users/neilanderson/Sites/tag-lightshow/node_modules/svg-sprite-loader/lib/web/global-sprite\");\nvar image = \"<symbol viewBox=\\\"0 0 8 8\\\" id=\\\"icon-tag\\\" > <path d=\\\"M0 0v3l5 5 3-3-5-5h-3zm2 1c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1z\\\"/> </symbol>\";\nmodule.exports = sprite.add(image, \"icon-tag\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/njp-tag/src/img/svg/tag.svg\n// module id = 294\n// module chunks = 0","\nvar sprite = require(\"/Users/neilanderson/Sites/tag-lightshow/node_modules/svg-sprite-loader/lib/web/global-sprite\");\nvar image = \"<symbol viewBox=\\\"0 0 8 8\\\" id=\\\"icon-text\\\" > <path d=\\\"M0 0v2h.5c0-.55.45-1 1-1h1.5v5.5c0 .28-.22.5-.5.5h-.5v1h4v-1h-.5c-.28 0-.5-.22-.5-.5v-5.5h1.5c.55 0 1 .45 1 1h.5v-2h-8z\\\"/> </symbol>\";\nmodule.exports = sprite.add(image, \"icon-text\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/njp-tag/src/img/svg/text.svg\n// module id = 295\n// module chunks = 0","var Sniffr = require('sniffr');\n\n/**\n * List of SVG attributes to fix url target in them\n * @type {string[]}\n */\nvar fixAttributes = [\n  'clipPath',\n  'colorProfile',\n  'src',\n  'cursor',\n  'fill',\n  'filter',\n  'marker',\n  'markerStart',\n  'markerMid',\n  'markerEnd',\n  'mask',\n  'stroke'\n];\n\n/**\n * Query to find'em\n * @type {string}\n */\nvar fixAttributesQuery = '[' + fixAttributes.join('],[') + ']';\n/**\n * @type {RegExp}\n */\nvar URI_FUNC_REGEX = /^url\\((.*)\\)$/;\n\n/**\n * Convert array-like to array\n * @param {Object} arrayLike\n * @returns {Array.<*>}\n */\nfunction arrayFrom(arrayLike) {\n  return Array.prototype.slice.call(arrayLike, 0);\n}\n\n/**\n * Handles forbidden symbols which cannot be directly used inside attributes with url(...) content.\n * Adds leading slash for the brackets\n * @param {string} url\n * @return {string} encoded url\n */\nfunction encodeUrlForEmbedding(url) {\n  return url.replace(/\\(|\\)/g, \"\\\\$&\");\n}\n\n/**\n * Replaces prefix in `url()` functions\n * @param {Element} svg\n * @param {string} currentUrlPrefix\n * @param {string} newUrlPrefix\n */\nfunction baseUrlWorkAround(svg, currentUrlPrefix, newUrlPrefix) {\n  var nodes = svg.querySelectorAll(fixAttributesQuery);\n\n  if (!nodes) {\n    return;\n  }\n\n  arrayFrom(nodes).forEach(function (node) {\n    if (!node.attributes) {\n      return;\n    }\n\n    arrayFrom(node.attributes).forEach(function (attribute) {\n      var attributeName = attribute.localName.toLowerCase();\n\n      if (fixAttributes.indexOf(attributeName) !== -1) {\n        var match = URI_FUNC_REGEX.exec(node.getAttribute(attributeName));\n\n        // Do not touch urls with unexpected prefix\n        if (match && match[1].indexOf(currentUrlPrefix) === 0) {\n          var referenceUrl = encodeUrlForEmbedding(newUrlPrefix + match[1].split(currentUrlPrefix)[1]);\n          node.setAttribute(attributeName, 'url(' + referenceUrl + ')');\n        }\n      }\n    });\n  });\n}\n\n/**\n * Because of Firefox bug #353575 gradients and patterns don't work if they are within a symbol.\n * To workaround this we move the gradient definition outside the symbol element\n * @see https://bugzilla.mozilla.org/show_bug.cgi?id=353575\n * @param {Element} svg\n */\nvar FirefoxSymbolBugWorkaround = function (svg) {\n  var defs = svg.querySelector('defs');\n\n  var moveToDefsElems = svg.querySelectorAll('symbol linearGradient, symbol radialGradient, symbol pattern');\n  for (var i = 0, len = moveToDefsElems.length; i < len; i++) {\n    defs.appendChild(moveToDefsElems[i]);\n  }\n};\n\n/**\n * Fix for browser (IE, maybe other too) which are throwing 'WrongDocumentError'\n * if you insert an element which is not part of the document\n * @see http://stackoverflow.com/questions/7981100/how-do-i-dynamically-insert-an-svg-image-into-html#7986519\n * @param {Element} svg\n */\nfunction importSvg(svg) {\n  try {\n    if (document.importNode) {\n      return document.importNode(svg, true);\n    }\n  } catch(e) {}\n\n  return svg;\n}\n\n/**\n * @type {string}\n */\nvar DEFAULT_URI_PREFIX = '#';\n\n/**\n * @type {string}\n */\nvar xLinkHref = 'xlink:href';\n/**\n * @type {string}\n */\nvar xLinkNS = 'http://www.w3.org/1999/xlink';\n/**\n * @type {string}\n */\nvar svgOpening = '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"' + xLinkNS + '\"';\n/**\n * @type {string}\n */\nvar svgClosing = '</svg>';\n/**\n * @type {string}\n */\nvar contentPlaceHolder = '{content}';\n\n/**\n * Representation of SVG sprite\n * @constructor\n */\nfunction Sprite() {\n  var baseElement = document.getElementsByTagName('base')[0];\n  var currentUrl = window.location.href.split('#')[0];\n  var baseUrl = baseElement && baseElement.href;\n  this.urlPrefix = baseUrl && baseUrl !== currentUrl ? currentUrl + DEFAULT_URI_PREFIX : DEFAULT_URI_PREFIX;\n\n  var sniffr = new Sniffr();\n  sniffr.sniff();\n  this.browser = sniffr.browser;\n  this.content = [];\n\n  if (this.browser.name !== 'ie' && baseUrl) {\n    window.addEventListener('spriteLoaderLocationUpdated', function (e) {\n      var currentPrefix = this.urlPrefix;\n      var newUrlPrefix = e.detail.newUrl.split(DEFAULT_URI_PREFIX)[0] + DEFAULT_URI_PREFIX;\n      baseUrlWorkAround(this.svg, currentPrefix, newUrlPrefix);\n      this.urlPrefix = newUrlPrefix;\n\n      if (this.browser.name === 'firefox' || this.browser.name === 'edge' || this.browser.name === 'chrome' && this.browser.version[0] >= 49) {\n        var nodes = arrayFrom(document.querySelectorAll('use[*|href]'));\n        nodes.forEach(function (node) {\n          var href = node.getAttribute(xLinkHref);\n          if (href && href.indexOf(currentPrefix) === 0) {\n            node.setAttributeNS(xLinkNS, xLinkHref, newUrlPrefix + href.split(DEFAULT_URI_PREFIX)[1]);\n          }\n        });\n      }\n    }.bind(this));\n  }\n}\n\nSprite.styles = ['position:absolute', 'width:0', 'height:0'];\n\nSprite.spriteTemplate = function(){ return svgOpening + ' style=\"'+ Sprite.styles.join(';') +'\"><defs>' + contentPlaceHolder + '</defs>' + svgClosing; }\nSprite.symbolTemplate = function() { return svgOpening + '>' + contentPlaceHolder + svgClosing; }\n\n/**\n * @type {Array<String>}\n */\nSprite.prototype.content = null;\n\n/**\n * @param {String} content\n * @param {String} id\n */\nSprite.prototype.add = function (content, id) {\n  if (this.svg) {\n    this.appendSymbol(content);\n  }\n\n  this.content.push(content);\n\n  return DEFAULT_URI_PREFIX + id;\n};\n\n/**\n *\n * @param content\n * @param template\n * @returns {Element}\n */\nSprite.prototype.wrapSVG = function (content, template) {\n  var svgString = template.replace(contentPlaceHolder, content);\n\n  var svg = new DOMParser().parseFromString(svgString, 'image/svg+xml').documentElement;\n  var importedSvg = importSvg(svg);\n\n  if (this.browser.name !== 'ie' && this.urlPrefix) {\n    baseUrlWorkAround(importedSvg, DEFAULT_URI_PREFIX, this.urlPrefix);\n  }\n\n  return importedSvg;\n};\n\nSprite.prototype.appendSymbol = function (content) {\n  var symbol = this.wrapSVG(content, Sprite.symbolTemplate()).childNodes[0];\n\n  this.svg.querySelector('defs').appendChild(symbol);\n  if (this.browser.name === 'firefox') {\n    FirefoxSymbolBugWorkaround(this.svg);\n  }\n};\n\n/**\n * @returns {String}\n */\nSprite.prototype.toString = function () {\n  var wrapper = document.createElement('div');\n  wrapper.appendChild(this.render());\n  return wrapper.innerHTML;\n};\n\n/**\n * @param {HTMLElement} [target]\n * @param {Boolean} [prepend=true]\n * @returns {HTMLElement} Rendered sprite node\n */\nSprite.prototype.render = function (target, prepend) {\n  target = target || null;\n  prepend = typeof prepend === 'boolean' ? prepend : true;\n\n  var svg = this.wrapSVG(this.content.join(''), Sprite.spriteTemplate());\n\n  if (this.browser.name === 'firefox') {\n    FirefoxSymbolBugWorkaround(svg);\n  }\n\n  if (target) {\n    if (prepend && target.childNodes[0]) {\n      target.insertBefore(svg, target.childNodes[0]);\n    } else {\n      target.appendChild(svg);\n    }\n  }\n\n  this.svg = svg;\n\n  return svg;\n};\n\nmodule.exports = Sprite;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/svg-sprite-loader/lib/web/sprite.js\n// module id = 296\n// module chunks = 0","const App = require('njp-tag').default;\n\nvar app = new App({\n\tonElementRender: function(markup, droplet, zone, is_output) {\n\t\tif (droplet.name === 'Letter button' && is_output) {\n\t\t\tmarkup.innerHTML = '<span>' + markup.innerHTML + '</span>';\n\t\t}\n\n\t\treturn markup;\n\t}\n});\n\napp.load(\n\t'templates/default.html',\n\t'templates/pallet.json'\n).catch((error) => {\n\tconsole.error(error);\n});\n\n\n// WEBPACK FOOTER //\n// ./src/js/tag.js"],"sourceRoot":""}